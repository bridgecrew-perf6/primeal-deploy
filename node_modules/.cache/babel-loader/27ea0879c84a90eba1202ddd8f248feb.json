{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryany\\\\OneDrive\\\\\\u684C\\u9762\\\\primeal\\\\src\\\\pages\\\\customize\\\\components\\\\MtlLBtn.js\";\nimport config from '../../../Config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MtlLBtn(props) {\n  const {\n    mtl_id,\n    mtl_name,\n    mtl_img_path,\n    mtlActive,\n    setMtlActive,\n    addclass,\n    mtl_3d_img_path,\n    mtl_3d_normalmap_img_path,\n    altTotal,\n    indexTotal,\n    setIndexTotal,\n    sushiGroup,\n    setSushiGroup\n  } = props; // 總層數加法\n\n  const countTotal = arr => {\n    const totalPct = arr.map(pct => pct.mtlPct);\n    return totalPct.reduce((x, y) => x + y);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mtlLBtn col-8 my-3\",\n    onClick: () => {\n      if (countTotal(mtlActive) >= 10) {\n        return false;\n      }\n\n      const newList = [...mtlActive];\n      newList.unshift({\n        mtlId: mtl_id,\n        mtlPct: 1\n      }); // setMtlActive([mtl_id, ...mtlActive]);\n\n      setMtlActive(newList); // 3D 增加單層\n\n      setIndexTotal(indexTotal + 1);\n      setSushiGroup([...sushiGroup, {\n        map: config.HOST + mtl_3d_img_path,\n        normalMap: config.HOST + mtl_3d_normalmap_img_path,\n        height: 0.125,\n        // 單層高度\n        alt: altTotal * 0.125,\n        // 預設增加高度\n        fixIndex: indexTotal + 1\n      }]);\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mtlimg\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `${config.HOST}${mtl_img_path}`,\n        alt: mtl_name,\n        className: addclass ? 'imgActive' : 'imgActiveNone'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mtlname\",\n      children: mtl_name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n\n_c = MtlLBtn;\nexport default MtlLBtn;\n\nvar _c;\n\n$RefreshReg$(_c, \"MtlLBtn\");","map":{"version":3,"sources":["C:/Users/ryany/OneDrive/桌面/primeal/src/pages/customize/components/MtlLBtn.js"],"names":["config","MtlLBtn","props","mtl_id","mtl_name","mtl_img_path","mtlActive","setMtlActive","addclass","mtl_3d_img_path","mtl_3d_normalmap_img_path","altTotal","indexTotal","setIndexTotal","sushiGroup","setSushiGroup","countTotal","arr","totalPct","map","pct","mtlPct","reduce","x","y","newList","unshift","mtlId","HOST","normalMap","height","alt","fixIndex"],"mappings":";AAAA,OAAOA,MAAP,MAAmB,iBAAnB;;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AACtB,QAAM;AACJC,IAAAA,MADI;AAEJC,IAAAA,QAFI;AAGJC,IAAAA,YAHI;AAIJC,IAAAA,SAJI;AAKJC,IAAAA,YALI;AAMJC,IAAAA,QANI;AAOJC,IAAAA,eAPI;AAQJC,IAAAA,yBARI;AASJC,IAAAA,QATI;AAUJC,IAAAA,UAVI;AAWJC,IAAAA,aAXI;AAYJC,IAAAA,UAZI;AAaJC,IAAAA;AAbI,MAcFb,KAdJ,CADsB,CAiBtB;;AACA,QAAMc,UAAU,GAAGC,GAAG,IAAI;AACxB,UAAMC,QAAQ,GAAGD,GAAG,CAACE,GAAJ,CAAQC,GAAG,IAAIA,GAAG,CAACC,MAAnB,CAAjB;AACA,WAAOH,QAAQ,CAACI,MAAT,CAAgB,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAA9B,CAAP;AACD,GAHD;;AAKA,sBACE;AACE,IAAA,SAAS,EAAC,oBADZ;AAEE,IAAA,OAAO,EAAE,MAAM;AACb,UAAIR,UAAU,CAACV,SAAD,CAAV,IAAyB,EAA7B,EAAiC;AAC/B,eAAO,KAAP;AACD;;AACD,YAAMmB,OAAO,GAAG,CAAC,GAAGnB,SAAJ,CAAhB;AACAmB,MAAAA,OAAO,CAACC,OAAR,CAAgB;AAAEC,QAAAA,KAAK,EAAExB,MAAT;AAAiBkB,QAAAA,MAAM,EAAE;AAAzB,OAAhB,EALa,CAMb;;AACAd,MAAAA,YAAY,CAACkB,OAAD,CAAZ,CAPa,CASb;;AACAZ,MAAAA,aAAa,CAACD,UAAU,GAAG,CAAd,CAAb;AACAG,MAAAA,aAAa,CAAC,CACZ,GAAGD,UADS,EAEZ;AACEK,QAAAA,GAAG,EAAEnB,MAAM,CAAC4B,IAAP,GAAcnB,eADrB;AAEEoB,QAAAA,SAAS,EAAE7B,MAAM,CAAC4B,IAAP,GAAclB,yBAF3B;AAGEoB,QAAAA,MAAM,EAAE,KAHV;AAGiB;AACfC,QAAAA,GAAG,EAAEpB,QAAQ,GAAG,KAJlB;AAIyB;AACvBqB,QAAAA,QAAQ,EAAEpB,UAAU,GAAG;AALzB,OAFY,CAAD,CAAb;AAUD,KAvBH;AAAA,4BAyBE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,6BACE;AACE,QAAA,GAAG,EAAG,GAAEZ,MAAM,CAAC4B,IAAK,GAAEvB,YAAa,EADrC;AAEE,QAAA,GAAG,EAAED,QAFP;AAGE,QAAA,SAAS,EAAEI,QAAQ,GAAG,WAAH,GAAiB;AAHtC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAzBF,eAgCE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA,gBAA0BJ;AAA1B;AAAA;AAAA;AAAA;AAAA,YAhCF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAoCD;;KA3DQH,O;AA6DT,eAAeA,OAAf","sourcesContent":["import config from '../../../Config';\r\n\r\nfunction MtlLBtn(props) {\r\n  const {\r\n    mtl_id,\r\n    mtl_name,\r\n    mtl_img_path,\r\n    mtlActive,\r\n    setMtlActive,\r\n    addclass,\r\n    mtl_3d_img_path,\r\n    mtl_3d_normalmap_img_path,\r\n    altTotal,\r\n    indexTotal,\r\n    setIndexTotal,\r\n    sushiGroup,\r\n    setSushiGroup,\r\n  } = props;\r\n\r\n  // 總層數加法\r\n  const countTotal = arr => {\r\n    const totalPct = arr.map(pct => pct.mtlPct);\r\n    return totalPct.reduce((x, y) => x + y);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"mtlLBtn col-8 my-3\"\r\n      onClick={() => {\r\n        if (countTotal(mtlActive) >= 10) {\r\n          return false;\r\n        }\r\n        const newList = [...mtlActive];\r\n        newList.unshift({ mtlId: mtl_id, mtlPct: 1 });\r\n        // setMtlActive([mtl_id, ...mtlActive]);\r\n        setMtlActive(newList);\r\n\r\n        // 3D 增加單層\r\n        setIndexTotal(indexTotal + 1);\r\n        setSushiGroup([\r\n          ...sushiGroup,\r\n          {\r\n            map: config.HOST + mtl_3d_img_path,\r\n            normalMap: config.HOST + mtl_3d_normalmap_img_path,\r\n            height: 0.125, // 單層高度\r\n            alt: altTotal * 0.125, // 預設增加高度\r\n            fixIndex: indexTotal + 1,\r\n          },\r\n        ]);\r\n      }}\r\n    >\r\n      <div className=\"mtlimg\">\r\n        <img\r\n          src={`${config.HOST}${mtl_img_path}`}\r\n          alt={mtl_name}\r\n          className={addclass ? 'imgActive' : 'imgActiveNone'}\r\n        />\r\n      </div>\r\n      <div className=\"mtlname\">{mtl_name}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MtlLBtn;\r\n"]},"metadata":{},"sourceType":"module"}