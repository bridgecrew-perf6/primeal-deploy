{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryany\\\\OneDrive\\\\\\u684C\\u9762\\\\primeal\\\\src\\\\pages\\\\share\\\\components\\\\EditForm.js\",\n    _s = $RefreshSig$();\n\nimport styles from '../Share.module.scss';\nimport { ReactComponent as Plus } from '../../../imgs/plus.svg';\nimport { ReactComponent as DeleteSm } from '../../../imgs/del.svg';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst EditForm = props => {\n  _s();\n\n  const {\n    formState,\n    setFormState,\n    tagsInput,\n    foundTags,\n    setTagsInput,\n    orderName,\n    errorState,\n    setErrorState,\n    files,\n    formIsValid\n  } = props;\n\n  const tagsAreaHandler = () => {\n    if (tagsInput.length && foundTags.length) {\n      return foundTags.map((tag, i) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${styles['hash-tag-red']}`,\n          onClick: e => setFormState({ ...formState,\n            tags: checkSelectedTags(e)\n          }),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `d-flex align-items-center`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `${styles['hashtag-tag-text']} ch-cont-14`,\n              children: tag.item_hash\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 13\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 11\n        }, this);\n      });\n    }\n  };\n\n  const selectedTagsHandler = () => {\n    if (formState.tags.length === 0) {\n      return '';\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex mt-4 flex-wrap\",\n        children: formState.tags.map((tag, i) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${styles['filter-hashtag-tag']} d-flex align-items-center`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `${styles['hashtag-tag-text']} ch-cont-14 mr-2`,\n              children: tag\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(DeleteSm, {\n              style: {\n                cursor: 'pointer'\n              },\n              onClick: e => setFormState({ ...formState,\n                tags: checkRemovedTags(e)\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  const checkRemovedTags = e => formState.tags.filter(tag => tag !== e.target.previousSibling.innerText);\n\n  const checkSelectedTags = e => {\n    const isSelected = formState.tags.some(tag => tag === e.target.innerText);\n\n    if (!isSelected) {\n      console.log(e.target.innerText);\n      return [...formState.tags, e.target.innerText];\n    } else {\n      return formState.tags;\n    }\n  };\n\n  const createSelectedTags = e => {\n    return [...formState.tags, e.target.previousSibling.value];\n  };\n\n  const tagsInputHandler = e => {\n    const value = e.target.value;\n\n    if (value) {\n      setTagsInput([{\n        tagInput: e.target.value\n      }]);\n    } else {\n      setTagsInput([]);\n    }\n  };\n\n  const formChangeHandler = e => {\n    setFormState({ ...formState,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  useEffect(() => {\n    if (!formIsValid) {\n      const errorOutput = {\n        title: '',\n        content: '',\n        files: ''\n      };\n\n      if (!formState.title) {\n        errorOutput.title = '請為貼文填寫標題';\n      }\n\n      if (!formState.content) {\n        errorOutput.content = '請填寫分享內容';\n      }\n\n      if (files.length === 0) {\n        errorOutput.files = '請至少分享一張照片';\n      }\n\n      setErrorState(errorOutput);\n    }\n  }, [formState, files, formIsValid]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `mb-4 form-group`,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"title\",\n        className: \"ch-cont-14\",\n        children: \"\\u6A19\\u984C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: `${styles['share-input']} form-control`,\n        name: \"title\",\n        id: \"title\",\n        placeholder: orderName,\n        onChange: e => formChangeHandler(e),\n        value: formState.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-primary my-2\",\n        children: errorState.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"content\",\n        className: \"ch-cont-14\",\n        children: \"\\u5167\\u6587\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"form-control\",\n        name: \"content\",\n        id: \"content\",\n        rows: 5,\n        onChange: e => formChangeHandler(e),\n        value: formState.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-primary my-2\",\n        children: errorState.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${styles['tag-form']} form-group mb-5`,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"tag\",\n        className: \"ch-cont-14\",\n        children: \"\\u6A19\\u7C64\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${styles['tag-input']}`,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: `${styles['share-input']} form-control`,\n          name: \"tag\",\n          id: \"tag\",\n          onChange: e => tagsInputHandler(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Plus, {\n          className: `${styles['tag-input-plus']}`,\n          onClick: e => setFormState({ ...formState,\n            tags: createSelectedTags(e)\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), selectedTagsHandler(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${styles['hashtag-box']} d-flex mt-4 flex-wrap`,\n        children: tagsAreaHandler()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(EditForm, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = EditForm;\nexport default EditForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditForm\");","map":{"version":3,"sources":["C:/Users/ryany/OneDrive/桌面/primeal/src/pages/share/components/EditForm.js"],"names":["styles","ReactComponent","Plus","DeleteSm","useEffect","EditForm","props","formState","setFormState","tagsInput","foundTags","setTagsInput","orderName","errorState","setErrorState","files","formIsValid","tagsAreaHandler","length","map","tag","i","e","tags","checkSelectedTags","item_hash","selectedTagsHandler","cursor","checkRemovedTags","filter","target","previousSibling","innerText","isSelected","some","console","log","createSelectedTags","value","tagsInputHandler","tagInput","formChangeHandler","name","errorOutput","title","content"],"mappings":"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","sourcesContent":["import styles from '../Share.module.scss';\r\n\r\nimport { ReactComponent as Plus } from '../../../imgs/plus.svg';\r\nimport { ReactComponent as DeleteSm } from '../../../imgs/del.svg';\r\nimport { useEffect } from 'react';\r\n\r\nconst EditForm = props => {\r\n  const {\r\n    formState,\r\n    setFormState,\r\n    tagsInput,\r\n    foundTags,\r\n    setTagsInput,\r\n    orderName,\r\n    errorState,\r\n    setErrorState,\r\n    files,\r\n    formIsValid,\r\n  } = props;\r\n\r\n  const tagsAreaHandler = () => {\r\n    if (tagsInput.length && foundTags.length) {\r\n      return foundTags.map((tag, i) => {\r\n        return (\r\n          <div\r\n            key={i}\r\n            className={`${styles['hash-tag-red']}`}\r\n            onClick={e =>\r\n              setFormState({ ...formState, tags: checkSelectedTags(e) })\r\n            }\r\n          >\r\n            <div className={`d-flex align-items-center`}>\r\n              <div className={`${styles['hashtag-tag-text']} ch-cont-14`}>\r\n                {tag.item_hash}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      });\r\n    }\r\n  };\r\n\r\n  const selectedTagsHandler = () => {\r\n    if (formState.tags.length === 0) {\r\n      return '';\r\n    } else {\r\n      return (\r\n        <div className=\"d-flex mt-4 flex-wrap\">\r\n          {formState.tags.map((tag, i) => {\r\n            return (\r\n              <div\r\n                key={i}\r\n                className={`${styles['filter-hashtag-tag']} d-flex align-items-center`}\r\n              >\r\n                <div\r\n                  className={`${styles['hashtag-tag-text']} ch-cont-14 mr-2`}\r\n                >\r\n                  {tag}\r\n                </div>\r\n                <DeleteSm\r\n                  style={{ cursor: 'pointer' }}\r\n                  onClick={e =>\r\n                    setFormState({ ...formState, tags: checkRemovedTags(e) })\r\n                  }\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const checkRemovedTags = e =>\r\n    formState.tags.filter(tag => tag !== e.target.previousSibling.innerText);\r\n\r\n  const checkSelectedTags = e => {\r\n    const isSelected = formState.tags.some(tag => tag === e.target.innerText);\r\n    if (!isSelected) {\r\n      console.log(e.target.innerText);\r\n      return [...formState.tags, e.target.innerText];\r\n    } else {\r\n      return formState.tags;\r\n    }\r\n  };\r\n\r\n  const createSelectedTags = e => {\r\n    return [...formState.tags, e.target.previousSibling.value];\r\n  };\r\n\r\n  const tagsInputHandler = e => {\r\n    const value = e.target.value;\r\n    if (value) {\r\n      setTagsInput([{ tagInput: e.target.value }]);\r\n    } else {\r\n      setTagsInput([]);\r\n    }\r\n  };\r\n\r\n  const formChangeHandler = e => {\r\n    setFormState({\r\n      ...formState,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!formIsValid) {\r\n      const errorOutput = {\r\n        title: '',\r\n        content: '',\r\n        files: '',\r\n      };\r\n\r\n      if (!formState.title) {\r\n        errorOutput.title = '請為貼文填寫標題';\r\n      }\r\n      if (!formState.content) {\r\n        errorOutput.content = '請填寫分享內容';\r\n      }\r\n      if (files.length === 0) {\r\n        errorOutput.files = '請至少分享一張照片';\r\n      }\r\n\r\n      setErrorState(errorOutput);\r\n    }\r\n  }, [formState, files, formIsValid]);\r\n\r\n  return (\r\n    <>\r\n      <div className={`mb-4 form-group`}>\r\n        <label htmlFor=\"title\" className=\"ch-cont-14\">\r\n          標題\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          className={`${styles['share-input']} form-control`}\r\n          name=\"title\"\r\n          id=\"title\"\r\n          placeholder={orderName}\r\n          onChange={e => formChangeHandler(e)}\r\n          value={formState.title}\r\n        />\r\n        <div className=\"text-primary my-2\">{errorState.title}</div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"content\" className=\"ch-cont-14\">\r\n          內文\r\n        </label>\r\n        <textarea\r\n          className=\"form-control\"\r\n          name=\"content\"\r\n          id=\"content\"\r\n          rows={5}\r\n          onChange={e => formChangeHandler(e)}\r\n          value={formState.content}\r\n        />\r\n        <div className=\"text-primary my-2\">{errorState.content}</div>\r\n      </div>\r\n      <div className={`${styles['tag-form']} form-group mb-5`}>\r\n        <label htmlFor=\"tag\" className=\"ch-cont-14\">\r\n          標籤\r\n        </label>\r\n        <div className={`${styles['tag-input']}`}>\r\n          <input\r\n            type=\"text\"\r\n            className={`${styles['share-input']} form-control`}\r\n            name=\"tag\"\r\n            id=\"tag\"\r\n            onChange={e => tagsInputHandler(e)}\r\n          />\r\n          <Plus\r\n            className={`${styles['tag-input-plus']}`}\r\n            onClick={e =>\r\n              setFormState({\r\n                ...formState,\r\n                tags: createSelectedTags(e),\r\n              })\r\n            }\r\n          />\r\n        </div>\r\n        {/* tags area */}\r\n        {selectedTagsHandler()}\r\n        <div className={`${styles['hashtag-box']} d-flex mt-4 flex-wrap`}>\r\n          {tagsAreaHandler()}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditForm;\r\n"]},"metadata":{},"sourceType":"module"}