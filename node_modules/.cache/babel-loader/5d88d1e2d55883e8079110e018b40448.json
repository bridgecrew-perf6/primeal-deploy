{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryany\\\\OneDrive\\\\\\u684C\\u9762\\\\primeal\\\\src\\\\pages\\\\cart\\\\StepOne.js\",\n    _s = $RefreshSig$();\n\n//cart/StepOne.js\nimport { getCartCount } from '../../utils';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Header, Title, AsideLeft, AsideRight, Footer } from '../layout/Layout'; // import ProdItem from '././components/ProdItem';\n\nimport NavPage from '../layout/components/NavPage';\nimport config from '../../Config';\nimport { useState, useEffect } from 'react';\nimport { getCart } from '../../utils';\nimport { Button, Modal } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction StepOne(props) {\n  _s();\n\n  var _list$set2, _list$cs2, _list$cm2;\n\n  // NAV BAR 使用 蓋版漢堡\n  const showBlock = {\n    display: 'block'\n  };\n  const hiddenBlock = {\n    display: 'none'\n  };\n  const {\n    navIsOpen,\n    setNavIsOpen\n  } = props; // 解構\n  // 回上一頁 按鈕\n\n  let history = useHistory();\n  const [list, setList] = useState({}); //總資料\n\n  const [prodCount, setProdCount] = useState(0); //商品總數\n\n  const [printTime, setPrintTime] = useState(0); //商品總印製時間(秒)\n\n  const [amount, setAmount] = useState(0); //商品總價\n\n  const [deleteProd, setDeleteProd] = useState([]); //被刪除的商品\n\n  const [inputCredit, setInputCredit] = useState(0); //自行輸入的折扣金額\n\n  const [cart_id, setCart_id] = useState(0); // 取得cart id\n\n  const [discountTotal, setDiscountTotal] = useState([]); // 會員可以折抵積分提示欄位\n\n  const [changeCartCount, setChangeCartCount] = useState(0); // 要知道什麼時候更改購物車的數量\n  // 接資料要post 到DB的\n\n  const [inputSum, setInputSum] = useState({\n    cart_value: amount,\n    cart_credit: '' || null,\n    cart_total_print_time: printTime\n  }); // console.log('34 inputSum', inputSum);\n  // 判斷有沒有購物車內容\n\n  useEffect(() => {\n    // 取得cart_id\n    const getInit = async () => {\n      const Cid = await getCart();\n      setCart_id(+Cid.cartid);\n    };\n\n    getInit();\n\n    const getList = async () => {\n      const memid = localStorage.getItem('mem_id'); //判斷會員有無登入 有登入才去找 get_CART_ORDER\n\n      if (memid !== null) {\n        const res = await fetch(config.GET_CART_ORDER + `${memid}`);\n        const obj = await res.json();\n\n        if (obj.success) {\n          //購物車有商品才繼續做\n          //初始化購物車訂單資料\n          setList(obj.data);\n          setInputSum({\n            cart_value: amount,\n            cart_credit: inputCredit,\n            cart_total_print_time: printTime\n          });\n          console.log('60', inputSum); // 第一步 撈資料時就先計算總金額 總印製時間 總商品數量\n\n          let count = 0;\n          let time = 0;\n          let total = 0;\n          obj.data.cs.forEach(d => {\n            count += d.orders_amount;\n            time += d.orders_print_time * d.orders_amount;\n            total += d.orders_value * d.orders_amount;\n          });\n          obj.data.cm.forEach(d => {\n            count += d.orders_amount;\n            time += d.orders_print_time * d.orders_amount;\n            total += d.orders_value * d.orders_amount;\n          });\n          obj.data.set.forEach(d => {\n            count += d.orders_amount;\n            time += d.orders_print_time * d.orders_amount;\n            total += d.orders_value * d.orders_amount;\n          }); //初始化總計\n\n          setProdCount(count);\n          setPrintTime(time);\n          setAmount(total);\n        } else {\n          //購物車無商品則導頁\n          history.push('/cart/cartlist');\n        }\n      } else {\n        //會員未登入則導頁\n        history.push('/cart/cartlist');\n      }\n    };\n\n    getList(); // 取得可以折抵的折扣金額\n\n    const getDiscount = async () => {\n      const memid = localStorage.getItem('mem_id');\n      const res = await fetch(config.GET_CART_DISCOUNT + `${memid}`);\n      const obj = await res.json();\n      console.log('getDiscount obj:', obj); // console.log('getDiscount obj  ARRRR:', obj.result[0].mem_credit);\n\n      setDiscountTotal(obj.result[0].mem_credit); // console.log(discountTotal);\n    };\n\n    getDiscount();\n  }, []); //每當有商品被刪除時，就來判斷購物車是否還有商品，都沒有了就導頁\n\n  useEffect(() => {\n    const getList = async () => {\n      const memid = localStorage.getItem('mem_id');\n\n      if (memid !== null) {\n        //判斷會員有無登入\n        const res = await fetch(config.GET_CART_ORDER + `${memid}`);\n        const obj = await res.json();\n\n        if (obj.success) {\n          setInputSum({\n            cart_value: amount,\n            cart_credit: inputCredit,\n            cart_total_print_time: printTime\n          }); // console.log('110', inputSum);\n          //刪除商品成功後購物車仍有商品，則不做任何事\n        } else {\n          //購物車無商品則導頁\n          history.push('/cart/cartlist');\n        }\n      } else {\n        //會員未登入則導頁\n        history.push('/cart/cartlist');\n      }\n    };\n\n    getList();\n  }, [deleteProd]); // 當有變數量或金額時 設定回去\n\n  useEffect(() => {\n    setInputSum({ ...inputSum,\n      cart_value: amount,\n      cart_total_print_time: printTime\n    });\n  }, [amount, printTime]); // 有購物車品項後去計算 商品總價 總印製時間 商品數量\n\n  useEffect(() => {\n    var _list$cs, _list$cm, _list$set;\n\n    let count = 0;\n    let time = 0;\n    let total = 0;\n    (_list$cs = list.cs) === null || _list$cs === void 0 ? void 0 : _list$cs.forEach(d => {\n      // console.log('71 cs _ptime', d.orders_print_time);\n      count += d.orders_amount;\n      time += d.orders_print_time * d.orders_amount;\n      total += d.orders_value * d.orders_amount;\n    });\n    (_list$cm = list.cm) === null || _list$cm === void 0 ? void 0 : _list$cm.forEach(d => {\n      // console.log('77 cm _ptime', d.orders_print_time);\n      count += d.orders_amount;\n      time += d.orders_print_time * d.orders_amount;\n      total += d.orders_value * d.orders_amount;\n    });\n    (_list$set = list.set) === null || _list$set === void 0 ? void 0 : _list$set.forEach(d => {\n      // console.log('83 set _ptime', d.orders_print_time);\n      count += d.orders_amount;\n      time += d.orders_print_time * d.orders_amount;\n      total += d.orders_value * d.orders_amount;\n    });\n    setProdCount(count);\n    setPrintTime(time);\n    setAmount(total);\n  }, [list]); // 提交\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const memid = localStorage.getItem('mem_id'); //取得 mem id 從localstorage\n\n    setInputSum(inputSum); // 把下面的總計數量設定回去\n    // console.log('summaryone');\n\n    console.log('210', inputSum); //  POST 要傳的直設定回去\n    // fetch\n\n    const r = fetch(config.POST_CART_SUMMARY + `${memid}/${cart_id}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(inputSum)\n    }).then(r => r.json()).then(obj => {\n      console.log(obj);\n\n      if (obj.success) {\n        console.log(obj.success); // 有成功更新頁面才轉向\n\n        history.push('/cart/steptwo');\n      } else {\n        alert('資料錯誤請重新輸入！');\n      }\n    });\n  }; //改變cm數量輸入欄\n\n\n  const changeCMCount = (count, pid) => {\n    // 先拷貝一層\n    const newData = [...list.cm]; // 找出要的/點到的pid 跟 map 出來的484 同一個\n\n    const data = newData.find(cm => cm.product_id == pid); // 找出 點到的product_id 是在 陣列中的第幾個 (在 cm 的陣列中 可能會有多個商品)\n\n    const index = newData.findIndex(cm => cm.product_id == pid); // newData 用splice 去分割 抓到是第幾個index 淺層拷貝並覆寫\n\n    newData.splice(index, 1, { ...data,\n      orders_amount: +count\n    });\n    setList({ ...list,\n      cm: newData\n    });\n  }; //減少cm數量(-1)\n\n\n  const minusCMCount = pid => {\n    /*\r\n    const newData = [...countcm];\r\n    const data = newData.find(cm => cm.product_id == pid);\r\n    const index = newData.findIndex(cm => cm.product_id == pid);\r\n    newData.splice(index, 1, {\r\n      ...data,\r\n      orders_amount: +data.orders_amount - 1,\r\n    });\r\n    */\n    // 新德的寫法\n    //先拷貝一個陣列\n    const newData = [...list.cm]; // 用陣列做map\n\n    const newData2 = newData.map(v => {\n      // 當pid == map 出來的 product id 時\n      if (pid === v.product_id) {\n        //當 商品數量選購數量大於1時\n        if (v.orders_amount > 1) {\n          //回傳 -1\n          return { ...v,\n            orders_amount: +v.orders_amount - 1\n          };\n        }\n      } //\n\n\n      return { ...v\n      };\n    });\n    setList({ ...list,\n      cm: newData2\n    });\n  }; //增加cm數量(+1)\n\n\n  const addCMCount = pid => {\n    const newData = [...list.cm];\n    const data = newData.find(cm => cm.product_id == pid);\n    const index = newData.findIndex(cm => cm.product_id == pid);\n    newData.splice(index, 1, { ...data,\n      orders_amount: +data.orders_amount + 1\n    });\n    setList({ ...list,\n      cm: newData\n    });\n  }; //改變cs數量輸入欄\n\n\n  const changeCSCount = (count, pid) => {\n    const newData = [...list.cs];\n    const data = newData.find(cs => cs.product_id == pid);\n    const index = newData.findIndex(cs => cs.product_id == pid);\n    newData.splice(index, 1, { ...data,\n      orders_amount: +count\n    });\n    setList({ ...list,\n      cs: newData\n    });\n  }; //減少cs數量(-1)\n\n\n  const minusCSCount = pid => {\n    // const newData = [...countcs];\n    // const data = newData.find(cs => cs.product_id == pid);\n    // const index = newData.findIndex(cs => cs.product_id == pid);\n    // newData.splice(index, 1, {\n    //   ...data,\n    //   orders_amount: +data.orders_amount - 1,\n    // });\n    const newData = [...list.cs];\n    const newData2 = newData.map(v => {\n      if (pid === v.product_id) {\n        if (v.orders_amount > 1) {\n          return { ...v,\n            orders_amount: +v.orders_amount - 1\n          };\n        }\n      }\n\n      return { ...v\n      };\n    });\n    setList({ ...list,\n      cs: newData2\n    });\n  }; //增加cs數量(+1)\n\n\n  const addCSCount = pid => {\n    const newData = [...list.cs];\n    const data = newData.find(cs => cs.product_id == pid);\n    const index = newData.findIndex(cs => cs.product_id == pid);\n    newData.splice(index, 1, { ...data,\n      orders_amount: +data.orders_amount + 1\n    });\n    console.log(newData);\n    setList({ ...list,\n      cs: newData\n    });\n  }; //改變set數量輸入欄\n\n\n  const changeSETCount = (count, pid) => {\n    const newData = [...list.set];\n    const data = newData.find(set => set.product_id == pid);\n    const index = newData.findIndex(set => set.product_id == pid);\n    newData.splice(index, 1, { ...data,\n      orders_amount: +count\n    });\n    setList({ ...list,\n      set: newData\n    });\n  }; //減少set數量(-1)\n\n\n  const minusSETCount = pid => {\n    // const newData = [...countset];\n    // const data = newData.find(set => set.product_id == pid);\n    // const index = newData.findIndex(set => set.product_id == pid);\n    // newData.splice(index, 1, {\n    //   ...data,\n    //   orders_amount: +data.orders_amount - 1,\n    // });\n    const newData = [...list.set];\n    const newData2 = newData.map(v => {\n      if (pid === v.product_id) {\n        if (v.orders_amount > 1) {\n          return { ...v,\n            orders_amount: +v.orders_amount - 1\n          };\n        }\n      }\n\n      return { ...v\n      };\n    });\n    setList({ ...list,\n      set: newData2\n    });\n  }; //增加set數量(+1)\n\n\n  const addSETCount = pid => {\n    const newData = [...list.set];\n    const data = newData.find(set => set.product_id == pid);\n    const index = newData.findIndex(set => set.product_id == pid);\n    newData.splice(index, 1, { ...data,\n      orders_amount: +data.orders_amount + 1\n    });\n    setList({ ...list,\n      set: newData\n    });\n  }; //刪除商品\n\n\n  const deleteProdFun = async (pid, category) => {\n    const mid = localStorage.getItem('mem_id');\n    const cartInfo = await getCart();\n    const cartid = cartInfo.cartid;\n    const prodid = pid;\n\n    switch (category) {\n      case 'set':\n        let newSetData = [...list.set];\n        newSetData = newSetData.filter(d => d.product_id !== +prodid); //pid相等的是要刪掉的，所以要回傳不相等的\n\n        setList({ ...list,\n          set: newSetData\n        });\n        let newSetArr = [...deleteProd];\n        newSetArr.push({\n          pid: pid,\n          category: category\n        });\n        fetch(config.DELETE_CART_PROD, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            memId: mid,\n            cartid: cartid,\n            pid: prodid,\n            category: category\n          })\n        }).then(res => res.json()).then(async d => {\n          await getCartCount(+localStorage.getItem('mem_id')); // cartcount 數字改變\n\n          setChangeCartCount(changeCartCount + 1); // 狀態要改變\n\n          setDeleteProd(newSetArr);\n        });\n        break;\n\n      case 'cs':\n        // console.log('delShowCS.id:', delShowCS.id);\n        // const pid = delShowCS.id;\n        let newCsData = [...list.cs];\n        newCsData = newCsData.filter(d => d.product_id !== +prodid); //pid相等的是要刪掉的，所以要回傳不相等的\n\n        setList({ ...list,\n          cs: newCsData\n        });\n        let newCsArr = [...deleteProd];\n        newCsArr.push({\n          pid: pid,\n          category: category\n        });\n        fetch(config.DELETE_CART_PROD, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            memId: mid,\n            cartid: cartid,\n            pid: prodid,\n            category: category\n          })\n        }).then(res => res.json()).then(async d => {\n          await getCartCount(+localStorage.getItem('mem_id'));\n          setChangeCartCount(changeCartCount + 1);\n          setDeleteProd(newCsArr);\n        });\n        break;\n\n      case 'cm':\n        let newCmData = [...list.cm];\n        newCmData = newCmData.filter(d => d.product_id !== +prodid); //pid相等的是要刪掉的，所以要回傳不相等的\n\n        setList({ ...list,\n          cm: newCmData\n        });\n        let newCmArr = [...deleteProd];\n        newCmArr.push({\n          pid: pid,\n          category: category\n        });\n        fetch(config.DELETE_CART_PROD, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            memId: mid,\n            cartid: cartid,\n            pid: prodid,\n            category: category\n          })\n        }).then(res => res.json()).then(async d => {\n          await getCartCount(+localStorage.getItem('mem_id'));\n          setChangeCartCount(changeCartCount + 1);\n          setDeleteProd(newCmArr);\n        });\n        break;\n\n      default:\n        break;\n    }\n  }; // 套餐光箱\n\n\n  const [show, setShow] = useState(false);\n  const [setSelect, setSetSelect] = useState(0); //找cart_orders中套餐點了第幾個(i)套餐\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = i => {\n    setShow(true);\n    setSetSelect(i); // 光箱要開的是第i 個\n  }; // 刪除光箱 CS\n\n\n  const [delShowCS, setDelShowCS] = useState({\n    open: false,\n    id: '',\n    name: ''\n  });\n\n  const handleDelCloseCS = () => setDelShowCS(false);\n\n  const handleDelShowCS = e => {\n    // console.log('hi');\n    // console.log('e.currentTarget:', e.currentTarget);\n    // console.log('e.currentTarget.dataset.id:', e.currentTarget.dataset.id);\n    const c_prod_id = e.currentTarget.dataset.id;\n    const c_prod_name = e.currentTarget.dataset.name;\n    setDelShowCS({ ...delShowCS,\n      open: true,\n      id: c_prod_id,\n      name: c_prod_name\n    });\n  }; // 刪除光箱 CM\n\n\n  const [delShowCM, setDelShowCM] = useState({\n    open: false,\n    id: '',\n    name: ''\n  });\n\n  const handleDelCloseCM = () => setDelShowCM(false);\n\n  const handleDelShowCM = e => {\n    // console.log('hi');\n    // console.log('e.currentTarget:', e.currentTarget);\n    // console.log('e.currentTarget.dataset.id:', e.currentTarget.dataset.id);\n    const cm_prod_id = e.currentTarget.dataset.id;\n    const cm_prod_name = e.currentTarget.dataset.name;\n    setDelShowCM({ ...delShowCM,\n      open: true,\n      id: cm_prod_id,\n      name: cm_prod_name\n    });\n  }; // 刪除光箱 SET\n\n\n  const [delShowSET, setDelShowSET] = useState({\n    open: false,\n    id: '',\n    name: ''\n  });\n\n  const handleDelCloseSET = () => setDelShowSET(false);\n\n  const handleDelShowSET = e => {\n    // console.log('hi');\n    console.log('e.currentTarget:', e.currentTarget);\n    console.log('e.currentTarget.dataset.id:', e.currentTarget.dataset.id);\n    const set_prod_id = e.currentTarget.dataset.id;\n    const set_prod_name = e.currentTarget.dataset.name;\n    setDelShowSET({ ...delShowSET,\n      open: true,\n      id: set_prod_id,\n      name: set_prod_name\n    });\n  }; //錯誤 折扣金額光箱\n\n\n  const [discountShow, setDiscountShow] = useState(false);\n\n  const handleDiscountClose = () => setDiscountShow(false);\n\n  const handleDiscountShow = () => setDiscountShow(true);\n\n  const discountShowModel = /*#__PURE__*/_jsxDEV(Modal, {\n    show: discountShow,\n    onHide: handleDiscountClose,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        className: \"en-cont-30 m-3\",\n        children: \"\\u63D0\\u9192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      style: {\n        margin: '0 3%'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"en-cont-14 pb-2\",\n        children: \"\\u8F38\\u5165\\u91D1\\u984D\\u6709\\u8AA4\\uFF0C\\u8ACB\\u91CD\\u65B0\\u8F38\\u5165\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        className: \"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\",\n        onClick: handleDiscountClose,\n        children: \"\\u95DC\\u9589\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 532,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [discountShowModel, /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 7\n    }, this), navIsOpen && /*#__PURE__*/_jsxDEV(NavPage, {\n      navIsOpen: navIsOpen,\n      setNavIsOpen: setNavIsOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: navIsOpen ? hiddenBlock : showBlock,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-asideLeft-nav d-lg-block d-none ch-title-16 \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-asL-nav-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 cart-asL-nav-text\",\n              style: {\n                color: '#212121'\n              },\n              children: \"\\u6211\\u7684\\u8CFC\\u7269\\u6E05\\u55AE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-asL-nav-square\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-asL-nav-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 cart-asL-nav-text\",\n              style: {\n                color: '#C4C4C4'\n              },\n              children: \"\\u586B\\u5BEB\\u8A02\\u8CFC\\u8CC7\\u8A0A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-asL-nav-square-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-asL-nav-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 cart-asL-nav-text\",\n              style: {\n                color: '#C4C4C4'\n              },\n              children: \"\\u8F38\\u5165\\u4FE1\\u7528\\u5361\\u8CC7\\u6599\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-asL-nav-square-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-asL-nav-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 cart-asL-nav-text\",\n              style: {\n                color: '#C4C4C4'\n              },\n              children: \"\\u5B8C\\u6210\\u8A02\\u55AE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-asL-nav-square-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AsideLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            title: 'Shopping List',\n            setNavIsOpen: setNavIsOpen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mycontainer cart min-hi\",\n            style: {\n              padding: '0'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \" mycontainer breadcart \",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"en-title-14-10\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: '/',\n                  style: {\n                    textDecoration: 'none',\n                    color: '#575757'\n                  },\n                  children: [\"HOME/\", ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: '/cart/stepone',\n                  style: {\n                    textDecoration: 'none',\n                    color: '#b03342'\n                  },\n                  children: \"CART\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 613,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 606,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"list-title ch-cont-14\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row  my-2 d-flex align-items-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-24 d-none d-md-flex\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-2 col-3 align-items-center\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 624,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-4 pr-3 align-items-center\",\n                    children: \"\\u5546\\u54C1\\u5716\\u7247\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 639,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex flex-md-row col-md-10 col-9 justify-content-between flex-grow-1 align-items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-8  align-items-center\",\n                      children: \"\\u5546\\u54C1\\u540D\\u7A31\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 643,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-8 align-items-center\",\n                      children: \"\\u55AE\\u50F9\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 646,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-8  align-items-center\",\n                      children: \"\\u6578\\u91CF\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 647,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 642,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-2 align-items-center\",\n                    children: \"\\u5370\\u88FD\\u6642\\u9593\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 649,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-2 align-items-center\",\n                    children: \"\\u5C0F\\u8A08\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 650,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-4 col-6 d-flex justify-content-around align-items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col text-center\",\n                      children: \"\\u522A\\u9664\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 652,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col text-center\",\n                      children: \"\\u5176\\u4ED6\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 653,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 651,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 15\n            }, this), (_list$set2 = list.set) === null || _list$set2 === void 0 ? void 0 : _list$set2.map((v, i) => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prod-item ch-cont-14 \",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row my-2  d-flex align-items-center \",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-24 d-flex\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-2 col-3 align-items-center\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 673,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-4 col-6 align-items-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"cart-item-img\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          alt: \"/img/cart/mealplan-bento.png\",\n                          className: \"img-fluid\",\n                          src: \"/img/cart/mealplan-bento.png\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 676,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 675,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 674,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `d-flex ` + `flex-md-row flex-column ` + `col-9 col-md-10 justify-content-between ` + `flex-grow-1 align-items-center`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-md-8 my-md-3 align-items-center\",\n                        children: v.set_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 691,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-md-8 my-md-3 align-items-center\",\n                        children: [v.orders_value, \"\\u5143/\\u500B\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 694,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-md-8 my-md-3 align-items-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"select-count\",\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: () => {\n                              // 加入判斷條件 不能小於1\n                              minusSETCount(v.product_id);\n                            },\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 699,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"number\",\n                            value: v.orders_amount,\n                            onChange: e => {\n                              changeSETCount(+e.target.value, v.product_id);\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 707,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: () => {\n                              // 加入判斷條件 不能小於1\n                              addSETCount(v.product_id);\n                            },\n                            children: \"+\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 714,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 698,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 697,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 683,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-2 d-none d-md-flex align-items-center\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 726,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-2 d-none d-md-flex align-items-center \",\n                      children: [\"$\", v.orders_value * v.orders_amount]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 729,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n                      show: delShowSET.open,\n                      onHide: handleDelCloseSET,\n                      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n                        closeButton: true,\n                        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                          className: \"en-cont-30 m-3\",\n                          children: \"\\u522A\\u9664\\u5957\\u9910\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 738,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 737,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n                        style: {\n                          margin: '0 3%'\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"en-cont-14 pb-2\",\n                          children: [\"\\u5957\\u9910\\u8A08\\u756B\\u4E00\\u7D93\\u522A\\u9664 \\u9700\\u91CD\\u65B0\\u9078\\u64C7\\u6B32\\u52A0\\u5165\\u8CFC\\u7269\\u8ECA\\u7684\\u9078\\u9805\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 745,\n                            columnNumber: 33\n                          }, this), \" \\u78BA\\u8A8D\\u8981\\u522A\\u9664\\u5957\\u9910\\u3010 \", delShowSET.name, \"\\u3011\\u55CE?\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 743,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 742,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n                        children: [/*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"secondary\",\n                          className: \"btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2\",\n                          onClick: handleDelCloseSET,\n                          children: \"\\u53D6\\u6D88\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 750,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \" btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2 m-3\",\n                          className: \"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\" // onClick={handleDelClose}\n                          ,\n                          onClick: e => {\n                            const setpid = delShowSET.id;\n                            console.log('delShowSET.id:', delShowSET.id);\n                            deleteProdFun(setpid, 'set'); // console.log(e.currentTarget.value, 'MMMMM');\n\n                            handleDelCloseSET();\n                          },\n                          children: \"\\u78BA\\u8A8D\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 757,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 749,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 733,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-4 col-6 d-flex justify-content-around align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"prod-item-icon\",\n                        \"data-id\": v.product_id,\n                        \"data-name\": v.set_name,\n                        onClick: handleDelShowSET,\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/img/cart/icon-trash.svg\",\n                          alt: \"\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 781,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 775,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n                        show: show && setSelect === i,\n                        onHide: handleClose,\n                        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n                          closeButton: true,\n                          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                            className: \"en-cont-30 m-3\",\n                            children: \"\\u5957\\u9910\\u8AAA\\u660E\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 792,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 791,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n                          style: {\n                            margin: '0 3%'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"en-cont-14 pb-2\",\n                            children: \"\\u52A0\\u5165\\u8CFC\\u7269\\u8ECA\\u5F8C\\uFF0C\\u5957\\u9910\\u5167\\u5BB9\\u4E0D\\u53EF\\u4FEE\\u6539\\uFF0C\\u5982\\u9700\\u8ABF\\u6574\\uFF0C\\u9700\\u79FB\\u9664\\u8CFC\\u7269\\u8ECA\\u54C1\\u9805\\uFF0C\\u91CD\\u65B0\\u4E0B\\u55AE\\uFF0C\\u8B1D\\u8B1D\\u3002\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 797,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                            className: \"table table-hover\",\n                            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                              show: show.set,\n                              children: v.set_info_array.map((v, i) => {\n                                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                                    scope: \"row\",\n                                    className: \"en-cont-36\",\n                                    children: i + 1\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 805,\n                                    columnNumber: 43\n                                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                                    className: \"en-cont-14\",\n                                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                      children: [v.bento_ch_name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 814,\n                                        columnNumber: 47\n                                      }, this), v.bento_en_name]\n                                    }, void 0, true, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 812,\n                                      columnNumber: 45\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 811,\n                                    columnNumber: 43\n                                  }, this)]\n                                }, i + 1, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 804,\n                                  columnNumber: 41\n                                }, this);\n                              })\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 801,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 800,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 796,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n                          children: /*#__PURE__*/_jsxDEV(Button, {\n                            variant: \"secondary\",\n                            className: \"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\",\n                            onClick: handleClose,\n                            children: \"\\u95DC\\u9589\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 825,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 824,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 786,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"prod-item-icon\",\n                        \"data-id\": v.product_id,\n                        \"data-name\": v.set_name,\n                        \"data-set\": v.set_info_array,\n                        onClick: () => handleShow(i) // 顯示的是所選的那一個套餐的光箱\n                        ,\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/img/cart/icon-info.svg\",\n                          alt: \"\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 843,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 835,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 774,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 672,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 671,\n                  columnNumber: 21\n                }, this)\n              }, 'set' + i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 19\n              }, this);\n            }), (_list$cs2 = list.cs) === null || _list$cs2 === void 0 ? void 0 : _list$cs2.map((v, i) => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prod-item ch-cont-14 \",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row my-2  d-flex align-items-center \",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-24 d-flex\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-2 col-3 align-items-center\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 856,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-4 col-6 align-items-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"cart-item-img\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          alt: v.cs_prod_img_path,\n                          className: \"img-fluid\",\n                          src: `http://localhost:3500${v.c_prod_img_path}`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 859,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 858,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 857,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `d-flex ` + `flex-md-row flex-column ` + `col-9 col-md-10 justify-content-between ` + `flex-grow-1 align-items-center`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-md-8 my-md-3 align-items-center\",\n                        children: v.c_prod_ch_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 874,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-md-8 my-md-3 align-items-center\",\n                        children: [v.orders_value, \"\\u5143\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 877,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-md-8 my-md-3 align-items-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"select-count\",\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: () => {\n                              // 加入判斷條件 不能小於1\n                              minusCSCount(v.product_id);\n                            },\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 882,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"number\",\n                            value: v.orders_amount,\n                            onChange: e => {\n                              changeCSCount(+e.target.value, v.product_id);\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 890,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: () => {\n                              // 加入判斷條件 不能小於1\n                              addCSCount(v.product_id);\n                            },\n                            children: \"+\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 897,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 881,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 880,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 866,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-2 d-none d-md-flex align-items-center\",\n                      children: [v.orders_print_time, \"\\u79D2/\\u500B\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 908,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-2 d-none d-md-flex align-items-center \",\n                      children: [\"$\", v.orders_value * v.orders_amount]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 911,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n                      show: delShowCS.open,\n                      onHide: handleDelCloseCS,\n                      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n                        closeButton: true,\n                        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                          className: \"en-cont-30 m-3\",\n                          children: \"\\u522A\\u9664\\u7D93\\u5178\\u5546\\u54C1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 920,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 919,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n                        style: {\n                          margin: '0 3%'\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"en-cont-14 pb-2\",\n                          children: [\"\\u78BA\\u8A8D\\u8981\\u522A\\u9664\\u3010\", delShowCS.name, \"\\u3011\\u5546\\u54C1\\u55CE?\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 925,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 924,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n                        children: [/*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"secondary\",\n                          className: \"btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2\",\n                          onClick: handleDelCloseCS,\n                          children: \"\\u53D6\\u6D88\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 930,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \" btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2 m-3\",\n                          className: \"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\" // onClick={handleDelClose}\n                          ,\n                          onClick: e => {\n                            const pid = delShowCS.id; // console.log('delShowCS.id:', delShowCS.id);\n\n                            deleteProdFun(pid, 'cs'); // console.log(e.currentTarget.value, 'MMMMM');\n\n                            handleDelCloseCS();\n                          },\n                          children: \"\\u78BA\\u8A8D\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 937,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 929,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 915,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-4 col-6 d-flex justify-content-around align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"prod-item-icon\",\n                        \"data-id\": v.product_id,\n                        \"data-name\": v.c_prod_ch_name // onClick={() => {\n                        //   deleteProd(v.product_id, 'cs');\n                        // }}\n                        // console.log(v.product_id + v.c_prod_ch_name);\n                        ,\n                        onClick: handleDelShowCS,\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/img/cart/icon-trash.svg\",\n                          alt: \"\\u522A\\u9664\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 965,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 955,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"prod-item-icon\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/img/cart/icon-info-none.svg\",\n                          alt: \"\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 969,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 968,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 954,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 855,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 854,\n                  columnNumber: 21\n                }, this)\n              }, 'cs' + i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 853,\n                columnNumber: 19\n              }, this);\n            }), (_list$cm2 = list.cm) === null || _list$cm2 === void 0 ? void 0 : _list$cm2.map((v, i) => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prod-item ch-cont-14 \",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row my-2  d-flex align-items-center \",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-24 d-flex\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-2 col-3 align-items-center\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 982,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-4 col-6 align-items-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"cart-item-img\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          alt: v.cm_prod_img_path,\n                          className: \"img-fluid\",\n                          src: `http://localhost:3500${v.cm_prod_img_path}`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 998,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 997,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 996,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `d-flex ` + `flex-md-row flex-column ` + `col-9 col-md-10 justify-content-between ` + `flex-grow-1 align-items-center`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-md-8 my-md-3 align-items-center\",\n                        children: v.cm_prod_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1013,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-md-8 my-md-3 align-items-center\",\n                        children: [v.orders_value, \"\\u5143\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1016,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-md-8 my-md-3 align-items-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"select-count\",\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: () => {\n                              // 加入判斷條件 不能小於1\n                              // if (countcm - 1 >= 1) setCountcm(countcm - 1);\n                              minusCMCount(v.product_id);\n                            },\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1021,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"number\",\n                            value: v.orders_amount,\n                            onChange: e => {\n                              changeCMCount(+e.target.value, v.product_id);\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1030,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: () => {\n                              // 加入判斷條件 不能小於1\n                              // setCountcm(countcm + 1);\n                              addCMCount(v.product_id);\n                            },\n                            children: \"+\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1037,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1020,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1019,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1005,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-2 d-none d-md-flex align-items-center\",\n                      children: [v.orders_print_time, \"\\u79D2/\\u500B\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1049,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-2 d-none d-md-flex align-items-center \",\n                      children: [\"$\", v.orders_value * v.orders_amount]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1052,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n                      show: delShowCM.open,\n                      onHide: handleDelCloseCM,\n                      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n                        closeButton: true,\n                        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                          className: \"en-cont-30 m-3\",\n                          children: \"\\u522A\\u9664\\u5BA2\\u88FD\\u5316\\u5546\\u54C1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1061,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1060,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n                        style: {\n                          margin: '0 3%'\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"en-cont-14 pb-2\",\n                          children: [\"\\u63D0\\u9192\\u60A8\\u5BA2\\u88FD\\u5316\\u5546\\u54C1\\u79FB\\u51FA\\u8CFC\\u7269\\u8ECA\\u5F8C\\u5C07\\u6703\\u6E05\\u7A7A\\u88FD\\u4F5C\\u7684\\u7D00\\u9304\\uFF0C\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1068,\n                            columnNumber: 33\n                          }, this), \"\\u78BA\\u8A8D\\u8981\\u522A\\u9664 \\u3010\", delShowCM.name, \" \\u3011\\u55CE?\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1066,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1065,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n                        children: [/*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"secondary\",\n                          className: \"btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2\",\n                          onClick: handleDelCloseCM,\n                          children: \"\\u53D6\\u6D88\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1073,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \" btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2 m-3\",\n                          className: \"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\" // onClick={handleDelClose}\n                          ,\n                          onClick: e => {\n                            const pid = delShowCM.id;\n                            console.log('delShowCM.id:', delShowCM.id);\n                            deleteProdFun(pid, 'cm'); // console.log(e.currentTarget.value, 'MMMMM');\n\n                            handleDelCloseCM();\n                          },\n                          children: \"\\u78BA\\u8A8D\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1080,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1072,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1056,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-4 col-6 d-flex justify-content-around align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"prod-item-icon\",\n                        \"data-id\": v.product_id,\n                        \"data-name\": v.cm_prod_name,\n                        onClick: handleDelShowCM // onClick={() => {\n                        //   deleteProdFun(v.product_id, 'cm');\n                        // }}\n                        ,\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/img/cart/icon-trash.svg\",\n                          alt: \"\\u522A\\u9664\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1107,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1098,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"prod-item-icon\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/img/cart/icon-info-none.svg\",\n                          alt: \"\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1111,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1110,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1097,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 981,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 980,\n                  columnNumber: 21\n                }, this)\n              }, 'cm' + i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 979,\n                columnNumber: 19\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"list-check ch-cont-14\",\n              style: {\n                padding: '30px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row \",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-5 row\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1126,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-19 px-md-5 \",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"summary \",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row print-time my-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-12 col-md-12 \",\n                        children: \"\\u5546\\u54C1\\u6578\\u91CF\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1130,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-12 col-md-8 text-right\",\n                        children: [\"\\u7E3D\\u8A08\", prodCount, \"\\u9805\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1131,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1129,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row print-time my-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-12 col-md-12\",\n                        children: \"\\u5370\\u88FD\\u6642\\u9593\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1136,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-12 col-md-8 text-right\",\n                        children: [printTime / 60, \"\\u5206\\u9418\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1137,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1135,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row discount my-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-12 col-md-12\",\n                        children: \"\\u6298\\u62B5\\u91D1\\u984D\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1142,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-12 col-md-8\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \" d-flex justify-content-end\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"form-label\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1146,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"number\",\n                            className: \"form-control\",\n                            placeholder: \"NT$\",\n                            defaultValue: discountTotal / 100,\n                            min: 0,\n                            max: discountTotal / 100,\n                            onChange: e => {\n                              // handleChange();\n                              // discountShow(true);\n                              if (e.target.value <= discountTotal / 100) {\n                                const newData = {\n                                  cart_value: amount,\n                                  cart_credit: +e.target.value,\n                                  cart_total_print_time: printTime\n                                };\n                                setInputSum(newData);\n                              } else {\n                                // TODO: alert 要改\n                                setDiscountShow(true); // alert('輸入金額有誤，請重新輸入!');\n\n                                setInputSum({ ...inputSum,\n                                  cart_credit: ''\n                                });\n                                e.target.value = '';\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1147,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1145,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1144,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"col-24 col-md-20 text-right \",\n                        children: [\"\\u6703\\u54E1\\u9EDE\\u6578\", discountTotal, \"\\u9EDE \\u6700\\u591A\\u53EF\\u6298\\u62B5NT$\", discountTotal / 100, \"\\u5143\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1179,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1141,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row price my-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-12 col-md-12\",\n                        children: \"\\u8A02\\u55AE\\u91D1\\u984D\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1186,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-12 col-md-8 text-right ch-cont-24\",\n                        children: [\"NT \", amount]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1187,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1185,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1128,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1127,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1124,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row  d-flex justify-content-center justify-content-md-end\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"  next-btn d-flex my-5 \",\n                  children: [/*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/classic\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-sm btn-outline-primary primeal-btn-outline-sm  mx-5 mx-md-3\",\n                      children: \"\\u7E7C\\u7E8C\\u8CFC\\u7269\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1198,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1197,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-sm btn-primary primeal-btn-sm mx-5 mx-md-3\",\n                    onClick: handleSubmit,\n                    children: \"\\u524D\\u5F80\\u7D50\\u5E33\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1205,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1196,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1195,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1120,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1216,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AsideRight, {\n          setNavIsOpen: setNavIsOpen,\n          changeCartCount: changeCartCount // 購物車數量狀態改變\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(StepOne, \"kBv5oP0UC1Vt/2B/AEACFA0+A9Q=\", false, function () {\n  return [useHistory];\n});\n\n_c = StepOne;\nexport default StepOne;\n\nvar _c;\n\n$RefreshReg$(_c, \"StepOne\");","map":{"version":3,"sources":["C:/Users/ryany/OneDrive/桌面/primeal/src/pages/cart/StepOne.js"],"names":["getCartCount","Link","useHistory","Header","Title","AsideLeft","AsideRight","Footer","NavPage","config","useState","useEffect","getCart","Button","Modal","StepOne","props","showBlock","display","hiddenBlock","navIsOpen","setNavIsOpen","history","list","setList","prodCount","setProdCount","printTime","setPrintTime","amount","setAmount","deleteProd","setDeleteProd","inputCredit","setInputCredit","cart_id","setCart_id","discountTotal","setDiscountTotal","changeCartCount","setChangeCartCount","inputSum","setInputSum","cart_value","cart_credit","cart_total_print_time","getInit","Cid","cartid","getList","memid","localStorage","getItem","res","fetch","GET_CART_ORDER","obj","json","success","data","console","log","count","time","total","cs","forEach","d","orders_amount","orders_print_time","orders_value","cm","set","push","getDiscount","GET_CART_DISCOUNT","result","mem_credit","handleSubmit","e","preventDefault","r","POST_CART_SUMMARY","method","headers","body","JSON","stringify","then","alert","changeCMCount","pid","newData","find","product_id","index","findIndex","splice","minusCMCount","newData2","map","v","addCMCount","changeCSCount","minusCSCount","addCSCount","changeSETCount","minusSETCount","addSETCount","deleteProdFun","category","mid","cartInfo","prodid","newSetData","filter","newSetArr","DELETE_CART_PROD","memId","newCsData","newCsArr","newCmData","newCmArr","show","setShow","setSelect","setSetSelect","handleClose","handleShow","i","delShowCS","setDelShowCS","open","id","name","handleDelCloseCS","handleDelShowCS","c_prod_id","currentTarget","dataset","c_prod_name","delShowCM","setDelShowCM","handleDelCloseCM","handleDelShowCM","cm_prod_id","cm_prod_name","delShowSET","setDelShowSET","handleDelCloseSET","handleDelShowSET","set_prod_id","set_prod_name","discountShow","setDiscountShow","handleDiscountClose","handleDiscountShow","discountShowModel","margin","color","width","padding","textDecoration","set_name","target","value","setpid","set_info_array","bento_ch_name","bento_en_name","cs_prod_img_path","c_prod_img_path","c_prod_ch_name","cm_prod_img_path"],"mappings":"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","sourcesContent":["//cart/StepOne.js\r\nimport { getCartCount } from '../../utils';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Header, Title, AsideLeft, AsideRight, Footer } from '../layout/Layout';\r\n// import ProdItem from '././components/ProdItem';\r\nimport NavPage from '../layout/components/NavPage';\r\nimport config from '../../Config';\r\nimport { useState, useEffect } from 'react';\r\nimport { getCart } from '../../utils';\r\nimport { Button, Modal } from 'react-bootstrap';\r\n\r\nfunction StepOne(props) {\r\n  // NAV BAR 使用 蓋版漢堡\r\n  const showBlock = { display: 'block' };\r\n  const hiddenBlock = { display: 'none' };\r\n  const { navIsOpen, setNavIsOpen } = props; // 解構\r\n\r\n  // 回上一頁 按鈕\r\n  let history = useHistory();\r\n  const [list, setList] = useState({}); //總資料\r\n  const [prodCount, setProdCount] = useState(0); //商品總數\r\n  const [printTime, setPrintTime] = useState(0); //商品總印製時間(秒)\r\n  const [amount, setAmount] = useState(0); //商品總價\r\n  const [deleteProd, setDeleteProd] = useState([]); //被刪除的商品\r\n  const [inputCredit, setInputCredit] = useState(0); //自行輸入的折扣金額\r\n  const [cart_id, setCart_id] = useState(0); // 取得cart id\r\n  const [discountTotal, setDiscountTotal] = useState([]); // 會員可以折抵積分提示欄位\r\n  const [changeCartCount, setChangeCartCount] = useState(0); // 要知道什麼時候更改購物車的數量\r\n\r\n  // 接資料要post 到DB的\r\n  const [inputSum, setInputSum] = useState({\r\n    cart_value: amount,\r\n    cart_credit: '' || null,\r\n    cart_total_print_time: printTime,\r\n  });\r\n  // console.log('34 inputSum', inputSum);\r\n\r\n  // 判斷有沒有購物車內容\r\n  useEffect(() => {\r\n    // 取得cart_id\r\n    const getInit = async () => {\r\n      const Cid = await getCart();\r\n      setCart_id(+Cid.cartid);\r\n    };\r\n    getInit();\r\n\r\n    const getList = async () => {\r\n      const memid = localStorage.getItem('mem_id');\r\n      //判斷會員有無登入 有登入才去找 get_CART_ORDER\r\n      if (memid !== null) {\r\n        const res = await fetch(config.GET_CART_ORDER + `${memid}`);\r\n        const obj = await res.json();\r\n        if (obj.success) {\r\n          //購物車有商品才繼續做\r\n          //初始化購物車訂單資料\r\n          setList(obj.data);\r\n          setInputSum({\r\n            cart_value: amount,\r\n            cart_credit: inputCredit,\r\n            cart_total_print_time: printTime,\r\n          });\r\n          console.log('60', inputSum);\r\n\r\n          // 第一步 撈資料時就先計算總金額 總印製時間 總商品數量\r\n          let count = 0;\r\n          let time = 0;\r\n          let total = 0;\r\n          obj.data.cs.forEach(d => {\r\n            count += d.orders_amount;\r\n            time += d.orders_print_time * d.orders_amount;\r\n            total += d.orders_value * d.orders_amount;\r\n          });\r\n          obj.data.cm.forEach(d => {\r\n            count += d.orders_amount;\r\n            time += d.orders_print_time * d.orders_amount;\r\n            total += d.orders_value * d.orders_amount;\r\n          });\r\n          obj.data.set.forEach(d => {\r\n            count += d.orders_amount;\r\n            time += d.orders_print_time * d.orders_amount;\r\n            total += d.orders_value * d.orders_amount;\r\n          });\r\n\r\n          //初始化總計\r\n          setProdCount(count);\r\n          setPrintTime(time);\r\n          setAmount(total);\r\n        } else {\r\n          //購物車無商品則導頁\r\n          history.push('/cart/cartlist');\r\n        }\r\n      } else {\r\n        //會員未登入則導頁\r\n        history.push('/cart/cartlist');\r\n      }\r\n    };\r\n    getList();\r\n\r\n    // 取得可以折抵的折扣金額\r\n    const getDiscount = async () => {\r\n      const memid = localStorage.getItem('mem_id');\r\n      const res = await fetch(config.GET_CART_DISCOUNT + `${memid}`);\r\n      const obj = await res.json();\r\n      console.log('getDiscount obj:', obj);\r\n\r\n      // console.log('getDiscount obj  ARRRR:', obj.result[0].mem_credit);\r\n      setDiscountTotal(obj.result[0].mem_credit);\r\n      // console.log(discountTotal);\r\n    };\r\n    getDiscount();\r\n  }, []);\r\n\r\n  //每當有商品被刪除時，就來判斷購物車是否還有商品，都沒有了就導頁\r\n  useEffect(() => {\r\n    const getList = async () => {\r\n      const memid = localStorage.getItem('mem_id');\r\n      if (memid !== null) {\r\n        //判斷會員有無登入\r\n        const res = await fetch(config.GET_CART_ORDER + `${memid}`);\r\n        const obj = await res.json();\r\n        if (obj.success) {\r\n          setInputSum({\r\n            cart_value: amount,\r\n            cart_credit: inputCredit,\r\n            cart_total_print_time: printTime,\r\n          });\r\n          // console.log('110', inputSum);\r\n          //刪除商品成功後購物車仍有商品，則不做任何事\r\n        } else {\r\n          //購物車無商品則導頁\r\n          history.push('/cart/cartlist');\r\n        }\r\n      } else {\r\n        //會員未登入則導頁\r\n        history.push('/cart/cartlist');\r\n      }\r\n    };\r\n    getList();\r\n  }, [deleteProd]);\r\n\r\n  // 當有變數量或金額時 設定回去\r\n  useEffect(() => {\r\n    setInputSum({\r\n      ...inputSum,\r\n      cart_value: amount,\r\n      cart_total_print_time: printTime,\r\n    });\r\n  }, [amount, printTime]);\r\n\r\n  // 有購物車品項後去計算 商品總價 總印製時間 商品數量\r\n  useEffect(() => {\r\n    let count = 0;\r\n    let time = 0;\r\n    let total = 0;\r\n    list.cs?.forEach(d => {\r\n      // console.log('71 cs _ptime', d.orders_print_time);\r\n      count += d.orders_amount;\r\n      time += d.orders_print_time * d.orders_amount;\r\n      total += d.orders_value * d.orders_amount;\r\n    });\r\n    list.cm?.forEach(d => {\r\n      // console.log('77 cm _ptime', d.orders_print_time);\r\n      count += d.orders_amount;\r\n      time += d.orders_print_time * d.orders_amount;\r\n      total += d.orders_value * d.orders_amount;\r\n    });\r\n    list.set?.forEach(d => {\r\n      // console.log('83 set _ptime', d.orders_print_time);\r\n      count += d.orders_amount;\r\n      time += d.orders_print_time * d.orders_amount;\r\n      total += d.orders_value * d.orders_amount;\r\n    });\r\n\r\n    setProdCount(count);\r\n    setPrintTime(time);\r\n    setAmount(total);\r\n  }, [list]);\r\n\r\n  // 提交\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    const memid = localStorage.getItem('mem_id'); //取得 mem id 從localstorage\r\n\r\n    setInputSum(inputSum); // 把下面的總計數量設定回去\r\n    // console.log('summaryone');\r\n    console.log('210', inputSum);\r\n\r\n    //  POST 要傳的直設定回去\r\n\r\n    // fetch\r\n    const r = fetch(config.POST_CART_SUMMARY + `${memid}/${cart_id}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(inputSum),\r\n    })\r\n      .then(r => r.json())\r\n      .then(obj => {\r\n        console.log(obj);\r\n        if (obj.success) {\r\n          console.log(obj.success);\r\n          // 有成功更新頁面才轉向\r\n          history.push('/cart/steptwo');\r\n        } else {\r\n          alert('資料錯誤請重新輸入！');\r\n        }\r\n      });\r\n  };\r\n  //改變cm數量輸入欄\r\n  const changeCMCount = (count, pid) => {\r\n    // 先拷貝一層\r\n    const newData = [...list.cm];\r\n    // 找出要的/點到的pid 跟 map 出來的484 同一個\r\n    const data = newData.find(cm => cm.product_id == pid);\r\n    // 找出 點到的product_id 是在 陣列中的第幾個 (在 cm 的陣列中 可能會有多個商品)\r\n    const index = newData.findIndex(cm => cm.product_id == pid);\r\n    // newData 用splice 去分割 抓到是第幾個index 淺層拷貝並覆寫\r\n    newData.splice(index, 1, { ...data, orders_amount: +count });\r\n    setList({ ...list, cm: newData });\r\n  };\r\n\r\n  //減少cm數量(-1)\r\n  const minusCMCount = pid => {\r\n    /*\r\n    const newData = [...countcm];\r\n    const data = newData.find(cm => cm.product_id == pid);\r\n    const index = newData.findIndex(cm => cm.product_id == pid);\r\n    newData.splice(index, 1, {\r\n      ...data,\r\n      orders_amount: +data.orders_amount - 1,\r\n    });\r\n    */\r\n    // 新德的寫法\r\n    //先拷貝一個陣列\r\n    const newData = [...list.cm];\r\n    // 用陣列做map\r\n    const newData2 = newData.map(v => {\r\n      // 當pid == map 出來的 product id 時\r\n      if (pid === v.product_id) {\r\n        //當 商品數量選購數量大於1時\r\n        if (v.orders_amount > 1) {\r\n          //回傳 -1\r\n          return { ...v, orders_amount: +v.orders_amount - 1 };\r\n        }\r\n      }\r\n      //\r\n      return { ...v };\r\n    });\r\n\r\n    setList({ ...list, cm: newData2 });\r\n  };\r\n\r\n  //增加cm數量(+1)\r\n  const addCMCount = pid => {\r\n    const newData = [...list.cm];\r\n    const data = newData.find(cm => cm.product_id == pid);\r\n    const index = newData.findIndex(cm => cm.product_id == pid);\r\n    newData.splice(index, 1, {\r\n      ...data,\r\n      orders_amount: +data.orders_amount + 1,\r\n    });\r\n    setList({ ...list, cm: newData });\r\n  };\r\n\r\n  //改變cs數量輸入欄\r\n  const changeCSCount = (count, pid) => {\r\n    const newData = [...list.cs];\r\n    const data = newData.find(cs => cs.product_id == pid);\r\n    const index = newData.findIndex(cs => cs.product_id == pid);\r\n    newData.splice(index, 1, { ...data, orders_amount: +count });\r\n    setList({ ...list, cs: newData });\r\n  };\r\n\r\n  //減少cs數量(-1)\r\n  const minusCSCount = pid => {\r\n    // const newData = [...countcs];\r\n    // const data = newData.find(cs => cs.product_id == pid);\r\n    // const index = newData.findIndex(cs => cs.product_id == pid);\r\n    // newData.splice(index, 1, {\r\n    //   ...data,\r\n    //   orders_amount: +data.orders_amount - 1,\r\n    // });\r\n\r\n    const newData = [...list.cs];\r\n    const newData2 = newData.map(v => {\r\n      if (pid === v.product_id) {\r\n        if (v.orders_amount > 1) {\r\n          return { ...v, orders_amount: +v.orders_amount - 1 };\r\n        }\r\n      }\r\n      return { ...v };\r\n    });\r\n\r\n    setList({ ...list, cs: newData2 });\r\n  };\r\n\r\n  //增加cs數量(+1)\r\n  const addCSCount = pid => {\r\n    const newData = [...list.cs];\r\n    const data = newData.find(cs => cs.product_id == pid);\r\n    const index = newData.findIndex(cs => cs.product_id == pid);\r\n    newData.splice(index, 1, {\r\n      ...data,\r\n      orders_amount: +data.orders_amount + 1,\r\n    });\r\n    console.log(newData);\r\n    setList({ ...list, cs: newData });\r\n  };\r\n\r\n  //改變set數量輸入欄\r\n  const changeSETCount = (count, pid) => {\r\n    const newData = [...list.set];\r\n    const data = newData.find(set => set.product_id == pid);\r\n    const index = newData.findIndex(set => set.product_id == pid);\r\n    newData.splice(index, 1, { ...data, orders_amount: +count });\r\n    setList({ ...list, set: newData });\r\n  };\r\n\r\n  //減少set數量(-1)\r\n  const minusSETCount = pid => {\r\n    // const newData = [...countset];\r\n    // const data = newData.find(set => set.product_id == pid);\r\n    // const index = newData.findIndex(set => set.product_id == pid);\r\n    // newData.splice(index, 1, {\r\n    //   ...data,\r\n    //   orders_amount: +data.orders_amount - 1,\r\n    // });\r\n\r\n    const newData = [...list.set];\r\n    const newData2 = newData.map(v => {\r\n      if (pid === v.product_id) {\r\n        if (v.orders_amount > 1) {\r\n          return { ...v, orders_amount: +v.orders_amount - 1 };\r\n        }\r\n      }\r\n      return { ...v };\r\n    });\r\n\r\n    setList({ ...list, set: newData2 });\r\n  };\r\n\r\n  //增加set數量(+1)\r\n  const addSETCount = pid => {\r\n    const newData = [...list.set];\r\n    const data = newData.find(set => set.product_id == pid);\r\n    const index = newData.findIndex(set => set.product_id == pid);\r\n    newData.splice(index, 1, {\r\n      ...data,\r\n      orders_amount: +data.orders_amount + 1,\r\n    });\r\n    setList({ ...list, set: newData });\r\n  };\r\n\r\n  //刪除商品\r\n  const deleteProdFun = async (pid, category) => {\r\n    const mid = localStorage.getItem('mem_id');\r\n    const cartInfo = await getCart();\r\n    const cartid = cartInfo.cartid;\r\n    const prodid = pid;\r\n\r\n    switch (category) {\r\n      case 'set':\r\n        let newSetData = [...list.set];\r\n        newSetData = newSetData.filter(d => d.product_id !== +prodid); //pid相等的是要刪掉的，所以要回傳不相等的\r\n        setList({ ...list, set: newSetData });\r\n\r\n        let newSetArr = [...deleteProd];\r\n        newSetArr.push({ pid: pid, category: category });\r\n\r\n        fetch(config.DELETE_CART_PROD, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({\r\n            memId: mid,\r\n            cartid: cartid,\r\n            pid: prodid,\r\n            category: category,\r\n          }),\r\n        })\r\n          .then(res => res.json())\r\n          .then(async d => {\r\n            await getCartCount(+localStorage.getItem('mem_id')); // cartcount 數字改變\r\n            setChangeCartCount(changeCartCount + 1); // 狀態要改變\r\n            setDeleteProd(newSetArr);\r\n          });\r\n        break;\r\n\r\n      case 'cs':\r\n        // console.log('delShowCS.id:', delShowCS.id);\r\n        // const pid = delShowCS.id;\r\n\r\n        let newCsData = [...list.cs];\r\n        newCsData = newCsData.filter(d => d.product_id !== +prodid); //pid相等的是要刪掉的，所以要回傳不相等的\r\n        setList({ ...list, cs: newCsData });\r\n\r\n        let newCsArr = [...deleteProd];\r\n        newCsArr.push({ pid: pid, category: category });\r\n\r\n        fetch(config.DELETE_CART_PROD, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({\r\n            memId: mid,\r\n            cartid: cartid,\r\n            pid: prodid,\r\n            category: category,\r\n          }),\r\n        })\r\n          .then(res => res.json())\r\n          .then(async d => {\r\n            await getCartCount(+localStorage.getItem('mem_id'));\r\n            setChangeCartCount(changeCartCount + 1);\r\n            setDeleteProd(newCsArr);\r\n          });\r\n        break;\r\n\r\n      case 'cm':\r\n        let newCmData = [...list.cm];\r\n        newCmData = newCmData.filter(d => d.product_id !== +prodid); //pid相等的是要刪掉的，所以要回傳不相等的\r\n        setList({ ...list, cm: newCmData });\r\n\r\n        let newCmArr = [...deleteProd];\r\n        newCmArr.push({ pid: pid, category: category });\r\n\r\n        fetch(config.DELETE_CART_PROD, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({\r\n            memId: mid,\r\n            cartid: cartid,\r\n            pid: prodid,\r\n            category: category,\r\n          }),\r\n        })\r\n          .then(res => res.json())\r\n          .then(async d => {\r\n            await getCartCount(+localStorage.getItem('mem_id'));\r\n            setChangeCartCount(changeCartCount + 1);\r\n            setDeleteProd(newCmArr);\r\n          });\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  // 套餐光箱\r\n  const [show, setShow] = useState(false);\r\n  const [setSelect, setSetSelect] = useState(0); //找cart_orders中套餐點了第幾個(i)套餐\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = i => {\r\n    setShow(true);\r\n    setSetSelect(i); // 光箱要開的是第i 個\r\n  };\r\n\r\n  // 刪除光箱 CS\r\n  const [delShowCS, setDelShowCS] = useState({\r\n    open: false,\r\n    id: '',\r\n    name: '',\r\n  });\r\n  const handleDelCloseCS = () => setDelShowCS(false);\r\n  const handleDelShowCS = e => {\r\n    // console.log('hi');\r\n    // console.log('e.currentTarget:', e.currentTarget);\r\n    // console.log('e.currentTarget.dataset.id:', e.currentTarget.dataset.id);\r\n    const c_prod_id = e.currentTarget.dataset.id;\r\n    const c_prod_name = e.currentTarget.dataset.name;\r\n    setDelShowCS({\r\n      ...delShowCS,\r\n      open: true,\r\n      id: c_prod_id,\r\n      name: c_prod_name,\r\n    });\r\n  };\r\n\r\n  // 刪除光箱 CM\r\n  const [delShowCM, setDelShowCM] = useState({\r\n    open: false,\r\n    id: '',\r\n    name: '',\r\n  });\r\n  const handleDelCloseCM = () => setDelShowCM(false);\r\n  const handleDelShowCM = e => {\r\n    // console.log('hi');\r\n    // console.log('e.currentTarget:', e.currentTarget);\r\n    // console.log('e.currentTarget.dataset.id:', e.currentTarget.dataset.id);\r\n    const cm_prod_id = e.currentTarget.dataset.id;\r\n    const cm_prod_name = e.currentTarget.dataset.name;\r\n    setDelShowCM({\r\n      ...delShowCM,\r\n      open: true,\r\n      id: cm_prod_id,\r\n      name: cm_prod_name,\r\n    });\r\n  };\r\n\r\n  // 刪除光箱 SET\r\n  const [delShowSET, setDelShowSET] = useState({\r\n    open: false,\r\n    id: '',\r\n    name: '',\r\n  });\r\n  const handleDelCloseSET = () => setDelShowSET(false);\r\n  const handleDelShowSET = e => {\r\n    // console.log('hi');\r\n    console.log('e.currentTarget:', e.currentTarget);\r\n    console.log('e.currentTarget.dataset.id:', e.currentTarget.dataset.id);\r\n    const set_prod_id = e.currentTarget.dataset.id;\r\n    const set_prod_name = e.currentTarget.dataset.name;\r\n    setDelShowSET({\r\n      ...delShowSET,\r\n      open: true,\r\n      id: set_prod_id,\r\n      name: set_prod_name,\r\n    });\r\n  };\r\n\r\n  //錯誤 折扣金額光箱\r\n  const [discountShow, setDiscountShow] = useState(false);\r\n  const handleDiscountClose = () => setDiscountShow(false);\r\n  const handleDiscountShow = () => setDiscountShow(true);\r\n  const discountShowModel = (\r\n    <Modal show={discountShow} onHide={handleDiscountClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title className=\"en-cont-30 m-3\">提醒</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body style={{ margin: '0 3%' }}>\r\n        <div className=\"en-cont-14 pb-2\">輸入金額有誤，請重新輸入</div>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button\r\n          variant=\"secondary\"\r\n          className=\"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\"\r\n          onClick={handleDiscountClose}\r\n        >\r\n          關閉\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n  return (\r\n    <>\r\n      {discountShowModel}\r\n      <Header />\r\n      {navIsOpen && (\r\n        <NavPage navIsOpen={navIsOpen} setNavIsOpen={setNavIsOpen} />\r\n      )}\r\n      <div style={navIsOpen ? hiddenBlock : showBlock}>\r\n        <div style={{ display: 'flex' }}>\r\n          <div className=\"cart-asideLeft-nav d-lg-block d-none ch-title-16 \">\r\n            <div className=\"cart-asL-nav-item\">\r\n              <div\r\n                className=\"mb-3 cart-asL-nav-text\"\r\n                style={{ color: '#212121' }}\r\n              >\r\n                我的購物清單\r\n              </div>\r\n              <div className=\"cart-asL-nav-square\"></div>\r\n            </div>\r\n\r\n            <div className=\"cart-asL-nav-item\">\r\n              <div\r\n                className=\"mb-3 cart-asL-nav-text\"\r\n                style={{ color: '#C4C4C4' }}\r\n              >\r\n                填寫訂購資訊\r\n              </div>\r\n              <div className=\"cart-asL-nav-square-white\"></div>\r\n            </div>\r\n\r\n            <div className=\"cart-asL-nav-item\">\r\n              <div\r\n                className=\"mb-3 cart-asL-nav-text\"\r\n                style={{ color: '#C4C4C4' }}\r\n              >\r\n                輸入信用卡資料\r\n              </div>\r\n              <div className=\"cart-asL-nav-square-white\"></div>\r\n            </div>\r\n\r\n            <div className=\"cart-asL-nav-item\">\r\n              <div\r\n                className=\"mb-3 cart-asL-nav-text\"\r\n                style={{ color: '#C4C4C4' }}\r\n              >\r\n                完成訂單\r\n              </div>\r\n              <div className=\"cart-asL-nav-square-white\"></div>\r\n            </div>\r\n          </div>\r\n          <AsideLeft />\r\n\r\n          <div style={{ width: '100%' }}>\r\n            <Title title={'Shopping List'} setNavIsOpen={setNavIsOpen} />\r\n            <div className=\"mycontainer cart min-hi\" style={{ padding: '0' }}>\r\n              <div className=\" mycontainer breadcart \">\r\n                <p className=\"en-title-14-10\">\r\n                  <Link\r\n                    to={'/'}\r\n                    style={{ textDecoration: 'none', color: '#575757' }}\r\n                  >\r\n                    HOME/{' '}\r\n                  </Link>\r\n                  <Link\r\n                    to={'/cart/stepone'}\r\n                    style={{ textDecoration: 'none', color: '#b03342' }}\r\n                  >\r\n                    CART\r\n                  </Link>\r\n                </p>\r\n              </div>\r\n              <div className=\"list-title ch-cont-14\">\r\n                <div className=\"row  my-2 d-flex align-items-center\">\r\n                  <div className=\"col-md-24 d-none d-md-flex\">\r\n                    <div className=\"col-md-2 col-3 align-items-center\">\r\n                      {/* <div className=\"form-check\">\r\n                      <input\r\n                        className=\"form-check-input \"\r\n                        type=\"checkbox\"\r\n                        value=\"\"\r\n                        id=\"flexCheckDefault\"\r\n                      />\r\n                     <label\r\n                        className=\"form-check-label\"\r\n                        htmlFor=\"flexCheckDefault\"\r\n                      ></label> \r\n                    </div> */}\r\n                    </div>\r\n\r\n                    <div className=\"col-md-4 pr-3 align-items-center\">\r\n                      商品圖片\r\n                    </div>\r\n                    <div className=\"d-flex flex-md-row col-md-10 col-9 justify-content-between flex-grow-1 align-items-center\">\r\n                      <div className=\"col-md-8  align-items-center\">\r\n                        商品名稱\r\n                      </div>\r\n                      <div className=\"col-md-8 align-items-center\">單價</div>\r\n                      <div className=\"col-md-8  align-items-center\">數量</div>\r\n                    </div>\r\n                    <div className=\"col-md-2 align-items-center\">印製時間</div>\r\n                    <div className=\"col-md-2 align-items-center\">小計</div>\r\n                    <div className=\"col-md-4 col-6 d-flex justify-content-around align-items-center\">\r\n                      <div className=\"col text-center\">刪除</div>\r\n                      <div className=\"col text-center\">其他</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* <ProdItem\r\n                cs={list.cs}\r\n                cm={list.cm}\r\n                set={list.set}\r\n                setList={setList}\r\n                list={list}\r\n                setDeleteProd={setDeleteProd}\r\n                deleteProd={deleteProd}\r\n              /> */}\r\n              {list.set?.map((v, i) => {\r\n                return (\r\n                  <div className=\"prod-item ch-cont-14 \" key={'set' + i}>\r\n                    <div className=\"row my-2  d-flex align-items-center \">\r\n                      <div className=\"col-md-24 d-flex\">\r\n                        <div className=\"col-md-2 col-3 align-items-center\"></div>\r\n                        <div className=\"col-md-4 col-6 align-items-center\">\r\n                          <div className=\"cart-item-img\">\r\n                            <img\r\n                              alt=\"/img/cart/mealplan-bento.png\"\r\n                              className=\"img-fluid\"\r\n                              src=\"/img/cart/mealplan-bento.png\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div\r\n                          className={\r\n                            `d-flex ` +\r\n                            `flex-md-row flex-column ` +\r\n                            `col-9 col-md-10 justify-content-between ` +\r\n                            `flex-grow-1 align-items-center`\r\n                          }\r\n                        >\r\n                          <div className=\"col-md-8 my-md-3 align-items-center\">\r\n                            {v.set_name}\r\n                          </div>\r\n                          <div className=\"col-md-8 my-md-3 align-items-center\">\r\n                            {v.orders_value}元/個\r\n                          </div>\r\n                          <div className=\"col-md-8 my-md-3 align-items-center\">\r\n                            <div className=\"select-count\">\r\n                              <button\r\n                                onClick={() => {\r\n                                  // 加入判斷條件 不能小於1\r\n                                  minusSETCount(v.product_id);\r\n                                }}\r\n                              >\r\n                                -\r\n                              </button>\r\n                              <input\r\n                                type=\"number\"\r\n                                value={v.orders_amount}\r\n                                onChange={e => {\r\n                                  changeSETCount(+e.target.value, v.product_id);\r\n                                }}\r\n                              />\r\n                              <button\r\n                                onClick={() => {\r\n                                  // 加入判斷條件 不能小於1\r\n                                  addSETCount(v.product_id);\r\n                                }}\r\n                              >\r\n                                +\r\n                              </button>\r\n                            </div>\r\n                            {/* </div> */}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-2 d-none d-md-flex align-items-center\">\r\n                          {/* 套餐不用印製時間 */}\r\n                        </div>\r\n                        <div className=\"col-md-2 d-none d-md-flex align-items-center \">\r\n                          ${v.orders_value * v.orders_amount}\r\n                        </div>\r\n                        {\r\n                          <Modal\r\n                            show={delShowSET.open}\r\n                            onHide={handleDelCloseSET}\r\n                          >\r\n                            <Modal.Header closeButton>\r\n                              <Modal.Title className=\"en-cont-30 m-3\">\r\n                                刪除套餐\r\n                              </Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body style={{ margin: '0 3%' }}>\r\n                              <div className=\"en-cont-14 pb-2\">\r\n                                套餐計畫一經刪除 需重新選擇欲加入購物車的選項\r\n                                <br /> 確認要刪除套餐【 {delShowSET.name}\r\n                                】嗎?\r\n                              </div>\r\n                            </Modal.Body>\r\n                            <Modal.Footer>\r\n                              <Button\r\n                                variant=\"secondary\"\r\n                                className=\"btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2\"\r\n                                onClick={handleDelCloseSET}\r\n                              >\r\n                                取消\r\n                              </Button>\r\n                              <Button\r\n                                variant=\" btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2 m-3\"\r\n                                className=\"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\"\r\n                                // onClick={handleDelClose}\r\n                                onClick={e => {\r\n                                  const setpid = delShowSET.id;\r\n                                  console.log('delShowSET.id:', delShowSET.id);\r\n                                  deleteProdFun(setpid, 'set');\r\n                                  // console.log(e.currentTarget.value, 'MMMMM');\r\n                                  handleDelCloseSET();\r\n                                }}\r\n                              >\r\n                                確認\r\n                              </Button>\r\n                            </Modal.Footer>\r\n                          </Modal>\r\n                        }\r\n                        <div className=\"col-md-4 col-6 d-flex justify-content-around align-items-center\">\r\n                          <div\r\n                            className=\"prod-item-icon\"\r\n                            data-id={v.product_id}\r\n                            data-name={v.set_name}\r\n                            onClick={handleDelShowSET}\r\n                          >\r\n                            <img src=\"/img/cart/icon-trash.svg\" alt=\"\" />\r\n                          </div>\r\n\r\n                          {/* 光箱 */}\r\n                          {\r\n                            <Modal\r\n                              show={show && setSelect === i}\r\n                              onHide={handleClose}\r\n                            >\r\n                              {/* { show={ show && setSelect === i }} */}\r\n                              <Modal.Header closeButton>\r\n                                <Modal.Title className=\"en-cont-30 m-3\">\r\n                                  套餐說明\r\n                                </Modal.Title>\r\n                              </Modal.Header>\r\n                              <Modal.Body style={{ margin: '0 3%' }}>\r\n                                <div className=\"en-cont-14 pb-2\">\r\n                                  加入購物車後，套餐內容不可修改，如需調整，需移除購物車品項，重新下單，謝謝。\r\n                                </div>\r\n                                <table className=\"table table-hover\">\r\n                                  <tbody show={show.set}>\r\n                                    {v.set_info_array.map((v, i) => {\r\n                                      return (\r\n                                        <tr key={i + 1}>\r\n                                          <th\r\n                                            scope=\"row\"\r\n                                            className=\"en-cont-36\"\r\n                                          >\r\n                                            {i + 1}\r\n                                          </th>\r\n                                          <td className=\"en-cont-14\">\r\n                                            <div>\r\n                                              {v.bento_ch_name}\r\n                                              <br />\r\n                                              {v.bento_en_name}\r\n                                            </div>\r\n                                          </td>\r\n                                        </tr>\r\n                                      );\r\n                                    })}\r\n                                  </tbody>\r\n                                </table>\r\n                              </Modal.Body>\r\n                              <Modal.Footer>\r\n                                <Button\r\n                                  variant=\"secondary\"\r\n                                  className=\"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\"\r\n                                  onClick={handleClose}\r\n                                >\r\n                                  關閉\r\n                                </Button>\r\n                              </Modal.Footer>\r\n                            </Modal>\r\n                          }\r\n                          <div\r\n                            className=\"prod-item-icon\"\r\n                            data-id={v.product_id}\r\n                            data-name={v.set_name}\r\n                            data-set={v.set_info_array}\r\n                            onClick={() => handleShow(i)}\r\n                            // 顯示的是所選的那一個套餐的光箱\r\n                          >\r\n                            <img src=\"/img/cart/icon-info.svg\" alt=\"\" />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n              {list.cs?.map((v, i) => {\r\n                return (\r\n                  <div className=\"prod-item ch-cont-14 \" key={'cs' + i}>\r\n                    <div className=\"row my-2  d-flex align-items-center \">\r\n                      <div className=\"col-md-24 d-flex\">\r\n                        <div className=\"col-md-2 col-3 align-items-center\"></div>\r\n                        <div className=\"col-md-4 col-6 align-items-center\">\r\n                          <div className=\"cart-item-img\">\r\n                            <img\r\n                              alt={v.cs_prod_img_path}\r\n                              className=\"img-fluid\"\r\n                              src={`http://localhost:3500${v.c_prod_img_path}`}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div\r\n                          className={\r\n                            `d-flex ` +\r\n                            `flex-md-row flex-column ` +\r\n                            `col-9 col-md-10 justify-content-between ` +\r\n                            `flex-grow-1 align-items-center`\r\n                          }\r\n                        >\r\n                          <div className=\"col-md-8 my-md-3 align-items-center\">\r\n                            {v.c_prod_ch_name}\r\n                          </div>\r\n                          <div className=\"col-md-8 my-md-3 align-items-center\">\r\n                            {v.orders_value}元\r\n                          </div>\r\n                          <div className=\"col-md-8 my-md-3 align-items-center\">\r\n                            <div className=\"select-count\">\r\n                              <button\r\n                                onClick={() => {\r\n                                  // 加入判斷條件 不能小於1\r\n                                  minusCSCount(v.product_id);\r\n                                }}\r\n                              >\r\n                                -\r\n                              </button>\r\n                              <input\r\n                                type=\"number\"\r\n                                value={v.orders_amount}\r\n                                onChange={e => {\r\n                                  changeCSCount(+e.target.value, v.product_id);\r\n                                }}\r\n                              />\r\n                              <button\r\n                                onClick={() => {\r\n                                  // 加入判斷條件 不能小於1\r\n                                  addCSCount(v.product_id);\r\n                                }}\r\n                              >\r\n                                +\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-2 d-none d-md-flex align-items-center\">\r\n                          {v.orders_print_time}秒/個\r\n                        </div>\r\n                        <div className=\"col-md-2 d-none d-md-flex align-items-center \">\r\n                          ${v.orders_value * v.orders_amount}\r\n                        </div>\r\n                        {\r\n                          <Modal\r\n                            show={delShowCS.open}\r\n                            onHide={handleDelCloseCS}\r\n                          >\r\n                            <Modal.Header closeButton>\r\n                              <Modal.Title className=\"en-cont-30 m-3\">\r\n                                刪除經典商品\r\n                              </Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body style={{ margin: '0 3%' }}>\r\n                              <div className=\"en-cont-14 pb-2\">\r\n                                確認要刪除【{delShowCS.name}】商品嗎?\r\n                              </div>\r\n                            </Modal.Body>\r\n                            <Modal.Footer>\r\n                              <Button\r\n                                variant=\"secondary\"\r\n                                className=\"btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2\"\r\n                                onClick={handleDelCloseCS}\r\n                              >\r\n                                取消\r\n                              </Button>\r\n                              <Button\r\n                                variant=\" btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2 m-3\"\r\n                                className=\"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\"\r\n                                // onClick={handleDelClose}\r\n                                onClick={e => {\r\n                                  const pid = delShowCS.id;\r\n                                  // console.log('delShowCS.id:', delShowCS.id);\r\n                                  deleteProdFun(pid, 'cs');\r\n                                  // console.log(e.currentTarget.value, 'MMMMM');\r\n                                  handleDelCloseCS();\r\n                                }}\r\n                              >\r\n                                確認\r\n                              </Button>\r\n                            </Modal.Footer>\r\n                          </Modal>\r\n                        }\r\n                        <div className=\"col-md-4 col-6 d-flex justify-content-around align-items-center\">\r\n                          <div\r\n                            className=\"prod-item-icon\"\r\n                            data-id={v.product_id}\r\n                            data-name={v.c_prod_ch_name}\r\n                            // onClick={() => {\r\n                            //   deleteProd(v.product_id, 'cs');\r\n                            // }}\r\n                            // console.log(v.product_id + v.c_prod_ch_name);\r\n                            onClick={handleDelShowCS}\r\n                          >\r\n                            <img src=\"/img/cart/icon-trash.svg\" alt=\"刪除\" />\r\n                          </div>\r\n\r\n                          <div className=\"prod-item-icon\">\r\n                            <img src=\"/img/cart/icon-info-none.svg\" alt=\"\" />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n              {list.cm?.map((v, i) => {\r\n                return (\r\n                  <div className=\"prod-item ch-cont-14 \" key={'cm' + i}>\r\n                    <div className=\"row my-2  d-flex align-items-center \">\r\n                      <div className=\"col-md-24 d-flex\">\r\n                        <div className=\"col-md-2 col-3 align-items-center\">\r\n                          {/* <div className=\"form-check\">\r\n                    <input\r\n                      className=\"form-check-input\"\r\n                      type=\"checkbox\"\r\n                      value=\"\"\r\n                      id=\"flexCheckDefault\"\r\n                    />\r\n                    <label\r\n                      className=\"form-check-label\"\r\n                      htmlFor=\"flexCheckDefault\"\r\n                    ></label>\r\n                  </div> */}\r\n                        </div>\r\n                        <div className=\"col-md-4 col-6 align-items-center\">\r\n                          <div className=\"cart-item-img\">\r\n                            <img\r\n                              alt={v.cm_prod_img_path}\r\n                              className=\"img-fluid\"\r\n                              src={`http://localhost:3500${v.cm_prod_img_path}`}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div\r\n                          className={\r\n                            `d-flex ` +\r\n                            `flex-md-row flex-column ` +\r\n                            `col-9 col-md-10 justify-content-between ` +\r\n                            `flex-grow-1 align-items-center`\r\n                          }\r\n                        >\r\n                          <div className=\"col-md-8 my-md-3 align-items-center\">\r\n                            {v.cm_prod_name}\r\n                          </div>\r\n                          <div className=\"col-md-8 my-md-3 align-items-center\">\r\n                            {v.orders_value}元\r\n                          </div>\r\n                          <div className=\"col-md-8 my-md-3 align-items-center\">\r\n                            <div className=\"select-count\">\r\n                              <button\r\n                                onClick={() => {\r\n                                  // 加入判斷條件 不能小於1\r\n                                  // if (countcm - 1 >= 1) setCountcm(countcm - 1);\r\n                                  minusCMCount(v.product_id);\r\n                                }}\r\n                              >\r\n                                -\r\n                              </button>\r\n                              <input\r\n                                type=\"number\"\r\n                                value={v.orders_amount}\r\n                                onChange={e => {\r\n                                  changeCMCount(+e.target.value, v.product_id);\r\n                                }}\r\n                              />\r\n                              <button\r\n                                onClick={() => {\r\n                                  // 加入判斷條件 不能小於1\r\n                                  // setCountcm(countcm + 1);\r\n                                  addCMCount(v.product_id);\r\n                                }}\r\n                              >\r\n                                +\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-2 d-none d-md-flex align-items-center\">\r\n                          {v.orders_print_time}秒/個\r\n                        </div>\r\n                        <div className=\"col-md-2 d-none d-md-flex align-items-center \">\r\n                          ${v.orders_value * v.orders_amount}\r\n                        </div>\r\n                        {\r\n                          <Modal\r\n                            show={delShowCM.open}\r\n                            onHide={handleDelCloseCM}\r\n                          >\r\n                            <Modal.Header closeButton>\r\n                              <Modal.Title className=\"en-cont-30 m-3\">\r\n                                刪除客製化商品\r\n                              </Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body style={{ margin: '0 3%' }}>\r\n                              <div className=\"en-cont-14 pb-2\">\r\n                                提醒您客製化商品移出購物車後將會清空製作的紀錄，\r\n                                <br />\r\n                                確認要刪除 【{delShowCM.name} 】嗎?\r\n                              </div>\r\n                            </Modal.Body>\r\n                            <Modal.Footer>\r\n                              <Button\r\n                                variant=\"secondary\"\r\n                                className=\"btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2\"\r\n                                onClick={handleDelCloseCM}\r\n                              >\r\n                                取消\r\n                              </Button>\r\n                              <Button\r\n                                variant=\" btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2 m-3\"\r\n                                className=\"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\"\r\n                                // onClick={handleDelClose}\r\n                                onClick={e => {\r\n                                  const pid = delShowCM.id;\r\n                                  console.log('delShowCM.id:', delShowCM.id);\r\n                                  deleteProdFun(pid, 'cm');\r\n                                  // console.log(e.currentTarget.value, 'MMMMM');\r\n                                  handleDelCloseCM();\r\n                                }}\r\n                              >\r\n                                確認\r\n                              </Button>\r\n                            </Modal.Footer>\r\n                          </Modal>\r\n                        }\r\n                        <div className=\"col-md-4 col-6 d-flex justify-content-around align-items-center\">\r\n                          <div\r\n                            className=\"prod-item-icon\"\r\n                            data-id={v.product_id}\r\n                            data-name={v.cm_prod_name}\r\n                            onClick={handleDelShowCM}\r\n                            // onClick={() => {\r\n                            //   deleteProdFun(v.product_id, 'cm');\r\n                            // }}\r\n                          >\r\n                            <img src=\"/img/cart/icon-trash.svg\" alt=\"刪除\" />\r\n                          </div>\r\n\r\n                          <div className=\"prod-item-icon\">\r\n                            <img src=\"/img/cart/icon-info-none.svg\" alt=\"\" />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n\r\n              <div\r\n                className=\"list-check ch-cont-14\"\r\n                style={{ padding: '30px' }}\r\n              >\r\n                <div className=\"row \">\r\n                  {/* <div className=\"col-24 \"> */}\r\n                  <div className=\"col-md-5 row\"></div>\r\n                  <div className=\"col-md-19 px-md-5 \">\r\n                    <div className=\"summary \">\r\n                      <div className=\"row print-time my-4\">\r\n                        <div className=\"col-12 col-md-12 \">商品數量</div>\r\n                        <div className=\"col-12 col-md-8 text-right\">\r\n                          總計{prodCount}項\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"row print-time my-4\">\r\n                        <div className=\"col-12 col-md-12\">印製時間</div>\r\n                        <div className=\"col-12 col-md-8 text-right\">\r\n                          {printTime / 60}分鐘\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"row discount my-4\">\r\n                        <div className=\"col-12 col-md-12\">折抵金額</div>\r\n                        {/* <div className=\"col-md-4\"></div> */}\r\n                        <div className=\"col-12 col-md-8\">\r\n                          <div className=\" d-flex justify-content-end\">\r\n                            <label className=\"form-label\"></label>\r\n                            <input\r\n                              type=\"number\"\r\n                              className=\"form-control\"\r\n                              placeholder=\"NT$\"\r\n                              defaultValue={discountTotal / 100}\r\n                              min={0}\r\n                              max={discountTotal / 100}\r\n                              onChange={e => {\r\n                                // handleChange();\r\n                                // discountShow(true);\r\n                                if (e.target.value <= discountTotal / 100) {\r\n                                  const newData = {\r\n                                    cart_value: amount,\r\n                                    cart_credit: +e.target.value,\r\n                                    cart_total_print_time: printTime,\r\n                                  };\r\n                                  setInputSum(newData);\r\n                                } else {\r\n                                  // TODO: alert 要改\r\n                                  setDiscountShow(true);\r\n                                  // alert('輸入金額有誤，請重新輸入!');\r\n                                  setInputSum({\r\n                                    ...inputSum,\r\n                                    cart_credit: '',\r\n                                  });\r\n                                  e.target.value = '';\r\n                                }\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n\r\n                        <small className=\"col-24 col-md-20 text-right \">\r\n                          {/* 會員點數15,000點 可折抵NT$15元 */}\r\n                          會員點數{discountTotal}點 最多可折抵NT$\r\n                          {discountTotal / 100}元\r\n                        </small>\r\n                      </div>\r\n                      <div className=\"row price my-4\">\r\n                        <div className=\"col-12 col-md-12\">訂單金額</div>\r\n                        <div className=\"col-12 col-md-8 text-right ch-cont-24\">\r\n                          NT {amount}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row  d-flex justify-content-center justify-content-md-end\">\r\n                  <div className=\"  next-btn d-flex my-5 \">\r\n                    <Link to=\"/classic\">\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn btn-sm btn-outline-primary primeal-btn-outline-sm  mx-5 mx-md-3\"\r\n                      >\r\n                        繼續購物\r\n                      </button>\r\n                    </Link>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-sm btn-primary primeal-btn-sm mx-5 mx-md-3\"\r\n                      onClick={handleSubmit}\r\n                    >\r\n                      前往結帳\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <Footer />\r\n          </div>\r\n          <AsideRight\r\n            setNavIsOpen={setNavIsOpen}\r\n            changeCartCount={changeCartCount} // 購物車數量狀態改變\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default StepOne;\r\n"]},"metadata":{},"sourceType":"module"}