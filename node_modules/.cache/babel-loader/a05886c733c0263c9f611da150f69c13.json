{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryany\\\\OneDrive\\\\\\u684C\\u9762\\\\primeal\\\\src\\\\pages\\\\member\\\\component\\\\IndexRevisePwd.js\",\n    _s = $RefreshSig$();\n\nimport { ReactComponent as DeleteSm } from '../../../../src/imgs/delete-sm.svg';\nimport { useState } from 'react';\nimport { ReactComponent as EyeOff } from '../../../imgs/eye-off-dark.svg';\nimport { ReactComponent as EyeShow } from '../../../imgs/eye-show-dark.svg';\nimport { indexRevisePwd } from '../../../WebApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst mem_id = localStorage.getItem('mem_id');\n\nfunction IndexRevisePwd(props) {\n  _s();\n\n  const {\n    setIsRevisePwd\n  } = props;\n  const [showPwd, setShowPwd] = useState(false);\n  const [errorMsg, setErrorMsg] = useState('');\n  const [revisePwd, setRevisePwd] = useState({\n    originalPwd: '',\n    newPwd: '',\n    checkNewPwd: ''\n  });\n\n  const handleChangePwd = e => {\n    const newPwdData = { ...revisePwd,\n      [e.target.name]: e.target.value\n    };\n    setRevisePwd(newPwdData);\n  };\n\n  const handleSubmitRevisePwd = e => {\n    e.preventDefault();\n\n    if (revisePwd.originalPwd.length == 0 || revisePwd.newPwd.length == 0 || revisePwd.checkNewPwd.length == 0) {\n      setErrorMsg('欄位不可為空');\n    } else {\n      if (revisePwd.newPwd !== revisePwd.checkNewPwd) {\n        setErrorMsg('密碼與確認密碼不符!');\n      } else {\n        indexRevisePwd(mem_id, revisePwd).then(obj => {\n          console.log(obj);\n          alert('修改成功');\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => {\n        setIsRevisePwd(false);\n      },\n      children: /*#__PURE__*/_jsxDEV(DeleteSm, {\n        style: {\n          position: 'absolute',\n          right: 150,\n          cursor: 'pointer'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mycontainer mx-5 reviseCon\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ch-title-18 accTitle\",\n        children: \"\\u4FEE\\u6539\\u5BC6\\u78BC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"actPwd col-md-24 mb-5\",\n        onSubmit: handleSubmitRevisePwd,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"memInfoLeft \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"memInpbtBig mt-5\",\n            style: {\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"reviseLabel ch-cont-14\",\n              children: \"\\u539F\\u59CB\\u5BC6\\u78BC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control revInpBig ch-cont-14\",\n              value: revisePwd.originalPwd,\n              name: \"originalPwd\",\n              onChange: handleChangePwd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#b03342',\n                height: '20px'\n              },\n              children: errorMsg && errorMsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this), showPwd === false ? /*#__PURE__*/_jsxDEV(EyeOff, {\n              style: {\n                position: 'absolute',\n                right: '10px',\n                top: '40%',\n                cursor: 'pointer'\n              },\n              onClick: () => {\n                setShowPwd(true);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(EyeShow, {\n              style: {\n                position: 'absolute',\n                right: '10px',\n                top: '50%',\n                cursor: 'pointer'\n              },\n              onClick: () => {\n                setShowPwd(false);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"memInpbtBig mt-5\",\n            style: {\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"reviseLabel ch-cont-14\",\n              children: \"\\u65B0\\u5BC6\\u78BC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control revInpBig ch-cont-14\",\n              value: revisePwd.newPwd,\n              name: \"newPwd\",\n              onChange: handleChangePwd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#b03342',\n                height: '20px'\n              },\n              children: errorMsg && errorMsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), showPwd === false ? /*#__PURE__*/_jsxDEV(EyeOff, {\n              style: {\n                position: 'absolute',\n                right: '10px',\n                top: '40%',\n                cursor: 'pointer'\n              },\n              onClick: () => {\n                setShowPwd(true);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(EyeShow, {\n              style: {\n                position: 'absolute',\n                right: '10px',\n                top: '50%',\n                cursor: 'pointer'\n              },\n              onClick: () => {\n                setShowPwd(false);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"memInpbtBig my-5\",\n            style: {\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"reviseLabel ch-cont-14\",\n              children: \"\\u78BA\\u8A8D\\u65B0\\u5BC6\\u78BC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control revInpBig ch-cont-14\",\n              value: revisePwd.checkNewPwd,\n              name: \"checkNewPwd\",\n              onChange: handleChangePwd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#b03342',\n                height: '20px'\n              },\n              children: errorMsg && errorMsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), showPwd === false ? /*#__PURE__*/_jsxDEV(EyeOff, {\n              style: {\n                position: 'absolute',\n                right: '10px',\n                top: '40%',\n                cursor: 'pointer'\n              },\n              onClick: () => {\n                setShowPwd(true);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(EyeShow, {\n              style: {\n                position: 'absolute',\n                right: '10px',\n                top: '50%',\n                cursor: 'pointer'\n              },\n              onClick: () => {\n                setShowPwd(false);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"memPwdBtn \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"memInpbtPsdBig my-5\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary primeal-btn revPswBtnPage mb-5\",\n              children: \"\\u63D0\\u4EA4\\u4FEE\\u6539\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(IndexRevisePwd, \"MzOsKqvc/hu7f/9pfu/DfsSm0FA=\");\n\n_c = IndexRevisePwd;\nexport default IndexRevisePwd;\n\nvar _c;\n\n$RefreshReg$(_c, \"IndexRevisePwd\");","map":{"version":3,"sources":["C:/Users/ryany/OneDrive/桌面/primeal/src/pages/member/component/IndexRevisePwd.js"],"names":["ReactComponent","DeleteSm","useState","EyeOff","EyeShow","indexRevisePwd","mem_id","localStorage","getItem","IndexRevisePwd","props","setIsRevisePwd","showPwd","setShowPwd","errorMsg","setErrorMsg","revisePwd","setRevisePwd","originalPwd","newPwd","checkNewPwd","handleChangePwd","e","newPwdData","target","name","value","handleSubmitRevisePwd","preventDefault","length","then","obj","console","log","alert","position","right","cursor","color","height","top"],"mappings":"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","sourcesContent":["import { ReactComponent as DeleteSm } from '../../../../src/imgs/delete-sm.svg';\r\nimport { useState } from 'react';\r\nimport { ReactComponent as EyeOff } from '../../../imgs/eye-off-dark.svg';\r\nimport { ReactComponent as EyeShow } from '../../../imgs/eye-show-dark.svg';\r\nimport { indexRevisePwd } from '../../../WebApi';\r\n\r\nconst mem_id = localStorage.getItem('mem_id');\r\n\r\nfunction IndexRevisePwd(props) {\r\n  const { setIsRevisePwd } = props;\r\n  const [showPwd, setShowPwd] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [revisePwd, setRevisePwd] = useState({\r\n    originalPwd: '',\r\n    newPwd: '',\r\n    checkNewPwd: '',\r\n  });\r\n  const handleChangePwd = e => {\r\n    const newPwdData = { ...revisePwd, [e.target.name]: e.target.value };\r\n    setRevisePwd(newPwdData);\r\n  };\r\n  const handleSubmitRevisePwd = e => {\r\n    e.preventDefault();\r\n    if (\r\n      revisePwd.originalPwd.length == 0 ||\r\n      revisePwd.newPwd.length == 0 ||\r\n      revisePwd.checkNewPwd.length == 0\r\n    ) {\r\n      setErrorMsg('欄位不可為空');\r\n    } else {\r\n      if (revisePwd.newPwd !== revisePwd.checkNewPwd) {\r\n        setErrorMsg('密碼與確認密碼不符!');\r\n      } else {\r\n        indexRevisePwd(mem_id, revisePwd).then(obj => {\r\n          console.log(obj);\r\n          alert('修改成功');\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        onClick={() => {\r\n          setIsRevisePwd(false);\r\n        }}\r\n      >\r\n        <DeleteSm\r\n          style={{ position: 'absolute', right: 150, cursor: 'pointer' }}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"mycontainer mx-5 reviseCon\">\r\n        <p className=\"ch-title-18 accTitle\">修改密碼</p>\r\n        <form\r\n          className=\"actPwd col-md-24 mb-5\"\r\n          onSubmit={handleSubmitRevisePwd}\r\n        >\r\n          <div className=\"memInfoLeft \">\r\n            <div className=\"memInpbtBig mt-5\" style={{ position: 'relative' }}>\r\n              <label className=\"reviseLabel ch-cont-14\">原始密碼</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control revInpBig ch-cont-14\"\r\n                value={revisePwd.originalPwd}\r\n                name=\"originalPwd\"\r\n                onChange={handleChangePwd}\r\n              />\r\n              <div style={{ color: '#b03342', height: '20px' }}>\r\n                {errorMsg && errorMsg}\r\n              </div>\r\n              {showPwd === false ? (\r\n                <EyeOff\r\n                  style={{\r\n                    position: 'absolute',\r\n                    right: '10px',\r\n                    top: '40%',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={() => {\r\n                    setShowPwd(true);\r\n                  }}\r\n                ></EyeOff>\r\n              ) : (\r\n                <EyeShow\r\n                  style={{\r\n                    position: 'absolute',\r\n                    right: '10px',\r\n                    top: '50%',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={() => {\r\n                    setShowPwd(false);\r\n                  }}\r\n                ></EyeShow>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"memInpbtBig mt-5\" style={{ position: 'relative' }}>\r\n              <label className=\"reviseLabel ch-cont-14\">新密碼</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control revInpBig ch-cont-14\"\r\n                value={revisePwd.newPwd}\r\n                name=\"newPwd\"\r\n                onChange={handleChangePwd}\r\n              />\r\n              <div style={{ color: '#b03342', height: '20px' }}>\r\n                {errorMsg && errorMsg}\r\n              </div>\r\n              {showPwd === false ? (\r\n                <EyeOff\r\n                  style={{\r\n                    position: 'absolute',\r\n                    right: '10px',\r\n                    top: '40%',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={() => {\r\n                    setShowPwd(true);\r\n                  }}\r\n                ></EyeOff>\r\n              ) : (\r\n                <EyeShow\r\n                  style={{\r\n                    position: 'absolute',\r\n                    right: '10px',\r\n                    top: '50%',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={() => {\r\n                    setShowPwd(false);\r\n                  }}\r\n                ></EyeShow>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"memInpbtBig my-5\" style={{ position: 'relative' }}>\r\n              <label className=\"reviseLabel ch-cont-14\">確認新密碼</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control revInpBig ch-cont-14\"\r\n                value={revisePwd.checkNewPwd}\r\n                name=\"checkNewPwd\"\r\n                onChange={handleChangePwd}\r\n              />\r\n              <div style={{ color: '#b03342', height: '20px' }}>\r\n                {errorMsg && errorMsg}\r\n              </div>\r\n              {showPwd === false ? (\r\n                <EyeOff\r\n                  style={{\r\n                    position: 'absolute',\r\n                    right: '10px',\r\n                    top: '40%',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={() => {\r\n                    setShowPwd(true);\r\n                  }}\r\n                ></EyeOff>\r\n              ) : (\r\n                <EyeShow\r\n                  style={{\r\n                    position: 'absolute',\r\n                    right: '10px',\r\n                    top: '50%',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={() => {\r\n                    setShowPwd(false);\r\n                  }}\r\n                ></EyeShow>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"memPwdBtn \">\r\n            <div className=\"memInpbtPsdBig my-5\">\r\n              <button className=\"btn btn-primary primeal-btn revPswBtnPage mb-5\">\r\n                提交修改\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default IndexRevisePwd;\r\n"]},"metadata":{},"sourceType":"module"}