{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryany\\\\OneDrive\\\\\\u684C\\u9762\\\\primeal\\\\src\\\\pages\\\\member\\\\component\\\\IndexRevisePwd.js\",\n    _s = $RefreshSig$();\n\nimport { ReactComponent as DeleteSm } from '../../../../src/imgs/delete-sm.svg';\nimport { useState } from 'react';\nimport { ReactComponent as EyeOff } from '../../../imgs/eye-off-dark.svg';\nimport { ReactComponent as EyeShow } from '../../../imgs/eye-show-dark.svg';\nimport { indexRevisePwd } from '../../../WebApi';\nimport { Button, Modal } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst mem_id = localStorage.getItem('mem_id');\n\nfunction IndexRevisePwd(props) {\n  _s();\n\n  const {\n    setIsRevisePwd\n  } = props;\n  const [showPwd, setShowPwd] = useState(false);\n  const [errorMsg, setErrorMsg] = useState('');\n  const [revisePwdShow, setRevisePwdShow] = useState(false);\n  const [revisePwd, setRevisePwd] = useState({\n    originalPwd: '',\n    newPwd: '',\n    checkNewPwd: ''\n  });\n\n  const handleChangePwd = e => {\n    const newPwdData = { ...revisePwd,\n      [e.target.name]: e.target.value\n    };\n    setRevisePwd(newPwdData);\n  };\n\n  const handleSubmitRevisePwd = e => {\n    e.preventDefault();\n\n    if (revisePwd.originalPwd.length == 0 || revisePwd.newPwd.length == 0 || revisePwd.checkNewPwd.length == 0) {\n      setErrorMsg('欄位不可為空');\n    } else {\n      if (revisePwd.newPwd !== revisePwd.checkNewPwd) {\n        setErrorMsg('密碼與確認密碼不符!');\n      } else {\n        indexRevisePwd(mem_id, revisePwd).then(obj => {\n          setRevisePwdShow(true);\n        });\n      }\n    }\n  };\n\n  const handleClose = () => setRevisePwdShow(false);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      show: revisePwdShow,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          className: \"ch-title-20 m-3\",\n          children: \"\\u6703\\u54E1\\u5BC6\\u78BC\\u4FEE\\u6539\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        style: {\n          margin: '0 3%'\n        },\n        children: \"\\u5BC6\\u78BC\\u4FEE\\u6539\\u6210\\u529F!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          className: \"btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2\",\n          onClick: () => {\n            setRevisePwdShow(false);\n          },\n          children: \"\\u96E2\\u958B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => {\n        setIsRevisePwd(false);\n      },\n      children: /*#__PURE__*/_jsxDEV(DeleteSm, {\n        style: {\n          position: 'absolute',\n          right: 150,\n          cursor: 'pointer'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mycontainer mx-5 reviseCon\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ch-title-18 accTitle\",\n        children: \"\\u4FEE\\u6539\\u5BC6\\u78BC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"actPwd col-md-24 mb-5\",\n        onSubmit: handleSubmitRevisePwd,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"memInfoLeft \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"memInpbtBig mt-5\",\n            style: {\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"reviseLabel ch-cont-14\",\n              children: \"\\u539F\\u59CB\\u5BC6\\u78BC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control revInpBig ch-cont-14\",\n              value: revisePwd.originalPwd,\n              name: \"originalPwd\",\n              onChange: handleChangePwd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#b03342',\n                height: '20px'\n              },\n              children: errorMsg && errorMsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), showPwd === false ? /*#__PURE__*/_jsxDEV(EyeOff, {\n              style: {\n                position: 'absolute',\n                right: '10px',\n                top: '40%',\n                cursor: 'pointer'\n              },\n              onClick: () => {\n                setShowPwd(true);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(EyeShow, {\n              style: {\n                position: 'absolute',\n                right: '10px',\n                top: '50%',\n                cursor: 'pointer'\n              },\n              onClick: () => {\n                setShowPwd(false);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"memInpbtBig mt-5\",\n            style: {\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"reviseLabel ch-cont-14\",\n              children: \"\\u65B0\\u5BC6\\u78BC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control revInpBig ch-cont-14\",\n              value: revisePwd.newPwd,\n              name: \"newPwd\",\n              onChange: handleChangePwd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#b03342',\n                height: '20px'\n              },\n              children: errorMsg && errorMsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), showPwd === false ? /*#__PURE__*/_jsxDEV(EyeOff, {\n              style: {\n                position: 'absolute',\n                right: '10px',\n                top: '40%',\n                cursor: 'pointer'\n              },\n              onClick: () => {\n                setShowPwd(true);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(EyeShow, {\n              style: {\n                position: 'absolute',\n                right: '10px',\n                top: '50%',\n                cursor: 'pointer'\n              },\n              onClick: () => {\n                setShowPwd(false);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"memInpbtBig my-5\",\n            style: {\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"reviseLabel ch-cont-14\",\n              children: \"\\u78BA\\u8A8D\\u65B0\\u5BC6\\u78BC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control revInpBig ch-cont-14\",\n              value: revisePwd.checkNewPwd,\n              name: \"checkNewPwd\",\n              onChange: handleChangePwd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#b03342',\n                height: '20px'\n              },\n              children: errorMsg && errorMsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), showPwd === false ? /*#__PURE__*/_jsxDEV(EyeOff, {\n              style: {\n                position: 'absolute',\n                right: '10px',\n                top: '40%',\n                cursor: 'pointer'\n              },\n              onClick: () => {\n                setShowPwd(true);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(EyeShow, {\n              style: {\n                position: 'absolute',\n                right: '10px',\n                top: '50%',\n                cursor: 'pointer'\n              },\n              onClick: () => {\n                setShowPwd(false);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"memPwdBtn \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"memInpbtPsdBig my-5\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary primeal-btn revPswBtnPage mb-5\",\n              children: \"\\u63D0\\u4EA4\\u4FEE\\u6539\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(IndexRevisePwd, \"mkC6q5SNFLnvJa6vRgbkVeGY0aE=\");\n\n_c = IndexRevisePwd;\nexport default IndexRevisePwd;\n\nvar _c;\n\n$RefreshReg$(_c, \"IndexRevisePwd\");","map":{"version":3,"sources":["C:/Users/ryany/OneDrive/桌面/primeal/src/pages/member/component/IndexRevisePwd.js"],"names":["ReactComponent","DeleteSm","useState","EyeOff","EyeShow","indexRevisePwd","Button","Modal","mem_id","localStorage","getItem","IndexRevisePwd","props","setIsRevisePwd","showPwd","setShowPwd","errorMsg","setErrorMsg","revisePwdShow","setRevisePwdShow","revisePwd","setRevisePwd","originalPwd","newPwd","checkNewPwd","handleChangePwd","e","newPwdData","target","name","value","handleSubmitRevisePwd","preventDefault","length","then","obj","handleClose","margin","position","right","cursor","color","height","top"],"mappings":"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","sourcesContent":["import { ReactComponent as DeleteSm } from '../../../../src/imgs/delete-sm.svg';\r\nimport { useState } from 'react';\r\nimport { ReactComponent as EyeOff } from '../../../imgs/eye-off-dark.svg';\r\nimport { ReactComponent as EyeShow } from '../../../imgs/eye-show-dark.svg';\r\nimport { indexRevisePwd } from '../../../WebApi';\r\nimport { Button, Modal } from 'react-bootstrap';\r\n\r\nconst mem_id = localStorage.getItem('mem_id');\r\n\r\nfunction IndexRevisePwd(props) {\r\n  const { setIsRevisePwd } = props;\r\n  const [showPwd, setShowPwd] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [revisePwdShow, setRevisePwdShow] = useState(false);\r\n  const [revisePwd, setRevisePwd] = useState({\r\n    originalPwd: '',\r\n    newPwd: '',\r\n    checkNewPwd: '',\r\n  });\r\n  const handleChangePwd = e => {\r\n    const newPwdData = { ...revisePwd, [e.target.name]: e.target.value };\r\n    setRevisePwd(newPwdData);\r\n  };\r\n  const handleSubmitRevisePwd = e => {\r\n    e.preventDefault();\r\n    if (\r\n      revisePwd.originalPwd.length == 0 ||\r\n      revisePwd.newPwd.length == 0 ||\r\n      revisePwd.checkNewPwd.length == 0\r\n    ) {\r\n      setErrorMsg('欄位不可為空');\r\n    } else {\r\n      if (revisePwd.newPwd !== revisePwd.checkNewPwd) {\r\n        setErrorMsg('密碼與確認密碼不符!');\r\n      } else {\r\n        indexRevisePwd(mem_id, revisePwd).then(obj => {\r\n          setRevisePwdShow(true);\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleClose = () => setRevisePwdShow(false);\r\n\r\n  return (\r\n    <>\r\n      {\r\n        <Modal show={revisePwdShow} onHide={handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title className=\"ch-title-20 m-3\">會員密碼修改</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body style={{ margin: '0 3%' }}>密碼修改成功!</Modal.Body>\r\n          <Modal.Footer>\r\n            <Button\r\n              variant=\"secondary\"\r\n              className=\"btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2\"\r\n              onClick={() => {\r\n                setRevisePwdShow(false);\r\n              }}\r\n            >\r\n              離開\r\n            </Button>\r\n            {/*TODO: 確認門市要送出表單並存到DB mem */}\r\n          </Modal.Footer>\r\n        </Modal>\r\n      }\r\n      <div\r\n        onClick={() => {\r\n          setIsRevisePwd(false);\r\n        }}\r\n      >\r\n        <DeleteSm\r\n          style={{ position: 'absolute', right: 150, cursor: 'pointer' }}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"mycontainer mx-5 reviseCon\">\r\n        <p className=\"ch-title-18 accTitle\">修改密碼</p>\r\n        <form\r\n          className=\"actPwd col-md-24 mb-5\"\r\n          onSubmit={handleSubmitRevisePwd}\r\n        >\r\n          <div className=\"memInfoLeft \">\r\n            <div className=\"memInpbtBig mt-5\" style={{ position: 'relative' }}>\r\n              <label className=\"reviseLabel ch-cont-14\">原始密碼</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control revInpBig ch-cont-14\"\r\n                value={revisePwd.originalPwd}\r\n                name=\"originalPwd\"\r\n                onChange={handleChangePwd}\r\n              />\r\n              <div style={{ color: '#b03342', height: '20px' }}>\r\n                {errorMsg && errorMsg}\r\n              </div>\r\n              {showPwd === false ? (\r\n                <EyeOff\r\n                  style={{\r\n                    position: 'absolute',\r\n                    right: '10px',\r\n                    top: '40%',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={() => {\r\n                    setShowPwd(true);\r\n                  }}\r\n                ></EyeOff>\r\n              ) : (\r\n                <EyeShow\r\n                  style={{\r\n                    position: 'absolute',\r\n                    right: '10px',\r\n                    top: '50%',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={() => {\r\n                    setShowPwd(false);\r\n                  }}\r\n                ></EyeShow>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"memInpbtBig mt-5\" style={{ position: 'relative' }}>\r\n              <label className=\"reviseLabel ch-cont-14\">新密碼</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control revInpBig ch-cont-14\"\r\n                value={revisePwd.newPwd}\r\n                name=\"newPwd\"\r\n                onChange={handleChangePwd}\r\n              />\r\n              <div style={{ color: '#b03342', height: '20px' }}>\r\n                {errorMsg && errorMsg}\r\n              </div>\r\n              {showPwd === false ? (\r\n                <EyeOff\r\n                  style={{\r\n                    position: 'absolute',\r\n                    right: '10px',\r\n                    top: '40%',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={() => {\r\n                    setShowPwd(true);\r\n                  }}\r\n                ></EyeOff>\r\n              ) : (\r\n                <EyeShow\r\n                  style={{\r\n                    position: 'absolute',\r\n                    right: '10px',\r\n                    top: '50%',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={() => {\r\n                    setShowPwd(false);\r\n                  }}\r\n                ></EyeShow>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"memInpbtBig my-5\" style={{ position: 'relative' }}>\r\n              <label className=\"reviseLabel ch-cont-14\">確認新密碼</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control revInpBig ch-cont-14\"\r\n                value={revisePwd.checkNewPwd}\r\n                name=\"checkNewPwd\"\r\n                onChange={handleChangePwd}\r\n              />\r\n              <div style={{ color: '#b03342', height: '20px' }}>\r\n                {errorMsg && errorMsg}\r\n              </div>\r\n              {showPwd === false ? (\r\n                <EyeOff\r\n                  style={{\r\n                    position: 'absolute',\r\n                    right: '10px',\r\n                    top: '40%',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={() => {\r\n                    setShowPwd(true);\r\n                  }}\r\n                ></EyeOff>\r\n              ) : (\r\n                <EyeShow\r\n                  style={{\r\n                    position: 'absolute',\r\n                    right: '10px',\r\n                    top: '50%',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={() => {\r\n                    setShowPwd(false);\r\n                  }}\r\n                ></EyeShow>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"memPwdBtn \">\r\n            <div className=\"memInpbtPsdBig my-5\">\r\n              <button className=\"btn btn-primary primeal-btn revPswBtnPage mb-5\">\r\n                提交修改\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default IndexRevisePwd;\r\n"]},"metadata":{},"sourceType":"module"}