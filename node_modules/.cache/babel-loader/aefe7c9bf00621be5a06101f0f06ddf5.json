{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryany\\\\OneDrive\\\\\\u684C\\u9762\\\\primeal\\\\src\\\\pages\\\\customize\\\\CusMiDetail.js\",\n    _s = $RefreshSig$();\n\nimport { Header, Title, AsideLeft, AsideRight, Footer } from '../layout/Layout';\nimport { useEffect, useState } from 'react';\nimport './customize.scss';\nimport { ReactComponent as Plus } from '../../imgs/plus.svg';\nimport { ReactComponent as Minus } from '../../imgs/minus.svg';\nimport config from '../../Config';\nimport { Link, useHistory } from 'react-router-dom';\nimport { getCartCount } from '../../utils';\nimport { Button, Modal } from 'react-bootstrap';\nimport NavPage from '../layout/components/NavPage';\nimport ChartForCm from '../chartjs/ChartCs/ChartForCm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction CusMiDetail(props) {\n  _s();\n\n  // nav\n  const {\n    navIsOpen,\n    setNavIsOpen\n  } = props;\n  const showBlock = {\n    display: 'block'\n  };\n  const hiddenBlock = {\n    display: 'none'\n  };\n  const [cusProdSQL, setCusProdSQL] = useState(); // 從資料庫把儲存好的資料撈出來\n\n  const [cusCount, setCusCount] = useState(1); // 購買數量\n\n  const [namedCusProd, setNamedCusProd] = useState(''); // 命名\n\n  const [changeCartCount, setChangeCartCount] = useState(0); // 變更購物車圈圈數量\n\n  const [selectedMtl, setSelectedMtl] = useState({}); //選定的食材資料\n\n  const [arrayForChart, setArrayForChart] = useState([]); // fot chartjs的陣列\n\n  const history = useHistory(); // 偵聽網頁拉到哪裡\n\n  const [offset, setOffset] = useState(0);\n  useEffect(() => {\n    const onScroll = () => setOffset(window.pageYOffset); // clean up code\n\n\n    window.removeEventListener('scroll', onScroll);\n    window.addEventListener('scroll', onScroll, {\n      passive: true\n    });\n    return () => window.removeEventListener('scroll', onScroll);\n  }, []); // 接SQL資料\n\n  useEffect(() => {\n    const catchData = async () => {\n      const res = await fetch(config.GET_CUS_DATA, {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          memid: localStorage.getItem('mem_id')\n        })\n      });\n      const resJson = await res.json();\n      setCusProdSQL(resJson.rows);\n      setSelectedMtl(resJson.rows.mtlarray[0]);\n    };\n\n    setTimeout(() => {\n      catchData();\n    }, 300);\n  }, []); // chart圖表\n\n  useEffect(() => {\n    let newMtlArray = [];\n    const chartMtlArray = !cusProdSQL ? '' : cusProdSQL.mtlarray.map(e => {\n      newMtlArray.splice(0, 0, e.mtl_id);\n    });\n    setArrayForChart(newMtlArray);\n  }, [cusProdSQL]); // 數量增減\n  // 輸入數量\n\n  const countIt = count => {\n    if (cusCount <= 0 || cusCount >= 99) {\n      return false;\n    }\n\n    setCusCount(count);\n  }; // 數量-1\n\n\n  const contMinus = count => {\n    if (cusCount <= 1) {\n      console.log('哈囉哈囉');\n      return false;\n    }\n\n    const newCount = cusCount - 1;\n    setCusCount(newCount);\n  }; // 數量+1\n\n\n  const countAdd = count => {\n    if (cusCount >= 99) {\n      return false;\n    }\n\n    const newCount = cusCount + 1;\n    setCusCount(newCount);\n  }; // 命名並送至後端\n\n\n  const cusProdname = async () => {\n    const res = await fetch(config.POST_FINAL_DATA, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        cus_name: namedCusProd,\n        memid: localStorage.getItem('mem_id')\n      })\n    });\n    const resJson = await res.json();\n  }; //加入購物車\n\n\n  const addToCart = () => {\n    const isLogin = localStorage.getItem('mem_id') !== null; //判斷是否登入\n\n    if (isLogin) {\n      fetch(config.CUS_TO_CART, {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          memid: +localStorage.getItem('mem_id'),\n          cm_prod_id: cusProdSQL.cm_prod_id,\n          count: cusCount,\n          value: +cusProdSQL.cm_prod_value,\n          print: cusProdSQL.cm_prod_print_time,\n          category: 'cm'\n        })\n      }).then(res => res.json()).then(async d => {\n        await getCartCount(+localStorage.getItem('mem_id'));\n        setChangeCartCount(changeCartCount + 1);\n      });\n      handleCartShow();\n    } else {\n      handleLikeShow();\n    }\n  }; // 購物車數字變化\n\n\n  const [cart_count, setCart_count] = useState(0);\n  useEffect(() => {\n    setCart_count(localStorage.getItem('cart_count'));\n  }, [props.changeCartCount]); //請先登入的光箱\n\n  const [likeShow, setLikeShow] = useState(false);\n\n  const handleLikeClose = () => setLikeShow(false);\n\n  const handleLikeShow = () => setLikeShow(true);\n\n  const likeModel = /*#__PURE__*/_jsxDEV(Modal, {\n    show: likeShow,\n    onHide: handleLikeClose,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        className: \"en-cont-30 m-3\",\n        children: \"\\u63D0\\u9192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      style: {\n        margin: '0 3%'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"en-cont-14 pb-2\",\n        children: \"\\u8ACB\\u5148\\u767B\\u5165\\u5F8C\\u624D\\u80FD\\u64CD\\u4F5C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        className: \"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\",\n        onClick: handleLikeClose,\n        children: \"\\u95DC\\u9589\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this); //加入購物車的光箱\n\n\n  const [cartShow, setCartShow] = useState(false);\n\n  const handleCartClose = () => setCartShow(false);\n\n  const handleCartShow = () => setCartShow(true);\n\n  const cartModel = /*#__PURE__*/_jsxDEV(Modal, {\n    show: cartShow,\n    onHide: handleCartClose,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        className: \"en-cont-30 m-3\",\n        children: \"\\u63D0\\u9192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      style: {\n        margin: '0 3%'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"en-cont-14 pb-2\",\n        children: \"\\u5DF2\\u6210\\u529F\\u5C07\\u5546\\u54C1\\u52A0\\u5165\\u8CFC\\u7269\\u8ECA\\uFF01\\u8ACB\\u554F\\u662F\\u5426\\u8981\\u524D\\u5F80\\u7D50\\u5E33\\u9801\\u9762\\uFF1F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        className: \"btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2\",\n        onClick: () => {\n          handleCartClose();\n          history.push('/customize');\n        },\n        children: \"\\u8FD4\\u56DE\\u88FD\\u4F5C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \" btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2 m-3\",\n        className: \"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\",\n        onClick: () => {\n          handleCartClose();\n          history.push('/cart/stepone');\n        },\n        children: \"\\u524D\\u5F80\\u7D50\\u5E33\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 5\n  }, this);\n\n  const clickMtl = mtlId => {\n    const mtl = cusProdSQL.mtlarray.find(id => id.mtl_id === mtlId);\n    setSelectedMtl(mtl);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [navIsOpen && /*#__PURE__*/_jsxDEV(NavPage, {\n      navIsOpen: navIsOpen,\n      setNavIsOpen: setNavIsOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: navIsOpen ? hiddenBlock : showBlock,\n      children: [likeModel, cartModel, /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex'\n        },\n        children: [/*#__PURE__*/_jsxDEV(AsideLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"customize mycontainer min-hi margin-top\",\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              title: 'Customization'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"trail\",\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: '/',\n                style: {\n                  textDecoration: 'none',\n                  color: '#575757'\n                },\n                children: \"HOME\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this), ' ', \"/\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n                to: '/customize',\n                style: {\n                  textDecoration: 'none',\n                  color: '#b03342'\n                },\n                children: \"CUSTOMIZATION\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), !cusProdSQL ? '' : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cus-detail\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: 'cus-img' + (offset > offset * 0.9 ? ' scrollit' : ''),\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: `${config.HOST}/${cusProdSQL.cm_prod_img_path}`,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: 'mtl-btn' + (offset > offset * 0.9 ? ' show-block' : ' disappear-block'),\n                    children: cusProdSQL.mtlarray.map((e, i) => {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"detailMtlBtn\",\n                        onClick: () => {\n                          clickMtl(e.mtl_id);\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: config.HOST + e.mtl_img_path,\n                          alt: e.mtl_name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 276,\n                          columnNumber: 31\n                        }, this)\n                      }, i, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 269,\n                        columnNumber: 29\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: 'detail' + (offset > offset * 0.95 ? ' disappear-block' : ' show-block'),\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"search-input-bar ch-title-20\",\n                    placeholder: \"\\u8ACB\\u70BA\\u60A8\\u7684\\u6210\\u54C1\\u53D6\\u540D\",\n                    value: namedCusProd,\n                    onChange: e => {\n                      const v = e.target.value;\n\n                      if (v.length <= 6) {\n                        setNamedCusProd(v);\n                      }\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ch-cont-14\",\n                    children: \"\\u203B\\u53D6\\u540D\\u9577\\u5EA6\\u4E0D\\u53EF\\u8D85\\u904E\\u516D\\u500B\\u5B57\\u5143\\u3002\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"cus-value mt-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"value-l\",\n                      children: [\"NT_$\", `${cusProdSQL.cm_prod_value}`]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"value-r\",\n                      children: \"TOTAL PRICE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"cus-printtime\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"printtime-l\",\n                      children: [`${cusProdSQL.cm_prod_print_time}`, \"_SEC\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"printtime-r\",\n                      children: \"PRINT TIME\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: 'cus-mtl-detial ch-cont-16' + (offset > offset * 0.97 ? ' show-block' : ' disappear-block'),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chart-img nutrition-box\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"nutrition-img-box-mobile\",\n                    children: /*#__PURE__*/_jsxDEV(ChartForCm, {\n                      mtls: [selectedMtl.mtl_id]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 332,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mtl-detail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mtl-name\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"name-l\",\n                      children: selectedMtl.mtl_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 337,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"name-r\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: config.HOST + selectedMtl.mtl_img_path,\n                        alt: selectedMtl.mtl_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 339,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"origin\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"origin-l\",\n                      children: selectedMtl.mtl_origin\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 346,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"origin-r\",\n                      children: \"ORIGIN\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 347,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mfd\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mfd-l\",\n                      children: selectedMtl.mtl_produce_date\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 350,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mfd-r\",\n                      children: \"MFD\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 353,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"rm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"rm-l\",\n                      children: selectedMtl.mtl_raw_matrials\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 356,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"rm-r\",\n                      children: \"RM\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: 'manual ch-cont-14' + (offset > offset * 0.99 ? ' show-block' : ' disappear-block'),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: 'delivery col' + (offset > offset * 0.99 ? ' show-block' : ' disappear-block'),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"deli\",\n                  children: \"\\u914D\\u9001\\u985E\\u578B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"deli\",\n                  children: \"\\u5B85\\u6025\\u4FBF(\\u51B7\\u85CF)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"deli\",\n                  children: \"\\u203B\\u82E5\\u9700\\u8981\\u51B7\\u51CD\\u5B85\\u914D\\uFF0C\\u8ACB\\u5E6B\\u5FD9\\u8A3B\\u660E\\u3002\\u82E5\\u51B7\\u85CF\\u8207\\u51B7\\u51CD\\u5546\\u54C1\\u9700\\u4E00\\u8D77\\u4E0B\\u55AE\\uFF0C\\u5C07\\u6703\\u5EF6\\u9577\\u904B\\u9001\\u6642\\u9593\\uFF0C\\u8ACB\\u5148\\u9810\\u7D04\\u3002\\u53E6\\u5916\\uFF0C\\u82E5\\u5546\\u54C1\\u9700\\u8981\\u8B8A\\u66F4\\uFF0C\\u8ACB\\u63D0\\u524D\\u8207\\u6211\\u5011\\u806F\\u7E6B\\u3002\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: 'mfd-time col' + (offset > offset * 0.99 ? ' show-block' : ' disappear-block'),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mfdt\",\n                  children: \"\\u226A\\u8CDE\\u5473\\u671F\\u9650\\u226B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mfdt\",\n                  children: \"\\u51B7\\u8535\\uFF1A\\u51FA\\u8CA8\\u5F8C4\\u5929\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mfdt\",\n                  children: \"\\u51B7\\u51CD\\uFF1A\\u51FA\\u8CA8\\u5F8C\\u4E00\\u500B\\u6708\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: 'package col' + (offset > offset * 0.99 ? ' show-block' : ' disappear-block'),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pkg\",\n                  children: \"\\u226A\\u4FDD\\u5B58\\u65B9\\u6CD5\\u226B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pkg\",\n                  children: \"\\u51B7\\u85CF\\uFF1A\\u8ACB\\u4FDD\\u5B58\\u65BC4\\u2103\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pkg\",\n                  children: \"\\u51B7\\u51CD\\uFF1A\\u8ACB\\u4FDD\\u5B58\\u65BC-15\\u2103\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btn-area\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"btn-buttom\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"select-add-cart ch-cont-28\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"select-count\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => contMinus(),\n                      children: /*#__PURE__*/_jsxDEV(Minus, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 416,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 415,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      value: cusCount,\n                      onChange: e => countIt(+e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 418,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => countAdd(),\n                      children: /*#__PURE__*/_jsxDEV(Plus, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 424,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-sm btn-primary primeal-btn m-2\",\n                  onClick: () => {\n                    cusProdname();\n                    addToCart();\n                  },\n                  children: \"\\u52A0\\u5165\\u8CFC\\u7269\\u8ECA\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AsideRight, {\n          setNavIsOpen: setNavIsOpen\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(CusMiDetail, \"hvj2Eoczz+abPohYaGkNbiXQGVY=\", false, function () {\n  return [useHistory];\n});\n\n_c = CusMiDetail;\nexport default CusMiDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"CusMiDetail\");","map":{"version":3,"sources":["C:/Users/ryany/OneDrive/桌面/primeal/src/pages/customize/CusMiDetail.js"],"names":["Header","Title","AsideLeft","AsideRight","Footer","useEffect","useState","ReactComponent","Plus","Minus","config","Link","useHistory","getCartCount","Button","Modal","NavPage","ChartForCm","CusMiDetail","props","navIsOpen","setNavIsOpen","showBlock","display","hiddenBlock","cusProdSQL","setCusProdSQL","cusCount","setCusCount","namedCusProd","setNamedCusProd","changeCartCount","setChangeCartCount","selectedMtl","setSelectedMtl","arrayForChart","setArrayForChart","history","offset","setOffset","onScroll","window","pageYOffset","removeEventListener","addEventListener","passive","catchData","res","fetch","GET_CUS_DATA","method","headers","body","JSON","stringify","memid","localStorage","getItem","resJson","json","rows","mtlarray","setTimeout","newMtlArray","chartMtlArray","map","e","splice","mtl_id","countIt","count","contMinus","console","log","newCount","countAdd","cusProdname","POST_FINAL_DATA","cus_name","addToCart","isLogin","CUS_TO_CART","cm_prod_id","value","cm_prod_value","print","cm_prod_print_time","category","then","d","handleCartShow","handleLikeShow","cart_count","setCart_count","likeShow","setLikeShow","handleLikeClose","likeModel","margin","cartShow","setCartShow","handleCartClose","cartModel","push","clickMtl","mtlId","mtl","find","id","width","textDecoration","color","HOST","cm_prod_img_path","i","mtl_img_path","mtl_name","v","target","length","mtl_origin","mtl_produce_date","mtl_raw_matrials"],"mappings":"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","sourcesContent":["import { Header, Title, AsideLeft, AsideRight, Footer } from '../layout/Layout';\r\nimport { useEffect, useState } from 'react';\r\nimport './customize.scss';\r\nimport { ReactComponent as Plus } from '../../imgs/plus.svg';\r\nimport { ReactComponent as Minus } from '../../imgs/minus.svg';\r\nimport config from '../../Config';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { getCartCount } from '../../utils';\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport NavPage from '../layout/components/NavPage';\r\nimport ChartForCm from '../chartjs/ChartCs/ChartForCm';\r\n\r\nfunction CusMiDetail(props) {\r\n  // nav\r\n  const { navIsOpen, setNavIsOpen } = props;\r\n  const showBlock = { display: 'block' };\r\n  const hiddenBlock = { display: 'none' };\r\n\r\n  const [cusProdSQL, setCusProdSQL] = useState(); // 從資料庫把儲存好的資料撈出來\r\n  const [cusCount, setCusCount] = useState(1); // 購買數量\r\n  const [namedCusProd, setNamedCusProd] = useState(''); // 命名\r\n  const [changeCartCount, setChangeCartCount] = useState(0); // 變更購物車圈圈數量\r\n  const [selectedMtl, setSelectedMtl] = useState({}); //選定的食材資料\r\n  const [arrayForChart, setArrayForChart] = useState([]); // fot chartjs的陣列\r\n  const history = useHistory();\r\n\r\n  // 偵聽網頁拉到哪裡\r\n  const [offset, setOffset] = useState(0);\r\n  useEffect(() => {\r\n    const onScroll = () => setOffset(window.pageYOffset);\r\n    // clean up code\r\n    window.removeEventListener('scroll', onScroll);\r\n    window.addEventListener('scroll', onScroll, { passive: true });\r\n    return () => window.removeEventListener('scroll', onScroll);\r\n  }, []);\r\n\r\n  // 接SQL資料\r\n  useEffect(() => {\r\n    const catchData = async () => {\r\n      const res = await fetch(config.GET_CUS_DATA, {\r\n        method: 'POST',\r\n        headers: { 'content-type': 'application/json' },\r\n        body: JSON.stringify({\r\n          memid: localStorage.getItem('mem_id'),\r\n        }),\r\n      });\r\n      const resJson = await res.json();\r\n\r\n      setCusProdSQL(resJson.rows);\r\n      setSelectedMtl(resJson.rows.mtlarray[0]);\r\n    };\r\n    setTimeout(() => {\r\n      catchData();\r\n    }, 300);\r\n  }, []);\r\n\r\n  // chart圖表\r\n  useEffect(() => {\r\n    let newMtlArray = [];\r\n    const chartMtlArray = !cusProdSQL\r\n      ? ''\r\n      : cusProdSQL.mtlarray.map(e => {\r\n          newMtlArray.splice(0, 0, e.mtl_id);\r\n        });\r\n    setArrayForChart(newMtlArray);\r\n  }, [cusProdSQL]);\r\n\r\n  // 數量增減\r\n  // 輸入數量\r\n  const countIt = count => {\r\n    if (cusCount <= 0 || cusCount >= 99) {\r\n      return false;\r\n    }\r\n\r\n    setCusCount(count);\r\n  };\r\n\r\n  // 數量-1\r\n  const contMinus = count => {\r\n    if (cusCount <= 1) {\r\n      console.log('哈囉哈囉');\r\n      return false;\r\n    }\r\n\r\n    const newCount = cusCount - 1;\r\n    setCusCount(newCount);\r\n  };\r\n\r\n  // 數量+1\r\n  const countAdd = count => {\r\n    if (cusCount >= 99) {\r\n      return false;\r\n    }\r\n\r\n    const newCount = cusCount + 1;\r\n    setCusCount(newCount);\r\n  };\r\n\r\n  // 命名並送至後端\r\n  const cusProdname = async () => {\r\n    const res = await fetch(config.POST_FINAL_DATA, {\r\n      method: 'POST',\r\n      headers: { 'content-type': 'application/json' },\r\n      body: JSON.stringify({\r\n        cus_name: namedCusProd,\r\n        memid: localStorage.getItem('mem_id'),\r\n      }),\r\n    });\r\n    const resJson = await res.json();\r\n  };\r\n\r\n  //加入購物車\r\n  const addToCart = () => {\r\n    const isLogin = localStorage.getItem('mem_id') !== null; //判斷是否登入\r\n\r\n    if (isLogin) {\r\n      fetch(config.CUS_TO_CART, {\r\n        method: 'POST',\r\n        headers: {\r\n          'content-type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          memid: +localStorage.getItem('mem_id'),\r\n          cm_prod_id: cusProdSQL.cm_prod_id,\r\n          count: cusCount,\r\n          value: +cusProdSQL.cm_prod_value,\r\n          print: cusProdSQL.cm_prod_print_time,\r\n          category: 'cm',\r\n        }),\r\n      })\r\n        .then(res => res.json())\r\n        .then(async d => {\r\n          await getCartCount(+localStorage.getItem('mem_id'));\r\n          setChangeCartCount(changeCartCount + 1);\r\n        });\r\n      handleCartShow();\r\n    } else {\r\n      handleLikeShow();\r\n    }\r\n  };\r\n\r\n  // 購物車數字變化\r\n  const [cart_count, setCart_count] = useState(0);\r\n  useEffect(() => {\r\n    setCart_count(localStorage.getItem('cart_count'));\r\n  }, [props.changeCartCount]);\r\n\r\n  //請先登入的光箱\r\n  const [likeShow, setLikeShow] = useState(false);\r\n  const handleLikeClose = () => setLikeShow(false);\r\n  const handleLikeShow = () => setLikeShow(true);\r\n  const likeModel = (\r\n    <Modal show={likeShow} onHide={handleLikeClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title className=\"en-cont-30 m-3\">提醒</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body style={{ margin: '0 3%' }}>\r\n        <div className=\"en-cont-14 pb-2\">請先登入後才能操作</div>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button\r\n          variant=\"secondary\"\r\n          className=\"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\"\r\n          onClick={handleLikeClose}\r\n        >\r\n          關閉\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n\r\n  //加入購物車的光箱\r\n  const [cartShow, setCartShow] = useState(false);\r\n  const handleCartClose = () => setCartShow(false);\r\n  const handleCartShow = () => setCartShow(true);\r\n  const cartModel = (\r\n    <Modal show={cartShow} onHide={handleCartClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title className=\"en-cont-30 m-3\">提醒</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body style={{ margin: '0 3%' }}>\r\n        <div className=\"en-cont-14 pb-2\">\r\n          已成功將商品加入購物車！請問是否要前往結帳頁面？\r\n        </div>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button\r\n          variant=\"secondary\"\r\n          className=\"btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2\"\r\n          onClick={() => {\r\n            handleCartClose();\r\n            history.push('/customize');\r\n          }}\r\n        >\r\n          返回製作\r\n        </Button>\r\n        <Button\r\n          variant=\" btn btn-sm btn-primary primeal-btn-sm mx-md-4 mx-2 m-3\"\r\n          className=\"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\"\r\n          onClick={() => {\r\n            handleCartClose();\r\n            history.push('/cart/stepone');\r\n          }}\r\n        >\r\n          前往結帳\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n\r\n  const clickMtl = mtlId => {\r\n    const mtl = cusProdSQL.mtlarray.find(id => id.mtl_id === mtlId);\r\n    setSelectedMtl(mtl);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {navIsOpen && (\r\n        <NavPage navIsOpen={navIsOpen} setNavIsOpen={setNavIsOpen} />\r\n      )}\r\n      <div style={navIsOpen ? hiddenBlock : showBlock}>\r\n        {likeModel}\r\n        {cartModel}\r\n        <Header />\r\n        <div style={{ display: 'flex' }}>\r\n          <AsideLeft />\r\n          <div style={{ width: '100%' }}>\r\n            <div className=\"customize mycontainer min-hi margin-top\">\r\n              <Title title={'Customization'} />\r\n              <div className=\"trail\">\r\n                <Link\r\n                  to={'/'}\r\n                  style={{ textDecoration: 'none', color: '#575757' }}\r\n                >\r\n                  HOME\r\n                </Link>{' '}\r\n                /{' '}\r\n                <Link\r\n                  to={'/customize'}\r\n                  style={{ textDecoration: 'none', color: '#b03342' }}\r\n                >\r\n                  CUSTOMIZATION\r\n                </Link>\r\n              </div>\r\n              {!cusProdSQL ? (\r\n                ''\r\n              ) : (\r\n                <>\r\n                  <div className=\"cus-detail\">\r\n                    <div\r\n                      className={\r\n                        'cus-img' + (offset > offset * 0.9 ? ' scrollit' : '')\r\n                      }\r\n                    >\r\n                      <img\r\n                        src={`${config.HOST}/${cusProdSQL.cm_prod_img_path}`}\r\n                        alt=\"\"\r\n                      />\r\n                      <div\r\n                        className={\r\n                          'mtl-btn' +\r\n                          (offset > offset * 0.9\r\n                            ? ' show-block'\r\n                            : ' disappear-block')\r\n                        }\r\n                      >\r\n                        {cusProdSQL.mtlarray.map((e, i) => {\r\n                          return (\r\n                            <div\r\n                              className=\"detailMtlBtn\"\r\n                              onClick={() => {\r\n                                clickMtl(e.mtl_id);\r\n                              }}\r\n                              key={i}\r\n                            >\r\n                              <img\r\n                                src={config.HOST + e.mtl_img_path}\r\n                                alt={e.mtl_name}\r\n                              />\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      className={\r\n                        'detail' +\r\n                        (offset > offset * 0.95\r\n                          ? ' disappear-block'\r\n                          : ' show-block')\r\n                      }\r\n                    >\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"search-input-bar ch-title-20\"\r\n                        placeholder=\"請為您的成品取名\"\r\n                        value={namedCusProd}\r\n                        onChange={e => {\r\n                          const v = e.target.value;\r\n                          if (v.length <= 6) {\r\n                            setNamedCusProd(v);\r\n                          }\r\n                        }}\r\n                      />\r\n                      <span className=\"ch-cont-14\">\r\n                        ※取名長度不可超過六個字元。\r\n                      </span>\r\n                      <div className=\"cus-value mt-4\">\r\n                        <div className=\"value-l\">\r\n                          NT_${`${cusProdSQL.cm_prod_value}`}\r\n                        </div>\r\n                        <div className=\"value-r\">TOTAL PRICE</div>\r\n                      </div>\r\n                      <div className=\"cus-printtime\">\r\n                        <div className=\"printtime-l\">\r\n                          {`${cusProdSQL.cm_prod_print_time}`}_SEC\r\n                        </div>\r\n                        <div className=\"printtime-r\">PRINT TIME</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    className={\r\n                      'cus-mtl-detial ch-cont-16' +\r\n                      (offset > offset * 0.97\r\n                        ? ' show-block'\r\n                        : ' disappear-block')\r\n                    }\r\n                  >\r\n                    <div className=\"chart-img nutrition-box\">\r\n                      <div className=\"nutrition-img-box-mobile\">\r\n                        <ChartForCm mtls={[selectedMtl.mtl_id]} />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"mtl-detail\">\r\n                      <div className=\"mtl-name\">\r\n                        <div className=\"name-l\">{selectedMtl.mtl_name}</div>\r\n                        <div className=\"name-r\">\r\n                          <img\r\n                            src={config.HOST + selectedMtl.mtl_img_path}\r\n                            alt={selectedMtl.mtl_name}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"origin\">\r\n                        <div className=\"origin-l\">{selectedMtl.mtl_origin}</div>\r\n                        <div className=\"origin-r\">ORIGIN</div>\r\n                      </div>\r\n                      <div className=\"mfd\">\r\n                        <div className=\"mfd-l\">\r\n                          {selectedMtl.mtl_produce_date}\r\n                        </div>\r\n                        <div className=\"mfd-r\">MFD</div>\r\n                      </div>\r\n                      <div className=\"rm\">\r\n                        <div className=\"rm-l\">\r\n                          {selectedMtl.mtl_raw_matrials}\r\n                        </div>\r\n                        <div className=\"rm-r\">RM</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              <div\r\n                className={\r\n                  'manual ch-cont-14' +\r\n                  (offset > offset * 0.99 ? ' show-block' : ' disappear-block')\r\n                }\r\n              >\r\n                <div\r\n                  className={\r\n                    'delivery col' +\r\n                    (offset > offset * 0.99\r\n                      ? ' show-block'\r\n                      : ' disappear-block')\r\n                  }\r\n                >\r\n                  <div className=\"deli\">配送類型</div>\r\n                  <div className=\"deli\">宅急便(冷藏)</div>\r\n                  <div className=\"deli\">\r\n                    ※若需要冷凍宅配，請幫忙註明。若冷藏與冷凍商品需一起下單，將會延長運送時間，請先預約。另外，若商品需要變更，請提前與我們聯繫。\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  className={\r\n                    'mfd-time col' +\r\n                    (offset > offset * 0.99\r\n                      ? ' show-block'\r\n                      : ' disappear-block')\r\n                  }\r\n                >\r\n                  <div className=\"mfdt\">≪賞味期限≫</div>\r\n                  <div className=\"mfdt\">冷蔵：出貨後4天</div>\r\n                  <div className=\"mfdt\">冷凍：出貨後一個月</div>\r\n                </div>\r\n                <div\r\n                  className={\r\n                    'package col' +\r\n                    (offset > offset * 0.99\r\n                      ? ' show-block'\r\n                      : ' disappear-block')\r\n                  }\r\n                >\r\n                  <div className=\"pkg\">≪保存方法≫</div>\r\n                  <div className=\"pkg\">冷藏：請保存於4℃</div>\r\n                  <div className=\"pkg\">冷凍：請保存於-15℃</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"btn-area\">\r\n                <div className=\"btn-buttom\">\r\n                  <div className=\"select-add-cart ch-cont-28\">\r\n                    <div className=\"select-count\">\r\n                      <button onClick={() => contMinus()}>\r\n                        <Minus />\r\n                      </button>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={cusCount}\r\n                        onChange={e => countIt(+e.target.value)}\r\n                      />\r\n                      <button onClick={() => countAdd()}>\r\n                        <Plus />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <button\r\n                    className=\"btn-sm btn-primary primeal-btn m-2\"\r\n                    onClick={() => {\r\n                      cusProdname();\r\n                      addToCart();\r\n                    }}\r\n                  >\r\n                    加入購物車\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <Footer />\r\n          </div>\r\n          <AsideRight setNavIsOpen={setNavIsOpen} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CusMiDetail;\r\n"]},"metadata":{},"sourceType":"module"}