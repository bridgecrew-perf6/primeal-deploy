{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryany\\\\OneDrive\\\\\\u684C\\u9762\\\\primeal\\\\src\\\\pages\\\\cart\\\\StepFour.js\",\n    _s = $RefreshSig$();\n\n//cart/StepFour.js\nimport { Header, Title, AsideLeft, AsideRight, Footer } from '../layout/Layout';\nimport CartDetail from './components/CartDetial';\nimport { Link, useHistory, useParams } from 'react-router-dom'; // import QRCode from 'qrcode.react';\n\nimport { QRCode } from 'react-qrcode-logo';\nimport React, { useState, useEffect } from 'react';\nimport NavPage from '../layout/components/NavPage'; // 資料庫拿資料\n\nimport config from '../../Config';\nimport { getMemId, getCart, getCartCount } from '../../utils'; // TODO: 第4部要清空 cartcount localstorage\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction StepFour(props) {\n  _s();\n\n  var _fincart$2, _fincart$3, _fincart$4, _fincart$5;\n\n  // NAV BAR 使用 蓋版漢堡\n  const showBlock = {\n    display: 'block'\n  };\n  const hiddenBlock = {\n    display: 'none'\n  };\n  const {\n    navIsOpen,\n    setNavIsOpen\n  } = props; // 解構\n  // 回上一頁 按鈕\n  // let history = useHistory();\n\n  const [fincart, setFincart] = useState([]);\n  const [mem_id, setMem_id] = useState(0);\n  const [changeCartCount, setChangeCartCount] = useState(0); // 要知道什麼時候更改購物車的數量\n  //QRCODE\n\n  const [qrC, setQrC] = useState(''); //\n\n  console.log('qrC01', qrC);\n  const {\n    cid\n  } = useParams();\n  useEffect(() => {\n    const getInit = async () => {\n      const Mid = getMemId();\n      setMem_id(+Mid);\n      await getCartCount(+localStorage.getItem('mem_id')); // cartcount 數字改變\n\n      setChangeCartCount(changeCartCount + 1); // 狀態要改變\n    };\n\n    getInit();\n  }, []);\n  useEffect(() => {\n    const getfincart = async () => {\n      var _obj$data$;\n\n      console.log('mid==============================' + mem_id);\n      const res = await fetch(config.GET_FIN_CART + `${mem_id}/${cid}`);\n      const obj = await res.json();\n      console.log('obj:', obj);\n      setFincart(obj.data);\n      setQrC((_obj$data$ = obj.data[0]) === null || _obj$data$ === void 0 ? void 0 : _obj$data$.order_num);\n    };\n\n    if (mem_id !== 0) {\n      //第一次為0不准fetch，會壞掉\n      getfincart();\n    }\n  }, [mem_id]);\n  console.log('fincart', fincart);\n  useEffect(() => {\n    var _fincart$;\n\n    console.log(fincart);\n    console.log('36****', (_fincart$ = fincart[0]) === null || _fincart$ === void 0 ? void 0 : _fincart$.cart_order_date);\n  }, [fincart]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), navIsOpen && /*#__PURE__*/_jsxDEV(NavPage, {\n      navIsOpen: navIsOpen,\n      setNavIsOpen: setNavIsOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: navIsOpen ? hiddenBlock : showBlock,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-asideLeft-nav d-lg-block d-none ch-title-16 \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-asL-nav-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-asL-nav-text\",\n              style: {\n                color: '#212121'\n              },\n              children: \"\\u6211\\u7684\\u8CFC\\u7269\\u6E05\\u55AE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-asL-nav-square\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-asL-nav-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-asL-nav-text\",\n              style: {\n                color: '#212121'\n              },\n              children: \"\\u586B\\u5BEB\\u8A02\\u8CFC\\u8CC7\\u8A0A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-asL-nav-square\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-asL-nav-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-asL-nav-text\",\n              style: {\n                color: '#212121'\n              },\n              children: \"\\u8F38\\u5165\\u4FE1\\u7528\\u5361\\u8CC7\\u6599\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-asL-nav-square\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-asL-nav-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-asL-nav-text\",\n              style: {\n                color: '#212121'\n              },\n              children: \"\\u5B8C\\u6210\\u8A02\\u55AE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-asL-nav-square\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AsideLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            title: 'Confirmation',\n            setNavIsOpen: setNavIsOpen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mycontainer cart min-hi\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"breadcart\",\n              children: [' ', /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"en-title-14-10\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: '/',\n                  style: {\n                    textDecoration: 'none',\n                    color: '#575757'\n                  },\n                  children: [\"HOME/\", ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: '/cart/stepone',\n                  style: {\n                    textDecoration: 'none',\n                    color: '#b03342'\n                  },\n                  children: \"CART\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"confirmation\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row ch-cont-14\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"my-3 col-24 col-md-12  ch-title-22\",\n                  children: \"\\u60A8\\u7684\\u8A02\\u55AE\\u5DF2\\u6210\\u7ACB\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"my-5 col-24 col-md-13\",\n                  children: \"\\u611F\\u8B1D\\u60A8\\u7684\\u9810\\u8A02\\uFF0C\\u8ACB\\u81F3\\u4FE1\\u7BB1\\u6536\\u53D6\\u8A02\\u55AE\\u660E\\u7D30\\uFF0C \\u53D6\\u8CA8\\u6642\\uFF0C\\u8ACB\\u65BC\\u6A5F\\u53F0\\u524D\\u51FA\\u793A\\u4E26\\u6383\\u63CF\\u53F3\\u65B9QR Code\\uFF0C\\u4EE5\\u5229\\u5B8C\\u6210\\u53D6\\u8CA8\\u624B\\u7E8C\\u3002\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"my-5 col-24 col-md-11 d-flex justify-content-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"\\u9001\\u9054\\u8CC7\\u8A0A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 138,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [(_fincart$2 = fincart[0]) === null || _fincart$2 === void 0 ? void 0 : _fincart$2.mem_name, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 139,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: (_fincart$3 = fincart[0]) === null || _fincart$3 === void 0 ? void 0 : _fincart$3.store_city\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 140,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: (_fincart$4 = fincart[0]) === null || _fincart$4 === void 0 ? void 0 : _fincart$4.store_area\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [(_fincart$5 = fincart[0]) === null || _fincart$5 === void 0 ? void 0 : _fincart$5.store_name, \"\\u9580\\u5E02\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 142,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"qrcode\",\n                    children: /*#__PURE__*/_jsxDEV(QRCode, {\n                      id: \"qrc\",\n                      value: \"http://localhost:3000/member/historyorder\" //value={qrC} //value引數為生成二維碼的連結 我這裡是由後端返回\n                      ,\n                      size: 150 //二維碼的寬高尺寸\n                      ,\n                      fgColor: \"#000000\" //二維碼的顏色\n                      ,\n                      logoImage: \"/img/cart/logo.svg\" // 加入logo\n                      ,\n                      logoOpacity: \"1\",\n                      removeQrCodeBehindLogo: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"my-5 col-24 d-block d-md-flex justify-content-md-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-24 col-md-16 my-3\",\n                    children: \"\\u5982\\u6B32\\u67E5\\u8A62\\u8A02\\u55AE\\u8A73\\u60C5\\u8207\\u9032\\u5EA6\\uFF0C\\u8ACB\\u81F3 \\u6703\\u54E1\\u4E2D\\u5FC3 / \\u6B77\\u53F2\\u8A02\\u55AE \\u67E5\\u8A62\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-24 col-md-8 my-3 d-flex justify-content-md-end justify-content-center \",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/classic\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-primary primeal-btn \",\n                        children: \"\\u7E7C\\u7E8C\\u8CFC\\u7269\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 166,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"processBar\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"progress\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"process-bar \" // role=\"progressbar\"\n                  // style={{ width: '30%' }}\n                  // aria-valuenow=\"10\"\n                  // aria-valuemin=\"0\"\n                  // aria-valuemax=\"100\"\n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between my-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u8A02\\u55AE\\u5DF2\\u6210\\u7ACB\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u58FD\\u53F8\\u5217\\u5370\\u4E2D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u6E96\\u5099\\u51FA\\u8CA8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u5DF2\\u51FA\\u8CA8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u8ACB\\u81F3\\u9580\\u5E02\\u53D6\\u8CA8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CartDetail, {\n              cart_id: cid,\n              mem_id: mem_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AsideRight, {\n          setNavIsOpen: setNavIsOpen,\n          changeCartCount: changeCartCount // 購物車數量狀態改變\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(StepFour, \"UEaLVwjq9c78Emyw87wgYudq+tE=\", false, function () {\n  return [useParams];\n});\n\n_c = StepFour;\nexport default StepFour;\n\nvar _c;\n\n$RefreshReg$(_c, \"StepFour\");","map":{"version":3,"sources":["C:/Users/ryany/OneDrive/桌面/primeal/src/pages/cart/StepFour.js"],"names":["Header","Title","AsideLeft","AsideRight","Footer","CartDetail","Link","useHistory","useParams","QRCode","React","useState","useEffect","NavPage","config","getMemId","getCart","getCartCount","StepFour","props","showBlock","display","hiddenBlock","navIsOpen","setNavIsOpen","fincart","setFincart","mem_id","setMem_id","changeCartCount","setChangeCartCount","qrC","setQrC","console","log","cid","getInit","Mid","localStorage","getItem","getfincart","res","fetch","GET_FIN_CART","obj","json","data","order_num","cart_order_date","color","width","textDecoration","mem_name","store_city","store_area","store_name"],"mappings":";;;AAAA;AACA,SAASA,MAAT,EAAiBC,KAAjB,EAAwBC,SAAxB,EAAmCC,UAAnC,EAA+CC,MAA/C,QAA6D,kBAA7D;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,SAA3B,QAA4C,kBAA5C,C,CACA;;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,8BAApB,C,CACA;;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,QAAT,EAAmBC,OAAnB,EAA4BC,YAA5B,QAAgD,aAAhD,C,CAEA;;;;;AACA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAAA;;AAAA;;AACvB;AACA,QAAMC,SAAS,GAAG;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAAlB;AACA,QAAMC,WAAW,GAAG;AAAED,IAAAA,OAAO,EAAE;AAAX,GAApB;AACA,QAAM;AAAEE,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAA8BL,KAApC,CAJuB,CAIoB;AAC3C;AACA;;AAEA,QAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACgB,MAAD,EAASC,SAAT,IAAsBjB,QAAQ,CAAC,CAAD,CAApC;AACA,QAAM,CAACkB,eAAD,EAAkBC,kBAAlB,IAAwCnB,QAAQ,CAAC,CAAD,CAAtD,CAVuB,CAUoC;AAE3D;;AACA,QAAM,CAACoB,GAAD,EAAMC,MAAN,IAAgBrB,QAAQ,CAAC,EAAD,CAA9B,CAbuB,CAcvB;;AACAsB,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBH,GAArB;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAU3B,SAAS,EAAzB;AAEAI,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMwB,OAAO,GAAG,YAAY;AAC1B,YAAMC,GAAG,GAAGtB,QAAQ,EAApB;AACAa,MAAAA,SAAS,CAAC,CAACS,GAAF,CAAT;AACA,YAAMpB,YAAY,CAAC,CAACqB,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAF,CAAlB,CAH0B,CAG2B;;AACrDT,MAAAA,kBAAkB,CAACD,eAAe,GAAG,CAAnB,CAAlB,CAJ0B,CAIe;AAC1C,KALD;;AAMAO,IAAAA,OAAO;AACR,GARQ,EAQN,EARM,CAAT;AAUAxB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM4B,UAAU,GAAG,YAAY;AAAA;;AAC7BP,MAAAA,OAAO,CAACC,GAAR,CAAY,sCAAsCP,MAAlD;AACA,YAAMc,GAAG,GAAG,MAAMC,KAAK,CAAC5B,MAAM,CAAC6B,YAAP,GAAuB,GAAEhB,MAAO,IAAGQ,GAAI,EAAxC,CAAvB;AACA,YAAMS,GAAG,GAAG,MAAMH,GAAG,CAACI,IAAJ,EAAlB;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBU,GAApB;AACAlB,MAAAA,UAAU,CAACkB,GAAG,CAACE,IAAL,CAAV;AACAd,MAAAA,MAAM,eAACY,GAAG,CAACE,IAAJ,CAAS,CAAT,CAAD,+CAAC,WAAaC,SAAd,CAAN;AACD,KAPD;;AAQA,QAAIpB,MAAM,KAAK,CAAf,EAAkB;AAChB;AACAa,MAAAA,UAAU;AACX;AACF,GAbQ,EAaN,CAACb,MAAD,CAbM,CAAT;AAcAM,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBT,OAAvB;AACAb,EAAAA,SAAS,CAAC,MAAM;AAAA;;AACdqB,IAAAA,OAAO,CAACC,GAAR,CAAYT,OAAZ;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,eAAsBT,OAAO,CAAC,CAAD,CAA7B,8CAAsB,UAAYuB,eAAlC;AACD,GAHQ,EAGN,CAACvB,OAAD,CAHM,CAAT;AAKA,sBACE;AAAA,4BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YADF,EAEGF,SAAS,iBACR,QAAC,OAAD;AAAS,MAAA,SAAS,EAAEA,SAApB;AAA+B,MAAA,YAAY,EAAEC;AAA7C;AAAA;AAAA;AAAA;AAAA,YAHJ,eAKE;AAAK,MAAA,KAAK,EAAED,SAAS,GAAGD,WAAH,GAAiBF,SAAtC;AAAA,6BACE;AAAK,QAAA,KAAK,EAAE;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAAZ;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,mDAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA,oCACE;AACE,cAAA,SAAS,EAAC,mBADZ;AAEE,cAAA,KAAK,EAAE;AAAE4B,gBAAAA,KAAK,EAAE;AAAT,eAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAOE;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,oBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAWE;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,mBAAf;AAAmC,cAAA,KAAK,EAAE;AAAEA,gBAAAA,KAAK,EAAE;AAAT,eAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF,eAkBE;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,mBAAf;AAAmC,cAAA,KAAK,EAAE;AAAEA,gBAAAA,KAAK,EAAE;AAAT,eAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAlBF,eAyBE;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,mBAAf;AAAmC,cAAA,KAAK,EAAE;AAAEA,gBAAAA,KAAK,EAAE;AAAT,eAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAzBF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAkCE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,gBAlCF,eAmCE;AAAK,UAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAE;AAAT,WAAZ;AAAA,kCACE,QAAC,KAAD;AAAO,YAAA,KAAK,EAAE,cAAd;AAA8B,YAAA,YAAY,EAAE1B;AAA5C;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAK,YAAA,SAAS,EAAC,yBAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,WAAf;AAAA,yBACG,GADH,eAEE;AAAG,gBAAA,SAAS,EAAC,gBAAb;AAAA,wCACE,QAAC,IAAD;AACE,kBAAA,EAAE,EAAE,GADN;AAEE,kBAAA,KAAK,EAAE;AAAE2B,oBAAAA,cAAc,EAAE,MAAlB;AAA0BF,oBAAAA,KAAK,EAAE;AAAjC,mBAFT;AAAA,sCAIQ,GAJR;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAOE,QAAC,IAAD;AACE,kBAAA,EAAE,EAAE,eADN;AAEE,kBAAA,KAAK,EAAE;AAAEE,oBAAAA,cAAc,EAAE,MAAlB;AAA0BF,oBAAAA,KAAK,EAAE;AAAjC,mBAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAkBE;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,oBAlBF,eAoBE;AAAK,cAAA,SAAS,EAAC,cAAf;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,gBAAf;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAKE;AAAK,kBAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF,eASE;AAAK,kBAAA,SAAS,EAAC,sDAAf;AAAA,0CACE;AAAA,4CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAEE;AAAA,+CAAIxB,OAAO,CAAC,CAAD,CAAX,+CAAI,WAAY2B,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFF,eAGE;AAAA,8CAAI3B,OAAO,CAAC,CAAD,CAAX,+CAAI,WAAY4B;AAAhB;AAAA;AAAA;AAAA;AAAA,4BAHF,eAIE;AAAA,8CAAI5B,OAAO,CAAC,CAAD,CAAX,+CAAI,WAAY6B;AAAhB;AAAA;AAAA;AAAA;AAAA,4BAJF,eAKE;AAAA,+CAAI7B,OAAO,CAAC,CAAD,CAAX,+CAAI,WAAY8B,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,4BALF;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAQE;AAAK,oBAAA,SAAS,EAAC,QAAf;AAAA,2CACE,QAAC,MAAD;AACE,sBAAA,EAAE,EAAC,KADL;AAEE,sBAAA,KAAK,EAAC,2CAFR,CAGE;AAHF;AAIE,sBAAA,IAAI,EAAE,GAJR,CAIa;AAJb;AAKE,sBAAA,OAAO,EAAC,SALV,CAKoB;AALpB;AAME,sBAAA,SAAS,EAAC,oBANZ,CAMiC;AANjC;AAOE,sBAAA,WAAW,EAAC,GAPd;AAQE,sBAAA,sBAAsB;AARxB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BARF;AAAA;AAAA;AAAA;AAAA;AAAA,wBATF,eAgCE;AAAK,kBAAA,SAAS,EAAC,0DAAf;AAAA,0CACE;AAAK,oBAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAKE;AAAK,oBAAA,SAAS,EAAC,4EAAf;AAAA,2CACE,QAAC,IAAD;AAAM,sBAAA,EAAE,EAAC,UAAT;AAAA,6CACE;AACE,wBAAA,IAAI,EAAC,QADP;AAEE,wBAAA,SAAS,EAAC,8BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BALF;AAAA;AAAA;AAAA;AAAA;AAAA,wBAhCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBApBF,eAwEE;AAAK,cAAA,SAAS,EAAC,YAAf;AAAA,sCACE;AAAK,gBAAA,KAAK,EAAC,UAAX;AAAA,uCACE;AACE,kBAAA,SAAS,EAAC,cADZ,CAEE;AACA;AACA;AACA;AACA;;AANF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAWE;AAAK,gBAAA,SAAS,EAAC,qCAAf;AAAA,wCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAxEF,eA2FE,QAAC,UAAD;AAAY,cAAA,OAAO,EAAEpB,GAArB;AAA0B,cAAA,MAAM,EAAER;AAAlC;AAAA;AAAA;AAAA;AAAA,oBA3FF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eA+FE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,kBA/FF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnCF,eAoIE,QAAC,UAAD;AACE,UAAA,YAAY,EAAEH,YADhB;AAEE,UAAA,eAAe,EAAEK,eAFnB,CAEoC;;AAFpC;AAAA;AAAA;AAAA;AAAA,gBApIF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YALF;AAAA,kBADF;AAmJD;;GAnMQX,Q;UAgBSV,S;;;KAhBTU,Q;AAqMT,eAAeA,QAAf","sourcesContent":["//cart/StepFour.js\r\nimport { Header, Title, AsideLeft, AsideRight, Footer } from '../layout/Layout';\r\nimport CartDetail from './components/CartDetial';\r\nimport { Link, useHistory, useParams } from 'react-router-dom';\r\n// import QRCode from 'qrcode.react';\r\nimport { QRCode } from 'react-qrcode-logo';\r\nimport React, { useState, useEffect } from 'react';\r\nimport NavPage from '../layout/components/NavPage';\r\n// 資料庫拿資料\r\nimport config from '../../Config';\r\nimport { getMemId, getCart, getCartCount } from '../../utils';\r\n\r\n// TODO: 第4部要清空 cartcount localstorage\r\nfunction StepFour(props) {\r\n  // NAV BAR 使用 蓋版漢堡\r\n  const showBlock = { display: 'block' };\r\n  const hiddenBlock = { display: 'none' };\r\n  const { navIsOpen, setNavIsOpen } = props; // 解構\r\n  // 回上一頁 按鈕\r\n  // let history = useHistory();\r\n\r\n  const [fincart, setFincart] = useState([]);\r\n  const [mem_id, setMem_id] = useState(0);\r\n  const [changeCartCount, setChangeCartCount] = useState(0); // 要知道什麼時候更改購物車的數量\r\n\r\n  //QRCODE\r\n  const [qrC, setQrC] = useState('');\r\n  //\r\n  console.log('qrC01', qrC);\r\n  const { cid } = useParams();\r\n\r\n  useEffect(() => {\r\n    const getInit = async () => {\r\n      const Mid = getMemId();\r\n      setMem_id(+Mid);\r\n      await getCartCount(+localStorage.getItem('mem_id')); // cartcount 數字改變\r\n      setChangeCartCount(changeCartCount + 1); // 狀態要改變\r\n    };\r\n    getInit();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const getfincart = async () => {\r\n      console.log('mid==============================' + mem_id);\r\n      const res = await fetch(config.GET_FIN_CART + `${mem_id}/${cid}`);\r\n      const obj = await res.json();\r\n      console.log('obj:', obj);\r\n      setFincart(obj.data);\r\n      setQrC(obj.data[0]?.order_num);\r\n    };\r\n    if (mem_id !== 0) {\r\n      //第一次為0不准fetch，會壞掉\r\n      getfincart();\r\n    }\r\n  }, [mem_id]);\r\n  console.log('fincart', fincart);\r\n  useEffect(() => {\r\n    console.log(fincart);\r\n    console.log('36****', fincart[0]?.cart_order_date);\r\n  }, [fincart]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      {navIsOpen && (\r\n        <NavPage navIsOpen={navIsOpen} setNavIsOpen={setNavIsOpen} />\r\n      )}\r\n      <div style={navIsOpen ? hiddenBlock : showBlock}>\r\n        <div style={{ display: 'flex' }}>\r\n          <div className=\"cart-asideLeft-nav d-lg-block d-none ch-title-16 \">\r\n            <div className=\"cart-asL-nav-item\">\r\n              <div\r\n                className=\"cart-asL-nav-text\"\r\n                style={{ color: '#212121' }}\r\n              >\r\n                我的購物清單\r\n              </div>\r\n              <div className=\"cart-asL-nav-square\"></div>\r\n            </div>\r\n\r\n            <div className=\"cart-asL-nav-item\">\r\n              <div className=\"cart-asL-nav-text\" style={{ color: '#212121' }}>\r\n                填寫訂購資訊\r\n              </div>\r\n              <div className=\"cart-asL-nav-square\"></div>\r\n            </div>\r\n\r\n            <div className=\"cart-asL-nav-item\">\r\n              <div className=\"cart-asL-nav-text\" style={{ color: '#212121' }}>\r\n                輸入信用卡資料\r\n              </div>\r\n              <div className=\"cart-asL-nav-square\"></div>\r\n            </div>\r\n\r\n            <div className=\"cart-asL-nav-item\">\r\n              <div className=\"cart-asL-nav-text\" style={{ color: '#212121' }}>\r\n                完成訂單\r\n              </div>\r\n              <div className=\"cart-asL-nav-square\"></div>\r\n            </div>\r\n          </div>\r\n\r\n          <AsideLeft />\r\n          <div style={{ width: '100%' }}>\r\n            <Title title={'Confirmation'} setNavIsOpen={setNavIsOpen} />\r\n            <div className=\"mycontainer cart min-hi\">\r\n              <div className=\"breadcart\">\r\n                {' '}\r\n                <p className=\"en-title-14-10\">\r\n                  <Link\r\n                    to={'/'}\r\n                    style={{ textDecoration: 'none', color: '#575757' }}\r\n                  >\r\n                    HOME/{' '}\r\n                  </Link>\r\n                  <Link\r\n                    to={'/cart/stepone'}\r\n                    style={{ textDecoration: 'none', color: '#b03342' }}\r\n                  >\r\n                    CART\r\n                  </Link>\r\n                </p>\r\n              </div>\r\n              <div className=\"row\"></div>\r\n              {/* 先切手機 */}\r\n              <div className=\"confirmation\">\r\n                <div className=\"row ch-cont-14\">\r\n                  <div className=\"my-3 col-24 col-md-12  ch-title-22\">\r\n                    您的訂單已成立\r\n                  </div>\r\n\r\n                  <div className=\"my-5 col-24 col-md-13\">\r\n                    感謝您的預訂，請至信箱收取訂單明細，\r\n                    取貨時，請於機台前出示並掃描右方QR Code，以利完成取貨手續。\r\n                  </div>\r\n                  <div className=\"my-5 col-24 col-md-11 d-flex justify-content-between\">\r\n                    <div>\r\n                      <p>送達資訊</p>\r\n                      <p>{fincart[0]?.mem_name} </p>\r\n                      <p>{fincart[0]?.store_city}</p>\r\n                      <p>{fincart[0]?.store_area}</p>\r\n                      <p>{fincart[0]?.store_name}門市</p>\r\n                    </div>\r\n                    <div className=\"qrcode\">\r\n                      <QRCode\r\n                        id=\"qrc\"\r\n                        value=\"http://localhost:3000/member/historyorder\"\r\n                        //value={qrC} //value引數為生成二維碼的連結 我這裡是由後端返回\r\n                        size={150} //二維碼的寬高尺寸\r\n                        fgColor=\"#000000\" //二維碼的顏色\r\n                        logoImage=\"/img/cart/logo.svg\" // 加入logo\r\n                        logoOpacity=\"1\"\r\n                        removeQrCodeBehindLogo\r\n                      />\r\n                      {/* <img src=\"/img/cart/qrcode.svg\" alt=\"\"></img> */}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"my-5 col-24 d-block d-md-flex justify-content-md-between\">\r\n                    <div className=\"col-24 col-md-16 my-3\">\r\n                      如欲查詢訂單詳情與進度，請至 會員中心 / 歷史訂單 查詢\r\n                    </div>\r\n                    {/* ＢＴＮ 返回按鈕 */}\r\n                    <div className=\"col-24 col-md-8 my-3 d-flex justify-content-md-end justify-content-center \">\r\n                      <Link to=\"/classic\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"btn btn-primary primeal-btn \"\r\n                        >\r\n                          繼續購物\r\n                        </button>\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {/* TODO:進度條 */}\r\n              <div className=\"processBar\">\r\n                <div class=\"progress\">\r\n                  <div\r\n                    className=\"process-bar \"\r\n                    // role=\"progressbar\"\r\n                    // style={{ width: '30%' }}\r\n                    // aria-valuenow=\"10\"\r\n                    // aria-valuemin=\"0\"\r\n                    // aria-valuemax=\"100\"\r\n                  ></div>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between my-3\">\r\n                  <span>訂單已成立</span>\r\n                  <span>壽司列印中</span>\r\n                  <span>準備出貨</span>\r\n                  <span>已出貨</span>\r\n                  <span>請至門市取貨</span>\r\n                </div>\r\n              </div>\r\n              <CartDetail cart_id={cid} mem_id={mem_id} />\r\n            </div>\r\n            <Footer />\r\n          </div>\r\n          <AsideRight\r\n            setNavIsOpen={setNavIsOpen}\r\n            changeCartCount={changeCartCount} // 購物車數量狀態改變\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default StepFour;\r\n"]},"metadata":{},"sourceType":"module"}