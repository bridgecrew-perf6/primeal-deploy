{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryany\\\\OneDrive\\\\\\u684C\\u9762\\\\primeal\\\\src\\\\pages\\\\share\\\\components\\\\ShareNavBar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ReactComponent as Search } from '../../../imgs/search.svg';\nimport { ReactComponent as ViewAdjust } from '../../../imgs/viewAdjust.svg';\nimport { ReactComponent as Filter } from '../../../imgs/filter-icon.svg';\nimport styles from '../Share.module.scss';\nimport config from '../../../Config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ShareNavBar(props) {\n  _s();\n\n  const {\n    filter,\n    setFilter,\n    search,\n    setSearch,\n    colControl,\n    setColControl,\n    filterNum,\n    filterState,\n    dispatch,\n    setNoFound,\n    setShareItemsData,\n    getShareItems\n  } = props;\n\n  const searchBarHandler = () => search ? {\n    transform: 'translateX(0px)'\n  } : {\n    transform: 'translateX(250px)'\n  };\n\n  const filterDispatchHandler = e => {\n    const type = e.target.dataset.type;\n\n    if (type) {\n      return dispatch({\n        type: `${type.toUpperCase()}`,\n        [type]: e.target.value\n      });\n    }\n  };\n\n  const getFilterData = async () => {\n    try {\n      const response = await fetch(config.GET_FILTER_ITEMS, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(filterState)\n      });\n      if (!response.ok) throw new Error('No items match your search!');\n      const itemsObj = await response.json();\n      return itemsObj;\n    } catch (err) {\n      console.error(err.message);\n    }\n  }; // Finding results when search changed\n\n\n  useEffect(() => {\n    if (!filterState.search) {\n      (async () => {\n        const result = await getShareItems();\n        setShareItemsData(result.data);\n      })();\n    }\n\n    (async () => {\n      const result = await getFilterData();\n\n      if (!result) {\n        setNoFound('查無符合條件的貼文，請重新篩選或清空篩選條件');\n        setShareItemsData([]);\n      } else {\n        setNoFound('');\n        setShareItemsData(result.data);\n      }\n    })();\n  }, [filterState.search]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `mycontainer mb-5 ${styles['share-bread']}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-md-column justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between mb-5 flex-grow-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-3 pt-md-0\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"en-title-14-10 d-flex\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: '/',\n                  style: {\n                    textDecoration: 'none',\n                    color: '#575757'\n                  },\n                  children: \"HOME/\\xA0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: '/share',\n                  style: {\n                    textDecoration: 'none',\n                    color: '#b03342'\n                  },\n                  children: \"SHARE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `${styles['search-input']} d-flex justify-content-end align-items-center`,\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  style: searchBarHandler(),\n                  className: `${styles['search-input-bar']} ch-cont-14`,\n                  value: filterState.search,\n                  placeholder: \"Search\",\n                  \"data-type\": \"search\",\n                  onChange: e => {\n                    filterDispatchHandler(e);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Search, {\n                className: `${styles['button-default']} mr-md-4`,\n                onClick: () => setSearch(!search)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ViewAdjust, {\n                className: `${styles['col-button']} mx-4 d-none d-md-block`,\n                onClick: () => setColControl(!colControl)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `${styles.mysharebutton}  d-none d-md-block en-title-18 ml-4`,\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/share/saves\",\n                  children: \"My Share\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${styles['filter-container']} d-flex justify-content-end mr-3`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `${styles['filter-container-num']}`,\n              children: filterNum\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Filter, {\n              className: `${styles['button-default']}`,\n              onClick: () => setFilter(!filter)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ShareNavBar, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = ShareNavBar;\nexport default ShareNavBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShareNavBar\");","map":{"version":3,"sources":["C:/Users/ryany/OneDrive/桌面/primeal/src/pages/share/components/ShareNavBar.js"],"names":["React","useEffect","Link","ReactComponent","Search","ViewAdjust","Filter","styles","config","ShareNavBar","props","filter","setFilter","search","setSearch","colControl","setColControl","filterNum","filterState","dispatch","setNoFound","setShareItemsData","getShareItems","searchBarHandler","transform","filterDispatchHandler","e","type","target","dataset","toUpperCase","value","getFilterData","response","fetch","GET_FILTER_ITEMS","method","headers","body","JSON","stringify","ok","Error","itemsObj","json","err","console","error","message","result","data","textDecoration","color","mysharebutton"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ReactComponent as Search } from '../../../imgs/search.svg';\r\nimport { ReactComponent as ViewAdjust } from '../../../imgs/viewAdjust.svg';\r\nimport { ReactComponent as Filter } from '../../../imgs/filter-icon.svg';\r\nimport styles from '../Share.module.scss';\r\nimport config from '../../../Config';\r\n\r\nfunction ShareNavBar(props) {\r\n  const {\r\n    filter,\r\n    setFilter,\r\n    search,\r\n    setSearch,\r\n    colControl,\r\n    setColControl,\r\n    filterNum,\r\n    filterState,\r\n    dispatch,\r\n    setNoFound,\r\n    setShareItemsData,\r\n    getShareItems,\r\n  } = props;\r\n\r\n  const searchBarHandler = () =>\r\n    search\r\n      ? { transform: 'translateX(0px)' }\r\n      : { transform: 'translateX(250px)' };\r\n\r\n  const filterDispatchHandler = e => {\r\n    const type = e.target.dataset.type;\r\n    if (type) {\r\n      return dispatch({\r\n        type: `${type.toUpperCase()}`,\r\n        [type]: e.target.value,\r\n      });\r\n    }\r\n  };\r\n\r\n  const getFilterData = async () => {\r\n    try {\r\n      const response = await fetch(config.GET_FILTER_ITEMS, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(filterState),\r\n      });\r\n      if (!response.ok) throw new Error('No items match your search!');\r\n\r\n      const itemsObj = await response.json();\r\n      return itemsObj;\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  // Finding results when search changed\r\n  useEffect(() => {\r\n    if (!filterState.search) {\r\n      (async () => {\r\n        const result = await getShareItems();\r\n        setShareItemsData(result.data);\r\n      })();\r\n    }\r\n    (async () => {\r\n      const result = await getFilterData();\r\n      if (!result) {\r\n        setNoFound('查無符合條件的貼文，請重新篩選或清空篩選條件');\r\n        setShareItemsData([]);\r\n      } else {\r\n        setNoFound('');\r\n        setShareItemsData(result.data);\r\n      }\r\n    })();\r\n  }, [filterState.search]);\r\n\r\n  return (\r\n    <div className={`mycontainer mb-5 ${styles['share-bread']}`}>\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <div className=\"d-flex flex-md-column justify-content-between\">\r\n            <div className=\"d-flex justify-content-between mb-5 flex-grow-1\">\r\n              <div className=\"pt-3 pt-md-0\">\r\n                <p className=\"en-title-14-10 d-flex\">\r\n                  <Link\r\n                    to={'/'}\r\n                    style={{ textDecoration: 'none', color: '#575757' }}\r\n                  >\r\n                    HOME/&nbsp;\r\n                  </Link>\r\n                  <Link\r\n                    to={'/share'}\r\n                    style={{ textDecoration: 'none', color: '#b03342' }}\r\n                  >\r\n                    SHARE\r\n                  </Link>\r\n                </p>\r\n              </div>\r\n              <div className=\"d-flex align-items-center\">\r\n                <div\r\n                  className={`${styles['search-input']} d-flex justify-content-end align-items-center`}\r\n                >\r\n                  <input\r\n                    type=\"text\"\r\n                    style={searchBarHandler()}\r\n                    className={`${styles['search-input-bar']} ch-cont-14`}\r\n                    value={filterState.search}\r\n                    placeholder=\"Search\"\r\n                    data-type=\"search\"\r\n                    onChange={e => {\r\n                      filterDispatchHandler(e);\r\n                    }}\r\n                  />\r\n                </div>\r\n                <Search\r\n                  className={`${styles['button-default']} mr-md-4`}\r\n                  onClick={() => setSearch(!search)}\r\n                />\r\n\r\n                <ViewAdjust\r\n                  className={`${styles['col-button']} mx-4 d-none d-md-block`}\r\n                  onClick={() => setColControl(!colControl)}\r\n                />\r\n\r\n                <button\r\n                  className={`${styles.mysharebutton}  d-none d-md-block en-title-18 ml-4`}\r\n                >\r\n                  <Link to=\"/share/saves\">My Share</Link>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div\r\n              className={`${styles['filter-container']} d-flex justify-content-end mr-3`}\r\n            >\r\n              <div className={`${styles['filter-container-num']}`}>\r\n                {filterNum}\r\n              </div>\r\n              <Filter\r\n                className={`${styles['button-default']}`}\r\n                onClick={() => setFilter(!filter)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ShareNavBar;\r\n"]},"metadata":{},"sourceType":"module"}