{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryany\\\\OneDrive\\\\\\u684C\\u9762\\\\primeal\\\\src\\\\pages\\\\member\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport { AsideLeft, AsideRight, Title } from './memLayout/LayoutDark';\nimport { useState } from 'react';\nimport { login } from '../../WebApi';\nimport { ReactComponent as EyeOff } from '../../imgs/eye-off.svg';\nimport { ReactComponent as EyeShow } from '../../imgs/eye-show.svg';\nimport { Link, useHistory } from 'react-router-dom';\nimport { setAuthToken, setMemId } from '../../utils';\nimport LoginForgetPwd from './component/LoginForgetPwd';\nimport LoginForgetPwdVcode from './component/LoginForgetPwdVcode';\nimport LoginForgetPwdVcodeNew from './component/LoginForgetPwdVcodeNew';\nimport NavPage from '../layout/components/NavPage';\nimport img from '../../imgs/mem/LoginImg.png'; //styled component\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LoginBody = styled.body`\n  ${''\n/* border:1px solid red; */\n}\n  background:#212121;\n\n  ${''\n/* opacity: 0.3; */\n}\n  ${''\n/* background-image: url(${img}); */\n}\n\n\n  @media screen and (max-width: 576px) {\n    background: transparent !important;\n    ${''\n/* border:1px solid red; */\n}\n    &:before {\n      content: '';\n      width: 100%;\n      height: 812px;\n      top: 0;\n      left: 0;\n      background-image: url(${img});\n      ${''\n/* background-size: cover; */\n}\n      filter: brightness(0.4);\n      position: absolute;\n      background-attachment: fixed;\n      z-index: -1;\n      border: 1px solid red;\n    }\n  }\n`;\n_c = LoginBody;\nconst Slogan = styled.p`\n  color: #f7f6f3;\n  text-align: center;\n  font-size: 3.6rem;\n  line-height: 5.4rem;\n  letter-spacing: 0.81rem;\n`;\n_c2 = Slogan;\nconst LoginArea = styled.div`\n  display: flex;\n  justify-content: space-between;\n  height: auto;\n  margin-right: 15%;\n\n  @media screen and (max-width: 576px) {\n    ${''\n/* display: flex; */\n}\n    ${''\n/* border:1px solid red; */\n}\n    ${''\n/* flex-direction: column; */\n}\n    ${''\n/* align-item: center; */\n}\n    justify-content:center;\n    margin: 0 auto;\n    padding: 0 10%;\n    ${''\n/* width: 100%; */\n}\n  }\n`;\n_c3 = LoginArea;\nconst LoginForm = styled.form`\n  display: flex;\n  flex-direction: column;\n`;\n_c4 = LoginForm;\nconst InputArea = styled.div`\n  margin-top: 10%;\n  padding: 0;\n  @media screen and (max-width: 576px) {\n    margin-top: 5%;\n  }\n`;\n_c5 = InputArea;\nconst LoginAreaImg = styled.div`\n  padding-left: 5%;\n  @media screen and (max-width: 576px) {\n    display: none;\n  }\n`;\n_c6 = LoginAreaImg;\nconst InputTitle = styled.p`\n  color: #f7f6f3;\n  margin-top: 10%;\n`;\n_c7 = InputTitle;\nconst InputForPsw = styled.p`\n  color: #f7f6f3;\n  margin-top: 33px;\n  text-align: center;\n  cursor: pointer;\n\n  @media screen and (max-width: 576px) {\n    ${''\n/* width:100%; */\n}\n  }\n`;\n_c8 = InputForPsw;\nconst InputRegistLink = styled.p`\n  color: #c4c4c4;\n  margin-top: 26px;\n  text-align: center;\n`;\n_c9 = InputRegistLink;\nconst ErrorMessage = styled.p`\n  color: #b03342;\n  height: 20px;\n`; //顯示關閉密碼icon待開發\n\n_c10 = ErrorMessage;\nconst PswInput = styled.input`\n  after::{\n    <BsEyeSlash></BsEyeSlash>\n\n  }\n`;\n_c11 = PswInput;\n\nfunction Login(props) {\n  _s();\n\n  // const {setUser} = useContext(AuthContext);\n  const [mem_account, setMem_account] = useState('');\n  const [mem_pwd, setMem_pwd] = useState('');\n  const [errorMessage, setErrorMessage] = useState();\n  const [showPwd, setShowPwd] = useState(false);\n  const [forgetPwd, setForgetPwd] = useState(false);\n  const [accountPass, setAccountPass] = useState(false);\n  const [vCodePass, setVcodePass] = useState(false);\n  const history = useHistory();\n  const {\n    navIsOpen,\n    setNavIsOpen\n  } = props;\n\n  const handleClickPwd = e => {\n    showPwd === true ? setShowPwd(false) : setShowPwd(true);\n  };\n\n  const handleClickForgetPwd = e => {\n    setForgetPwd(true);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    login(mem_account, mem_pwd).then(data => {\n      if (data.code !== 0) {\n        return setErrorMessage(data.error);\n      } else {\n        setAuthToken(data.token);\n        setMemId(data.info.mem_id);\n        localStorage.setItem('loginStatus', true); // setIsLogin(true);\n\n        localStorage.setItem('cart_count', data.cart_count);\n        localStorage.setItem('mem_name', data.info.mem_name);\n        localStorage.setItem('mem_nickname', data.info.mem_nickname);\n        localStorage.setItem('mem_photo', data.info.mem_photo_img_path);\n        history.goBack(-2); //登入成功後導入會員頁\n      }\n    });\n  };\n\n  const showBlock = {\n    display: 'block'\n  };\n  const hiddenBlock = {\n    display: 'none'\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(LoginBody, {\n      children: [navIsOpen && /*#__PURE__*/_jsxDEV(NavPage, {\n        navIsOpen: navIsOpen,\n        setNavIsOpen: setNavIsOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: navIsOpen ? hiddenBlock : showBlock,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex'\n          },\n          children: [/*#__PURE__*/_jsxDEV(AsideLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AsideRight, {\n            setNavIsOpen: setNavIsOpen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              title: '',\n              style: {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(LoginArea, {\n              children: [/*#__PURE__*/_jsxDEV(LoginAreaImg, {\n                className: \"col-8\",\n                style: {\n                  height: '100vh'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: require('../../imgs/mem/LoginImg.png'),\n                  style: {\n                    width: '100%',\n                    height: '100%'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(InputArea, {\n                className: \"col-md-5\",\n                children: [/*#__PURE__*/_jsxDEV(Slogan, {\n                  children: [\"Hello, \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 28\n                  }, this), \"My Friend\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(LoginForm, {\n                  onSubmit: handleSubmit,\n                  children: [/*#__PURE__*/_jsxDEV(InputTitle, {\n                    className: \"ch-cont-14\",\n                    children: \"\\u5E33\\u865F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: mem_account,\n                    className: \"form-control\",\n                    onChange: e => {\n                      setMem_account(e.target.value);\n                    },\n                    name: \"mem_account\",\n                    style: {\n                      borderRadius: 50,\n                      height: '40px',\n                      background: '#212121',\n                      border: '1px solid #f7f6f3',\n                      color: '#f7f6f3',\n                      fontSize: '1.4rem',\n                      lineHeight: '1.8rem',\n                      letterSpacing: '0.14rem'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                    className: \"ch-cont-14\",\n                    children: errorMessage && '帳號錯誤!'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(InputTitle, {\n                    className: \"ch-cont-14\",\n                    children: \"\\u5BC6\\u78BC\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      position: 'relative'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(PswInput, {\n                      type: showPwd === false ? 'password' : 'text',\n                      className: \"form-control\",\n                      value: mem_pwd,\n                      onChange: e => {\n                        setMem_pwd(e.target.value);\n                      },\n                      name: \"mem_pwd\",\n                      style: {\n                        borderRadius: 50,\n                        height: '40px',\n                        background: '#212121',\n                        border: '1px solid #f7f6f3',\n                        color: '#f7f6f3',\n                        fontSize: '1.4rem',\n                        lineHeight: '1.8rem',\n                        letterSpacing: '0.14rem'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 23\n                    }, this), showPwd === false ? /*#__PURE__*/_jsxDEV(EyeOff, {\n                      style: {\n                        position: 'absolute',\n                        right: '10px',\n                        top: '8px',\n                        cursor: 'pointer'\n                      },\n                      onClick: handleClickPwd\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 235,\n                      columnNumber: 25\n                    }, this) : /*#__PURE__*/_jsxDEV(EyeShow, {\n                      style: {\n                        position: 'absolute',\n                        right: '10px',\n                        top: '8px',\n                        cursor: 'pointer'\n                      },\n                      onClick: handleClickPwd\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 245,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                    className: \"ch-cont-14\",\n                    children: errorMessage && '密碼錯誤!'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"ch-title-22 btn btn-sm primeal-btn\",\n                    style: {\n                      marginTop: '15%',\n                      height: '40px',\n                      color: '#575757',\n                      background: '#f7f6f3',\n                      width: '100%'\n                    },\n                    children: \"\\u767B\\u5165\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(InputForPsw, {\n                  className: \"ch-cont-14\",\n                  onClick: handleClickForgetPwd,\n                  children: \"\\u5FD8\\u8A18\\u5BC6\\u78BC?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(InputRegistLink, {\n                  className: \"ch-cont-14\",\n                  children: [\"\\u9084\\u6C92\\u6709\\u5E33\\u865F\\u55CE?\", /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/member/register\",\n                    style: {\n                      color: '#f7f6f3',\n                      textDecoration: 'none'\n                    },\n                    children: \"\\u9EDE\\u6211\\u8A3B\\u518A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(LoginForgetPwd, {\n                forgetPwd: forgetPwd,\n                setForgetPwd: setForgetPwd,\n                accountPass: accountPass,\n                setAccountPass: setAccountPass\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(LoginForgetPwdVcode, {\n                accountPass: accountPass,\n                setAccountPass: setAccountPass,\n                setVcodePass: setVcodePass\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(LoginForgetPwdVcodeNew, {\n                vCodePass: vCodePass,\n                setVcodePass: setVcodePass\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Login, \"uk6omol+Zenu8YqPzcJUOz68ZyI=\", false, function () {\n  return [useHistory];\n});\n\n_c12 = Login;\nexport default Login;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12;\n\n$RefreshReg$(_c, \"LoginBody\");\n$RefreshReg$(_c2, \"Slogan\");\n$RefreshReg$(_c3, \"LoginArea\");\n$RefreshReg$(_c4, \"LoginForm\");\n$RefreshReg$(_c5, \"InputArea\");\n$RefreshReg$(_c6, \"LoginAreaImg\");\n$RefreshReg$(_c7, \"InputTitle\");\n$RefreshReg$(_c8, \"InputForPsw\");\n$RefreshReg$(_c9, \"InputRegistLink\");\n$RefreshReg$(_c10, \"ErrorMessage\");\n$RefreshReg$(_c11, \"PswInput\");\n$RefreshReg$(_c12, \"Login\");","map":{"version":3,"sources":["C:/Users/ryany/OneDrive/桌面/primeal/src/pages/member/Login.js"],"names":["styled","AsideLeft","AsideRight","Title","useState","login","ReactComponent","EyeOff","EyeShow","Link","useHistory","setAuthToken","setMemId","LoginForgetPwd","LoginForgetPwdVcode","LoginForgetPwdVcodeNew","NavPage","img","LoginBody","body","Slogan","p","LoginArea","div","LoginForm","form","InputArea","LoginAreaImg","InputTitle","InputForPsw","InputRegistLink","ErrorMessage","PswInput","input","Login","props","mem_account","setMem_account","mem_pwd","setMem_pwd","errorMessage","setErrorMessage","showPwd","setShowPwd","forgetPwd","setForgetPwd","accountPass","setAccountPass","vCodePass","setVcodePass","history","navIsOpen","setNavIsOpen","handleClickPwd","e","handleClickForgetPwd","handleSubmit","preventDefault","then","data","code","error","token","info","mem_id","localStorage","setItem","cart_count","mem_name","mem_nickname","mem_photo_img_path","goBack","showBlock","display","hiddenBlock","width","height","require","target","value","borderRadius","background","border","color","fontSize","lineHeight","letterSpacing","position","right","top","cursor","marginTop","textDecoration"],"mappings":"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","sourcesContent":["import styled from 'styled-components';\r\nimport { AsideLeft, AsideRight, Title } from './memLayout/LayoutDark';\r\nimport { useState } from 'react';\r\nimport { login } from '../../WebApi';\r\nimport { ReactComponent as EyeOff } from '../../imgs/eye-off.svg';\r\nimport { ReactComponent as EyeShow } from '../../imgs/eye-show.svg';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { setAuthToken, setMemId } from '../../utils';\r\nimport LoginForgetPwd from './component/LoginForgetPwd';\r\nimport LoginForgetPwdVcode from './component/LoginForgetPwdVcode';\r\nimport LoginForgetPwdVcodeNew from './component/LoginForgetPwdVcodeNew';\r\nimport NavPage from '../layout/components/NavPage';\r\nimport img from '../../imgs/mem/LoginImg.png';\r\n\r\n//styled component\r\nconst LoginBody = styled.body`\r\n  ${'' /* border:1px solid red; */}\r\n  background:#212121;\r\n\r\n  ${'' /* opacity: 0.3; */}\r\n  ${'' /* background-image: url(${img}); */}\r\n\r\n\r\n  @media screen and (max-width: 576px) {\r\n    background: transparent !important;\r\n    ${'' /* border:1px solid red; */}\r\n    &:before {\r\n      content: '';\r\n      width: 100%;\r\n      height: 812px;\r\n      top: 0;\r\n      left: 0;\r\n      background-image: url(${img});\r\n      ${'' /* background-size: cover; */}\r\n      filter: brightness(0.4);\r\n      position: absolute;\r\n      background-attachment: fixed;\r\n      z-index: -1;\r\n      border: 1px solid red;\r\n    }\r\n  }\r\n`;\r\nconst Slogan = styled.p`\r\n  color: #f7f6f3;\r\n  text-align: center;\r\n  font-size: 3.6rem;\r\n  line-height: 5.4rem;\r\n  letter-spacing: 0.81rem;\r\n`;\r\nconst LoginArea = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  height: auto;\r\n  margin-right: 15%;\r\n\r\n  @media screen and (max-width: 576px) {\r\n    ${'' /* display: flex; */}\r\n    ${'' /* border:1px solid red; */}\r\n    ${'' /* flex-direction: column; */}\r\n    ${'' /* align-item: center; */}\r\n    justify-content:center;\r\n    margin: 0 auto;\r\n    padding: 0 10%;\r\n    ${'' /* width: 100%; */}\r\n  }\r\n`;\r\n\r\nconst LoginForm = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst InputArea = styled.div`\r\n  margin-top: 10%;\r\n  padding: 0;\r\n  @media screen and (max-width: 576px) {\r\n    margin-top: 5%;\r\n  }\r\n`;\r\nconst LoginAreaImg = styled.div`\r\n  padding-left: 5%;\r\n  @media screen and (max-width: 576px) {\r\n    display: none;\r\n  }\r\n`;\r\nconst InputTitle = styled.p`\r\n  color: #f7f6f3;\r\n  margin-top: 10%;\r\n`;\r\nconst InputForPsw = styled.p`\r\n  color: #f7f6f3;\r\n  margin-top: 33px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n\r\n  @media screen and (max-width: 576px) {\r\n    ${'' /* width:100%; */}\r\n  }\r\n`;\r\nconst InputRegistLink = styled.p`\r\n  color: #c4c4c4;\r\n  margin-top: 26px;\r\n  text-align: center;\r\n`;\r\nconst ErrorMessage = styled.p`\r\n  color: #b03342;\r\n  height: 20px;\r\n`;\r\n\r\n//顯示關閉密碼icon待開發\r\nconst PswInput = styled.input`\r\n  after::{\r\n    <BsEyeSlash></BsEyeSlash>\r\n\r\n  }\r\n`;\r\n\r\nfunction Login(props) {\r\n  // const {setUser} = useContext(AuthContext);\r\n  const [mem_account, setMem_account] = useState('');\r\n  const [mem_pwd, setMem_pwd] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [showPwd, setShowPwd] = useState(false);\r\n  const [forgetPwd, setForgetPwd] = useState(false);\r\n  const [accountPass, setAccountPass] = useState(false);\r\n  const [vCodePass, setVcodePass] = useState(false);\r\n  const history = useHistory();\r\n  const { navIsOpen, setNavIsOpen } = props;\r\n  \r\n\r\n  const handleClickPwd = e => {\r\n    showPwd === true ? setShowPwd(false) : setShowPwd(true);\r\n  };\r\n  const handleClickForgetPwd = e => {\r\n    setForgetPwd(true);\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    login(mem_account, mem_pwd).then(data => {\r\n      if (data.code !== 0) {\r\n        return setErrorMessage(data.error);\r\n      } else {\r\n        setAuthToken(data.token);\r\n        setMemId(data.info.mem_id);\r\n        localStorage.setItem('loginStatus', true);\r\n        // setIsLogin(true);\r\n        localStorage.setItem('cart_count', data.cart_count);\r\n        localStorage.setItem('mem_name', data.info.mem_name);\r\n        localStorage.setItem('mem_nickname', data.info.mem_nickname);\r\n        localStorage.setItem('mem_photo', data.info.mem_photo_img_path);\r\n        history.goBack(-2); //登入成功後導入會員頁\r\n      }\r\n      \r\n    });\r\n  };\r\n  const showBlock = { display: 'block' };\r\n  const hiddenBlock = { display: 'none' };\r\n\r\n  return (\r\n    <>\r\n      <LoginBody>\r\n        {/* <Header /> */}\r\n        {navIsOpen && (\r\n          <NavPage navIsOpen={navIsOpen} setNavIsOpen={setNavIsOpen} />\r\n        )}\r\n        <div style={navIsOpen ? hiddenBlock : showBlock}>\r\n          <div style={{ display: 'flex' }}>\r\n            <AsideLeft />\r\n            <AsideRight setNavIsOpen={setNavIsOpen} />\r\n            <div style={{ width: '100%' }}>\r\n              <Title  title={''} style={{ display: 'none' }}/>\r\n              <LoginArea>\r\n                <LoginAreaImg className=\"col-8\" style={{ height: '100vh' }}>\r\n                  <img\r\n                    src={require('../../imgs/mem/LoginImg.png')}\r\n                    style={{ width: '100%', height: '100%' }}\r\n                  ></img>\r\n                </LoginAreaImg>\r\n                <InputArea className=\"col-md-5\">\r\n                  <Slogan>\r\n                    Hello, <br />\r\n                    My Friend\r\n                  </Slogan>\r\n                  <LoginForm onSubmit={handleSubmit}>\r\n                    <InputTitle className=\"ch-cont-14\">帳號</InputTitle>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={mem_account}\r\n                      className=\"form-control\"\r\n                      onChange={e => {\r\n                        setMem_account(e.target.value);\r\n                      }}\r\n                      name=\"mem_account\"\r\n                      style={{\r\n                        borderRadius: 50,\r\n                        height: '40px',\r\n                        background: '#212121',\r\n                        border: '1px solid #f7f6f3',\r\n                        color: '#f7f6f3',\r\n                        fontSize: '1.4rem',\r\n                        lineHeight: '1.8rem',\r\n                        letterSpacing: '0.14rem',\r\n                      }}\r\n                    />\r\n                    <ErrorMessage className=\"ch-cont-14\">\r\n                      {errorMessage && '帳號錯誤!'}\r\n                    </ErrorMessage>\r\n\r\n                    <InputTitle className=\"ch-cont-14\">密碼</InputTitle>\r\n                    <div\r\n                      style={{\r\n                        position: 'relative',\r\n                      }}\r\n                    >\r\n                      <PswInput\r\n                        type={showPwd === false ? 'password' : 'text'}\r\n                        className=\"form-control\"\r\n                        value={mem_pwd}\r\n                        onChange={e => {\r\n                          setMem_pwd(e.target.value);\r\n                        }}\r\n                        name=\"mem_pwd\"\r\n                        style={{\r\n                          borderRadius: 50,\r\n                          height: '40px',\r\n                          background: '#212121',\r\n                          border: '1px solid #f7f6f3',\r\n                          color: '#f7f6f3',\r\n                          fontSize: '1.4rem',\r\n                          lineHeight: '1.8rem',\r\n                          letterSpacing: '0.14rem',\r\n                        }}\r\n                      />\r\n                      {showPwd === false ? (\r\n                        <EyeOff\r\n                          style={{\r\n                            position: 'absolute',\r\n                            right: '10px',\r\n                            top: '8px',\r\n                            cursor: 'pointer',\r\n                          }}\r\n                          onClick={handleClickPwd}\r\n                        ></EyeOff>\r\n                      ) : (\r\n                        <EyeShow\r\n                          style={{\r\n                            position: 'absolute',\r\n                            right: '10px',\r\n                            top: '8px',\r\n                            cursor: 'pointer',\r\n                          }}\r\n                          onClick={handleClickPwd}\r\n                        ></EyeShow>\r\n                      )}\r\n                    </div>\r\n                    <ErrorMessage className=\"ch-cont-14\">\r\n                      {errorMessage && '密碼錯誤!'}\r\n                    </ErrorMessage>\r\n                    <button\r\n                      className=\"ch-title-22 btn btn-sm primeal-btn\"\r\n                      style={{\r\n                        marginTop: '15%',\r\n                        height: '40px',\r\n                        color: '#575757',\r\n                        background: '#f7f6f3',\r\n                        width: '100%',\r\n                      }}\r\n                    >\r\n                      登入\r\n                    </button>\r\n                  </LoginForm>\r\n                  <InputForPsw\r\n                    className=\"ch-cont-14\"\r\n                    onClick={handleClickForgetPwd}\r\n                  >\r\n                    忘記密碼?\r\n                  </InputForPsw>\r\n                  <InputRegistLink className=\"ch-cont-14\">\r\n                    還沒有帳號嗎?\r\n                    <Link\r\n                      to=\"/member/register\"\r\n                      style={{\r\n                        color: '#f7f6f3',\r\n                        textDecoration: 'none',\r\n                      }}\r\n                    >\r\n                      點我註冊\r\n                    </Link>\r\n                  </InputRegistLink>\r\n                </InputArea>\r\n                <LoginForgetPwd\r\n                  forgetPwd={forgetPwd}\r\n                  setForgetPwd={setForgetPwd}\r\n                  accountPass={accountPass}\r\n                  setAccountPass={setAccountPass}\r\n                />\r\n                <LoginForgetPwdVcode\r\n                  accountPass={accountPass}\r\n                  setAccountPass={setAccountPass}\r\n                  setVcodePass={setVcodePass}\r\n                />\r\n                <LoginForgetPwdVcodeNew\r\n                  vCodePass={vCodePass}\r\n                  setVcodePass={setVcodePass}\r\n                />\r\n              </LoginArea>\r\n\r\n              {/* <Footer /> */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </LoginBody>\r\n    </>\r\n  );\r\n}\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}