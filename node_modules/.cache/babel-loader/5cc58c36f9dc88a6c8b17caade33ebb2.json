{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryany\\\\OneDrive\\\\\\u684C\\u9762\\\\primeal\\\\src\\\\pages\\\\home\\\\EvntsSignUp.js\",\n    _s = $RefreshSig$();\n\nimport { Header, Title, AsideLeft, AsideRight, Footer } from '../layout/Layout';\nimport './evnts-signup.scss';\nimport config from '../../Config';\nimport { useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { getMemId } from '../../utils';\nimport SignUpModal from './components/SignUpModal';\nimport NavPage from '../layout/components/NavPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction EvntsSignUp(props) {\n  _s();\n\n  var _evntsInfo$0$evnts_ti, _evntsInfo$, _evntsInfo$0$evnts_da, _evntsInfo$2, _evntsInfo$0$evnts_ca, _evntsInfo$3, _ref, _evntsInfo$4, _evntsInfo$0$evnts_si, _evntsInfo$5, _evntsInfo$0$evnts_si2, _evntsInfo$6, _evntsInfo$0$evnts_da2, _evntsInfo$7, _evntsInfo$0$evnts_st, _evntsInfo$8, _evntsInfo$0$evnts_en, _evntsInfo$9, _evntsInfo$0$evnts_lo, _evntsInfo$10, _evntsInfo$0$evnts_ma, _evntsInfo$11, _evntsInfo$0$evnts_ma2, _evntsInfo$12, _evntsInfo$0$evnts_pr, _evntsInfo$13, _evntsInfo$0$evnts_de, _evntsInfo$14, _evntsInfo$0$evnts_id, _evntsInfo$15, _evntsInfo$0$evnts_ma3, _evntsInfo$16, _evntsInfo$0$evnts_pr2, _evntsInfo$17;\n\n  const {\n    navIsOpen,\n    setNavIsOpen\n  } = props;\n  const [evntsInfo, setEvntsInfo] = useState([]);\n  const [modalShow, setModalShow] = useState(false);\n  const [signUpResult, setSignUpResult] = useState('');\n  const history = useHistory();\n  const mem_id = getMemId();\n  const mem_name = localStorage.getItem('mem_name'); // console.log('mem_id:', mem_id);\n\n  const {\n    id\n  } = useParams();\n  console.log('evnts_id:', id);\n\n  const getEvntsInfo = async () => {\n    const res = await fetch(config.EVNTSD_PATH + `${id}`);\n    const obj = await res.json();\n    console.log('obj:', obj);\n    setEvntsInfo(obj.data);\n  };\n\n  useEffect(() => {\n    getEvntsInfo();\n  }, []); // Input State\n\n  const [fields, setFields] = useState({\n    name: '',\n    mobile: '',\n    email: '',\n    number: '',\n    comment: ''\n  }); // Error Message State\n\n  const [fieldsError, setFieldsError] = useState({\n    name: '',\n    mobile: '',\n    email: '',\n    number: ''\n  }); // 處理欄位改變\n\n  const handleFieldChange = e => {\n    const newData = { ...fields,\n      [e.target.name]: e.target.value\n    };\n    setFields(newData);\n  }; // 驗證並處理欄位錯誤訊息\n\n\n  const handleValidation = () => {\n    let formIsValid = true;\n    let errorMsg = {}; // 提交前作驗証，並自定義fieldsError訊息\n\n    console.log('fields:', fields); // 格式規則\n\n    const name_re = /[ `!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~]/;\n    const mobile_re = /^09\\d{2}-?\\d{3}-?\\d{3}$/;\n    const email_re = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i; // name\n\n    if (!fields.name) {\n      formIsValid = false;\n      errorMsg.name = '姓名欄位不可為空';\n    } else if (fields.name && name_re.test(fields.name)) {\n      formIsValid = false;\n      errorMsg.name = '姓名欄位不可包含特殊符號';\n    } // mobile\n\n\n    if (!fields.mobile) {\n      formIsValid = false;\n      errorMsg.mobile = '連絡電話不可為空';\n    } else if (fields.mobile && !mobile_re.test(fields.mobile)) {\n      formIsValid = false;\n      errorMsg.mobile = '連絡電話格式不正確';\n    } // email\n\n\n    if (!fields.email) {\n      formIsValid = false;\n      errorMsg.email = '信箱不可為空';\n    } else if (fields.email && !email_re.test(fields.email)) {\n      formIsValid = false;\n      errorMsg.email = '信箱格式錯誤';\n    } // number\n\n\n    if (!fields.number) {\n      formIsValid = false;\n      errorMsg.number = '請選擇參加人數';\n    }\n\n    setFieldsError(errorMsg);\n    return formIsValid;\n  }; // 當欄位有更動時，處理清空錯誤訊息\n\n\n  const handleChange = e => {\n    const updatedFieldError = { ...fieldsError,\n      [e.target.name]: ''\n    };\n    setFieldsError(updatedFieldError);\n  }; // 清除重新填寫\n\n\n  const clearFormHandler = () => {\n    setFields({\n      name: '',\n      mobile: '',\n      email: '',\n      number: '',\n      comment: ''\n    });\n  }; // 提交\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (handleValidation()) {\n      // console.log('form submitted.');\n      // get form data\n      const formData = new FormData(e.target);\n      const dataObj = {};\n\n      for (let i of formData) {\n        dataObj[i[0]] = i[1];\n      }\n\n      dataObj.mem_id = mem_id;\n      dataObj.mem_name = mem_name;\n      console.log({\n        dataObj\n      }); // fetch\n\n      const r = fetch(config.POST_SINGUP_PATH, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(dataObj)\n      }).then(r => r.json()).then(obj => {\n        console.log(obj);\n\n        if (obj.success) {\n          setSignUpResult(true);\n          setModalShow(true);\n        } else {\n          setSignUpResult(false);\n          setModalShow(true);\n        }\n      });\n    } else {\n      console.log('form has errors.');\n    }\n  };\n\n  const showBlock = {\n    display: 'block'\n  };\n  const hiddenBlock = {\n    display: 'none'\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), navIsOpen && /*#__PURE__*/_jsxDEV(NavPage, {\n      navIsOpen: navIsOpen,\n      setNavIsOpen: setNavIsOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: navIsOpen ? hiddenBlock : showBlock,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex'\n        },\n        children: [/*#__PURE__*/_jsxDEV(AsideLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            title: 'Events',\n            setNavIsOpen: setNavIsOpen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"evnts-signup\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mycontainer min-hi\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"lastest-news-nav d-flex justify-content-between align-items-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"lastest-news-nav-breadcrumbs\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"en-title-14-10\",\n                    children: \"HOME / LATEST NEWS / EVENTS\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"evnts-block\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evnts-info-area\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"evnts-info-top d-flex justify-content-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"evnts-info-top-text\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"ch-title-22 evnts-title\",\n                        children: (_evntsInfo$0$evnts_ti = (_evntsInfo$ = evntsInfo[0]) === null || _evntsInfo$ === void 0 ? void 0 : _evntsInfo$.evnts_title) !== null && _evntsInfo$0$evnts_ti !== void 0 ? _evntsInfo$0$evnts_ti : ''\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 199,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"en-cont-16 evnts-date\",\n                        children: (_evntsInfo$0$evnts_da = (_evntsInfo$2 = evntsInfo[0]) === null || _evntsInfo$2 === void 0 ? void 0 : _evntsInfo$2.evnts_date) !== null && _evntsInfo$0$evnts_da !== void 0 ? _evntsInfo$0$evnts_da : ''\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 202,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"ch-cont-16 evnts-tag\",\n                        children: (_evntsInfo$0$evnts_ca = (_evntsInfo$3 = evntsInfo[0]) === null || _evntsInfo$3 === void 0 ? void 0 : _evntsInfo$3.evnts_cate) !== null && _evntsInfo$0$evnts_ca !== void 0 ? _evntsInfo$0$evnts_ca : ''\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 205,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 198,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"evnts-img\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: (_ref = `http://localhost:3500` + ((_evntsInfo$4 = evntsInfo[0]) === null || _evntsInfo$4 === void 0 ? void 0 : _evntsInfo$4.evnts_img_path)) !== null && _ref !== void 0 ? _ref : '',\n                        alt: \"events\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 210,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"evnts-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"diamond\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ch-cont-16 info-title\",\n                      children: \"\\u5831\\u540D\\u958B\\u59CB:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 221,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ch-cont-16 info-content\",\n                      children: (_evntsInfo$0$evnts_si = (_evntsInfo$5 = evntsInfo[0]) === null || _evntsInfo$5 === void 0 ? void 0 : _evntsInfo$5.evnts_signup_start_date) !== null && _evntsInfo$0$evnts_si !== void 0 ? _evntsInfo$0$evnts_si : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"evnts-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"diamond\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 227,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ch-cont-16 info-title\",\n                      children: \"\\u5831\\u540D\\u622A\\u6B62:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ch-cont-16 info-content\",\n                      children: (_evntsInfo$0$evnts_si2 = (_evntsInfo$6 = evntsInfo[0]) === null || _evntsInfo$6 === void 0 ? void 0 : _evntsInfo$6.evnts_signup_end_date) !== null && _evntsInfo$0$evnts_si2 !== void 0 ? _evntsInfo$0$evnts_si2 : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"evnts-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"diamond\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 234,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ch-cont-16 info-title\",\n                      children: \"\\u6D3B\\u52D5\\u65E5\\u671F:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 235,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ch-cont-16 info-content\",\n                      children: (_evntsInfo$0$evnts_da2 = (_evntsInfo$7 = evntsInfo[0]) === null || _evntsInfo$7 === void 0 ? void 0 : _evntsInfo$7.evnts_date) !== null && _evntsInfo$0$evnts_da2 !== void 0 ? _evntsInfo$0$evnts_da2 : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 236,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"evnts-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"diamond\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 241,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ch-cont-16 info-title\",\n                      children: \"\\u6D3B\\u52D5\\u6642\\u9593:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ch-cont-16 info-content\",\n                      children: [(_evntsInfo$0$evnts_st = (_evntsInfo$8 = evntsInfo[0]) === null || _evntsInfo$8 === void 0 ? void 0 : _evntsInfo$8.evnts_start_time) !== null && _evntsInfo$0$evnts_st !== void 0 ? _evntsInfo$0$evnts_st : '', \"-\", (_evntsInfo$0$evnts_en = (_evntsInfo$9 = evntsInfo[0]) === null || _evntsInfo$9 === void 0 ? void 0 : _evntsInfo$9.evnts_end_time) !== null && _evntsInfo$0$evnts_en !== void 0 ? _evntsInfo$0$evnts_en : '']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"evnts-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"diamond\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ch-cont-16 info-title\",\n                      children: \"\\u6D3B\\u52D5\\u5730\\u9EDE:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 250,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ch-cont-16 info-content\",\n                      children: (_evntsInfo$0$evnts_lo = (_evntsInfo$10 = evntsInfo[0]) === null || _evntsInfo$10 === void 0 ? void 0 : _evntsInfo$10.evnts_location) !== null && _evntsInfo$0$evnts_lo !== void 0 ? _evntsInfo$0$evnts_lo : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"evnts-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"diamond\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 256,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ch-cont-16 info-title\",\n                      children: \"\\u6D3B\\u52D5\\u4EBA\\u6578:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ch-cont-16 info-content\",\n                      children: [\"\\u4E0A\\u9650\", (_evntsInfo$0$evnts_ma = (_evntsInfo$11 = evntsInfo[0]) === null || _evntsInfo$11 === void 0 ? void 0 : _evntsInfo$11.evnts_max_num) !== null && _evntsInfo$0$evnts_ma !== void 0 ? _evntsInfo$0$evnts_ma : '', \"\\u4EBA\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"evnts-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"diamond\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ch-cont-16 info-title\",\n                      children: \"\\u53EF\\u5831\\u540D\\u4EBA\\u6578:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ch-cont-16 info-content\",\n                      children: [((_evntsInfo$0$evnts_ma2 = (_evntsInfo$12 = evntsInfo[0]) === null || _evntsInfo$12 === void 0 ? void 0 : _evntsInfo$12.evnts_max_num) !== null && _evntsInfo$0$evnts_ma2 !== void 0 ? _evntsInfo$0$evnts_ma2 : '') - ((_evntsInfo$0$evnts_pr = (_evntsInfo$13 = evntsInfo[0]) === null || _evntsInfo$13 === void 0 ? void 0 : _evntsInfo$13.evnts_pres_num) !== null && _evntsInfo$0$evnts_pr !== void 0 ? _evntsInfo$0$evnts_pr : ''), \"\\u4EBA\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ch-cont-16 evnts-content\",\n                    children: (_evntsInfo$0$evnts_de = (_evntsInfo$14 = evntsInfo[0]) === null || _evntsInfo$14 === void 0 ? void 0 : _evntsInfo$14.evnts_detail) !== null && _evntsInfo$0$evnts_de !== void 0 ? _evntsInfo$0$evnts_de : ''\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ch-cont-16 evnts-signup-area\",\n                  children: /*#__PURE__*/_jsxDEV(\"form\", {\n                    onSubmit: handleSubmit // onInvalid={handleInvalid}\n                    ,\n                    onChange: handleChange,\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      name: \"evnts_id\",\n                      id: \"evnts_id\",\n                      value: (_evntsInfo$0$evnts_id = (_evntsInfo$15 = evntsInfo[0]) === null || _evntsInfo$15 === void 0 ? void 0 : _evntsInfo$15.evnts_id) !== null && _evntsInfo$0$evnts_id !== void 0 ? _evntsInfo$0$evnts_id : '',\n                      hidden: true,\n                      readOnly: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"singup-column d-flex justify-content-between align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"form-label\",\n                        children: \"\\u53C3\\u52A0\\u8005\\u59D3\\u540D\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 289,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-label text-primary ch-cont-12\",\n                        children: \"\\u5FC5\\u586B\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 290,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      id: \"name\",\n                      name: \"name\",\n                      value: fields.name,\n                      onChange: handleFieldChange,\n                      placeholder: \"\\u53C3\\u52A0\\u8005\\u59D3\\u540D\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 23\n                    }, this), fieldsError.name !== '' && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"error\",\n                      children: fieldsError.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 304,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"singup-column d-flex justify-content-between align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"form-label \",\n                        children: \"\\u9023\\u7D61\\u96FB\\u8A71\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 307,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-label text-primary ch-cont-12\",\n                        children: \"\\u5FC5\\u586B\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 308,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 306,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      id: \"mobile\",\n                      name: \"mobile\",\n                      placeholder: \"09XX-XXX-XXX\",\n                      \"data-pattern\": \"09\\\\d{2}-?\\\\d{3}-?\\\\d{3}\",\n                      onChange: handleFieldChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 23\n                    }, this), fieldsError.mobile !== '' && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"error\",\n                      children: fieldsError.mobile\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 322,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"singup-column d-flex justify-content-between align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"form-label\",\n                        children: \"\\u9023\\u7D61Email\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 325,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-label text-primary ch-cont-12\",\n                        children: \"\\u5FC5\\u586B\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 326,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      id: \"email\",\n                      name: \"email\",\n                      value: fields.email,\n                      placeholder: \"123@test.com\",\n                      onChange: handleFieldChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 23\n                    }, this), fieldsError.email !== '' && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"error\",\n                      children: fieldsError.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ch-cont-14\",\n                      children: \"(\\u6D3B\\u52D5\\u901A\\u77E5\\u5C07\\u900F\\u904EEmail\\u767C\\u9001)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 342,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"form-label mr-5\",\n                      className: \"singup-column\",\n                      children: \"\\u53C3\\u52A0\\u4EBA\\u6578\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 345,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      className: \"form-select\",\n                      name: \"number\",\n                      id: \"number\",\n                      value: fields.number,\n                      onChange: handleFieldChange,\n                      children: Array(((_evntsInfo$0$evnts_ma3 = (_evntsInfo$16 = evntsInfo[0]) === null || _evntsInfo$16 === void 0 ? void 0 : _evntsInfo$16.evnts_max_num) !== null && _evntsInfo$0$evnts_ma3 !== void 0 ? _evntsInfo$0$evnts_ma3 : '') - ((_evntsInfo$0$evnts_pr2 = (_evntsInfo$17 = evntsInfo[0]) === null || _evntsInfo$17 === void 0 ? void 0 : _evntsInfo$17.evnts_pres_num) !== null && _evntsInfo$0$evnts_pr2 !== void 0 ? _evntsInfo$0$evnts_pr2 : '') + 1).fill(1).map((v, i) => {\n                        if (i === 0) {\n                          return /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: i,\n                            children: \"\\u8ACB\\u9078\\u64C7\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 366,\n                            columnNumber: 38\n                          }, this);\n                        } else {\n                          return /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: i,\n                            children: i\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 368,\n                            columnNumber: 38\n                          }, this);\n                        }\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 351,\n                      columnNumber: 23\n                    }, this), fieldsError.number !== '' && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"error\",\n                      children: fieldsError.number\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 378,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"singup-column sign-up-comment\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"exampleFormControlTextarea1\",\n                        className: \"form-label ch-cont-14\",\n                        children: \"\\u7279\\u6B8A\\u5099\\u8A3B\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 381,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                        className: \"form-control textarea\",\n                        id: \"comment\",\n                        name: \"comment\",\n                        onChange: handleFieldChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 387,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 380,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"button-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"reset\",\n                        className: \"btn-sm btn-primary primeal-btn primeal-btn-outline mx-1\",\n                        onClick: clearFormHandler,\n                        children: \"\\u91CD\\u65B0\\u586B\\u5BEB\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 395,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"submit\",\n                        className: \"btn-sm btn-primary primeal-btn mx-1\",\n                        children: \"\\u9001\\u51FA\\u5831\\u540D\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 402,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 394,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AsideRight, {\n          setNavIsOpen: setNavIsOpen\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SignUpModal, {\n      show: modalShow,\n      signUpResult: signUpResult,\n      onHide: () => {\n        setModalShow(false);\n\n        if (signUpResult) {\n          history.push('/latest-news/events');\n        } else {\n          history.push(`/latest-news/eventsdetail/signup/${id}`);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(EvntsSignUp, \"MJPVFFE3WJQZLgdZK4sD4pJmdoo=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = EvntsSignUp;\nexport default EvntsSignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"EvntsSignUp\");","map":{"version":3,"sources":["C:/Users/ryany/OneDrive/桌面/primeal/src/pages/home/EvntsSignUp.js"],"names":["Header","Title","AsideLeft","AsideRight","Footer","config","useState","useEffect","useParams","useHistory","getMemId","SignUpModal","NavPage","EvntsSignUp","props","navIsOpen","setNavIsOpen","evntsInfo","setEvntsInfo","modalShow","setModalShow","signUpResult","setSignUpResult","history","mem_id","mem_name","localStorage","getItem","id","console","log","getEvntsInfo","res","fetch","EVNTSD_PATH","obj","json","data","fields","setFields","name","mobile","email","number","comment","fieldsError","setFieldsError","handleFieldChange","e","newData","target","value","handleValidation","formIsValid","errorMsg","name_re","mobile_re","email_re","test","handleChange","updatedFieldError","clearFormHandler","handleSubmit","preventDefault","formData","FormData","dataObj","i","r","POST_SINGUP_PATH","method","headers","body","JSON","stringify","then","success","showBlock","display","hiddenBlock","width","evnts_title","evnts_date","evnts_cate","evnts_img_path","evnts_signup_start_date","evnts_signup_end_date","evnts_start_time","evnts_end_time","evnts_location","evnts_max_num","evnts_pres_num","evnts_detail","evnts_id","Array","fill","map","v","push"],"mappings":"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","sourcesContent":["import { Header, Title, AsideLeft, AsideRight, Footer } from '../layout/Layout';\r\nimport './evnts-signup.scss';\r\nimport config from '../../Config';\r\nimport { useState, useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { getMemId } from '../../utils';\r\nimport SignUpModal from './components/SignUpModal';\r\nimport NavPage from '../layout/components/NavPage';\r\n\r\nfunction EvntsSignUp(props) {\r\n  const { navIsOpen, setNavIsOpen } = props;\r\n  const [evntsInfo, setEvntsInfo] = useState([]);\r\n  const [modalShow, setModalShow] = useState(false);\r\n  const [signUpResult, setSignUpResult] = useState('');\r\n  const history = useHistory();\r\n\r\n  const mem_id = getMemId();\r\n  const mem_name = localStorage.getItem('mem_name');\r\n  // console.log('mem_id:', mem_id);\r\n\r\n  const { id } = useParams();\r\n  console.log('evnts_id:', id);\r\n\r\n  const getEvntsInfo = async () => {\r\n    const res = await fetch(config.EVNTSD_PATH + `${id}`);\r\n    const obj = await res.json();\r\n    console.log('obj:', obj);\r\n    setEvntsInfo(obj.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getEvntsInfo();\r\n  }, []);\r\n\r\n  // Input State\r\n  const [fields, setFields] = useState({\r\n    name: '',\r\n    mobile: '',\r\n    email: '',\r\n    number: '',\r\n    comment: '',\r\n  });\r\n\r\n  // Error Message State\r\n  const [fieldsError, setFieldsError] = useState({\r\n    name: '',\r\n    mobile: '',\r\n    email: '',\r\n    number: '',\r\n  });\r\n\r\n  // 處理欄位改變\r\n  const handleFieldChange = e => {\r\n    const newData = { ...fields, [e.target.name]: e.target.value };\r\n    setFields(newData);\r\n  };\r\n\r\n  // 驗證並處理欄位錯誤訊息\r\n  const handleValidation = () => {\r\n    let formIsValid = true;\r\n    let errorMsg = {};\r\n    // 提交前作驗証，並自定義fieldsError訊息\r\n    console.log('fields:', fields);\r\n\r\n    // 格式規則\r\n    const name_re = /[ `!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~]/;\r\n    const mobile_re = /^09\\d{2}-?\\d{3}-?\\d{3}$/;\r\n    const email_re =\r\n      /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i;\r\n\r\n    // name\r\n    if (!fields.name) {\r\n      formIsValid = false;\r\n      errorMsg.name = '姓名欄位不可為空';\r\n    } else if (fields.name && name_re.test(fields.name)) {\r\n      formIsValid = false;\r\n      errorMsg.name = '姓名欄位不可包含特殊符號';\r\n    }\r\n\r\n    // mobile\r\n    if (!fields.mobile) {\r\n      formIsValid = false;\r\n      errorMsg.mobile = '連絡電話不可為空';\r\n    } else if (fields.mobile && !mobile_re.test(fields.mobile)) {\r\n      formIsValid = false;\r\n      errorMsg.mobile = '連絡電話格式不正確';\r\n    }\r\n\r\n    // email\r\n    if (!fields.email) {\r\n      formIsValid = false;\r\n      errorMsg.email = '信箱不可為空';\r\n    } else if (fields.email && !email_re.test(fields.email)) {\r\n      formIsValid = false;\r\n      errorMsg.email = '信箱格式錯誤';\r\n    }\r\n\r\n    // number\r\n    if (!fields.number) {\r\n      formIsValid = false;\r\n      errorMsg.number = '請選擇參加人數';\r\n    }\r\n\r\n    setFieldsError(errorMsg);\r\n    return formIsValid;\r\n  };\r\n\r\n  // 當欄位有更動時，處理清空錯誤訊息\r\n  const handleChange = e => {\r\n    const updatedFieldError = {\r\n      ...fieldsError,\r\n      [e.target.name]: '',\r\n    };\r\n    setFieldsError(updatedFieldError);\r\n  };\r\n\r\n  // 清除重新填寫\r\n  const clearFormHandler = () => {\r\n    setFields({\r\n      name: '',\r\n      mobile: '',\r\n      email: '',\r\n      number: '',\r\n      comment: '',\r\n    });\r\n  };\r\n\r\n  // 提交\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (handleValidation()) {\r\n      // console.log('form submitted.');\r\n\r\n      // get form data\r\n      const formData = new FormData(e.target);\r\n      const dataObj = {};\r\n      for (let i of formData) {\r\n        dataObj[i[0]] = i[1];\r\n      }\r\n      dataObj.mem_id = mem_id;\r\n      dataObj.mem_name = mem_name;\r\n      console.log({ dataObj });\r\n\r\n      // fetch\r\n      const r = fetch(config.POST_SINGUP_PATH, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(dataObj),\r\n      })\r\n        .then(r => r.json())\r\n        .then(obj => {\r\n          console.log(obj);\r\n          if (obj.success) {\r\n            setSignUpResult(true);\r\n            setModalShow(true);\r\n          } else {\r\n            setSignUpResult(false);\r\n            setModalShow(true);\r\n          }\r\n        });\r\n    } else {\r\n      console.log('form has errors.');\r\n    }\r\n  };\r\n\r\n  const showBlock = { display: 'block' };\r\n  const hiddenBlock = { display: 'none' };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      {navIsOpen && (\r\n        <NavPage navIsOpen={navIsOpen} setNavIsOpen={setNavIsOpen} />\r\n      )}\r\n      <div style={navIsOpen ? hiddenBlock : showBlock}>\r\n        <div style={{ display: 'flex' }}>\r\n          <AsideLeft />\r\n          <div style={{ width: '100%' }}>\r\n            <Title title={'Events'} setNavIsOpen={setNavIsOpen} />\r\n            <div className=\"evnts-signup\">\r\n              <div className=\"mycontainer min-hi\">\r\n                {/* lastest-news top */}\r\n                <div className=\"lastest-news-nav d-flex justify-content-between align-items-center\">\r\n                  <div className=\"lastest-news-nav-breadcrumbs\">\r\n                    <p className=\"en-title-14-10\">\r\n                      HOME / LATEST NEWS / EVENTS\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* evnts-signup */}\r\n                <div className=\"evnts-block\">\r\n                  <div className=\"evnts-info-area\">\r\n                    <div className=\"evnts-info-top d-flex justify-content-between\">\r\n                      <div className=\"evnts-info-top-text\">\r\n                        <div className=\"ch-title-22 evnts-title\">\r\n                          {evntsInfo[0]?.evnts_title ?? ''}\r\n                        </div>\r\n                        <div className=\"en-cont-16 evnts-date\">\r\n                          {evntsInfo[0]?.evnts_date ?? ''}\r\n                        </div>\r\n                        <div className=\"ch-cont-16 evnts-tag\">\r\n                          {evntsInfo[0]?.evnts_cate ?? ''}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"evnts-img\">\r\n                        <img\r\n                          src={\r\n                            `http://localhost:3500` +\r\n                              evntsInfo[0]?.evnts_img_path ?? ''\r\n                          }\r\n                          alt=\"events\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"evnts-info\">\r\n                      <div className=\"diamond\"></div>\r\n                      <div className=\"ch-cont-16 info-title\">報名開始:</div>\r\n                      <div className=\"ch-cont-16 info-content\">\r\n                        {evntsInfo[0]?.evnts_signup_start_date ?? ''}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"evnts-info\">\r\n                      <div className=\"diamond\"></div>\r\n                      <div className=\"ch-cont-16 info-title\">報名截止:</div>\r\n                      <div className=\"ch-cont-16 info-content\">\r\n                        {evntsInfo[0]?.evnts_signup_end_date ?? ''}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"evnts-info\">\r\n                      <div className=\"diamond\"></div>\r\n                      <div className=\"ch-cont-16 info-title\">活動日期:</div>\r\n                      <div className=\"ch-cont-16 info-content\">\r\n                        {evntsInfo[0]?.evnts_date ?? ''}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"evnts-info\">\r\n                      <div className=\"diamond\"></div>\r\n                      <div className=\"ch-cont-16 info-title\">活動時間:</div>\r\n                      <div className=\"ch-cont-16 info-content\">\r\n                        {evntsInfo[0]?.evnts_start_time ?? ''}-\r\n                        {evntsInfo[0]?.evnts_end_time ?? ''}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"evnts-info\">\r\n                      <div className=\"diamond\"></div>\r\n                      <div className=\"ch-cont-16 info-title\">活動地點:</div>\r\n                      <div className=\"ch-cont-16 info-content\">\r\n                        {evntsInfo[0]?.evnts_location ?? ''}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"evnts-info\">\r\n                      <div className=\"diamond\"></div>\r\n                      <div className=\"ch-cont-16 info-title\">活動人數:</div>\r\n                      <div className=\"ch-cont-16 info-content\">\r\n                        上限{evntsInfo[0]?.evnts_max_num ?? ''}人\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"evnts-info\">\r\n                      <div className=\"diamond\"></div>\r\n                      <div className=\"ch-cont-16 info-title\">可報名人數:</div>\r\n                      <div className=\"ch-cont-16 info-content\">\r\n                        {(evntsInfo[0]?.evnts_max_num ?? '') -\r\n                          (evntsInfo[0]?.evnts_pres_num ?? '')}\r\n                        人\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"ch-cont-16 evnts-content\">\r\n                      {evntsInfo[0]?.evnts_detail ?? ''}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"ch-cont-16 evnts-signup-area\">\r\n                    <form\r\n                      onSubmit={handleSubmit}\r\n                      // onInvalid={handleInvalid}\r\n                      onChange={handleChange}\r\n                    >\r\n                      <input\r\n                        name=\"evnts_id\"\r\n                        id=\"evnts_id\"\r\n                        value={evntsInfo[0]?.evnts_id ?? ''}\r\n                        hidden\r\n                        readOnly\r\n                      />\r\n                      <div className=\"singup-column d-flex justify-content-between align-items-center\">\r\n                        <label htmlFor=\"form-label\">參加者姓名</label>\r\n                        <label className=\"form-label text-primary ch-cont-12\">\r\n                          必填\r\n                        </label>\r\n                      </div>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        id=\"name\"\r\n                        name=\"name\"\r\n                        value={fields.name}\r\n                        onChange={handleFieldChange}\r\n                        placeholder=\"參加者姓名\"\r\n                      />\r\n                      {fieldsError.name !== '' && (\r\n                        <div className=\"error\">{fieldsError.name}</div>\r\n                      )}\r\n                      <div className=\"singup-column d-flex justify-content-between align-items-center\">\r\n                        <label htmlFor=\"form-label \">連絡電話</label>\r\n                        <label className=\"form-label text-primary ch-cont-12\">\r\n                          必填\r\n                        </label>\r\n                      </div>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        id=\"mobile\"\r\n                        name=\"mobile\"\r\n                        placeholder=\"09XX-XXX-XXX\"\r\n                        data-pattern=\"09\\d{2}-?\\d{3}-?\\d{3}\"\r\n                        onChange={handleFieldChange}\r\n                      />\r\n                      {fieldsError.mobile !== '' && (\r\n                        <div className=\"error\">{fieldsError.mobile}</div>\r\n                      )}\r\n                      <div className=\"singup-column d-flex justify-content-between align-items-center\">\r\n                        <label htmlFor=\"form-label\">連絡Email</label>\r\n                        <label className=\"form-label text-primary ch-cont-12\">\r\n                          必填\r\n                        </label>\r\n                      </div>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        id=\"email\"\r\n                        name=\"email\"\r\n                        value={fields.email}\r\n                        placeholder=\"123@test.com\"\r\n                        onChange={handleFieldChange}\r\n                      />\r\n                      {fieldsError.email !== '' && (\r\n                        <div className=\"error\">{fieldsError.email}</div>\r\n                      )}\r\n                      <div className=\"ch-cont-14\">\r\n                        (活動通知將透過Email發送)\r\n                      </div>\r\n                      <label\r\n                        htmlFor=\"form-label mr-5\"\r\n                        className=\"singup-column\"\r\n                      >\r\n                        參加人數\r\n                      </label>\r\n                      <select\r\n                        className=\"form-select\"\r\n                        name=\"number\"\r\n                        id=\"number\"\r\n                        value={fields.number}\r\n                        onChange={handleFieldChange}\r\n                      >\r\n                        {Array(\r\n                          (evntsInfo[0]?.evnts_max_num ?? '') -\r\n                            (evntsInfo[0]?.evnts_pres_num ?? '') +\r\n                            1\r\n                        )\r\n                          .fill(1)\r\n                          .map((v, i) => {\r\n                            if (i === 0) {\r\n                              return <option value={i}>請選擇</option>;\r\n                            } else {\r\n                              return <option value={i}>{i}</option>;\r\n                            }\r\n                          })}\r\n                        {/*<option value=\"0\">請選擇</option>\r\n                        <option value=\"1\">1</option>\r\n                        <option value=\"2\">2</option>\r\n                        <option value=\"3\">3</option>\r\n                        <option value=\"4\">4</option>*/}\r\n                      </select>\r\n                      {fieldsError.number !== '' && (\r\n                        <div className=\"error\">{fieldsError.number}</div>\r\n                      )}\r\n                      <div className=\"singup-column sign-up-comment\">\r\n                        <label\r\n                          htmlFor=\"exampleFormControlTextarea1\"\r\n                          className=\"form-label ch-cont-14\"\r\n                        >\r\n                          特殊備註\r\n                        </label>\r\n                        <textarea\r\n                          className=\"form-control textarea\"\r\n                          id=\"comment\"\r\n                          name=\"comment\"\r\n                          onChange={handleFieldChange}\r\n                        ></textarea>\r\n                      </div>\r\n                      <div className=\"button-group\">\r\n                        <button\r\n                          type=\"reset\"\r\n                          className=\"btn-sm btn-primary primeal-btn primeal-btn-outline mx-1\"\r\n                          onClick={clearFormHandler}\r\n                        >\r\n                          重新填寫\r\n                        </button>\r\n                        <button\r\n                          type=\"submit\"\r\n                          className=\"btn-sm btn-primary primeal-btn mx-1\"\r\n                        >\r\n                          送出報名\r\n                        </button>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <Footer />\r\n          </div>\r\n          <AsideRight setNavIsOpen={setNavIsOpen} />\r\n        </div>\r\n      </div>\r\n      <SignUpModal\r\n        show={modalShow}\r\n        signUpResult={signUpResult}\r\n        onHide={() => {\r\n          setModalShow(false);\r\n          if (signUpResult) {\r\n            history.push('/latest-news/events');\r\n          } else {\r\n            history.push(`/latest-news/eventsdetail/signup/${id}`);\r\n          }\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EvntsSignUp;\r\n"]},"metadata":{},"sourceType":"module"}