{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryany\\\\OneDrive\\\\\\u684C\\u9762\\\\primeal\\\\src\\\\pages\\\\classic\\\\Detail.js\",\n    _s = $RefreshSig$();\n\nimport { Header, Title, AsideLeft, AsideRight, Footer } from '../layout/Layout';\nimport { ReactComponent as Heart } from '../../imgs/tags/heart.svg';\nimport { ReactComponent as HeartFill } from '../../imgs/tags/heart-fill.svg';\nimport { useState, useEffect, useRef } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport config from '../../Config';\nimport './detail.scss';\nimport ChartForCs from '../chartjs/ChartCs/ChartForCs';\nimport { Button, Modal } from 'react-bootstrap';\nimport { getCartCount } from '../../utils';\nimport NavPage from '../layout/components/NavPage'; //加入漢堡選單\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Detail(props) {\n  _s();\n\n  const [isDetail, setIsDetail] = useState(false); //是否開啟詳細資料\n\n  const [data, setData] = useState({}); //商品詳細資料\n\n  const [materials, setMaterials] = useState([]); //食材資料(3個)\n\n  const [recommends, setRecommendeds] = useState([]); //推薦商品資料(3個)\n\n  const [selectedMaterial, setSelectedMaterial] = useState({}); //目前選定的食材資料\n\n  const [isLike, setIsLike] = useState(false); //該商品是否被收藏\n\n  const [buyCount, setBuyCount] = useState(1); //商品購買數量\n\n  const [mtlsForChart, setMtlsForChart] = useState([]); //要進chart.js畫圖的材料\n\n  const [share, setShare] = useState([]); //取得該商品相關的分享牆資料\n\n  const [changeCartCount, setChangeCartCount] = useState(0); //\n\n  const {\n    id\n  } = useParams(); //取得url上的product id\n  //加入NAVBar漢堡選單開關\n\n  const showBlock = {\n    display: 'block'\n  };\n  const hiddenBlock = {\n    display: 'none'\n  };\n  const {\n    navIsOpen,\n    setNavIsOpen\n  } = props; // 解構NAVBAR\n  //點擊食材圖片\n\n  const changeMtl = mid => {\n    const material = materials.find(m => m.mtl_id === mid);\n    setSelectedMaterial(material);\n    const newList = [];\n    newList.push(material.mtl_id);\n    setMtlsForChart(newList);\n  }; //輸入商品數量\n\n\n  const changeCountByType = count => {\n    //商品數量不能小於0或是大於99\n    if (count <= 0 || count > 99) {\n      return false;\n    }\n\n    setBuyCount(count);\n  }; //點擊商品減少按鈕(-1)\n\n\n  const changeCountByMinus = () => {\n    //商品數量若小於等於1，則不能再減少數量(需大於0)\n    if (buyCount <= 1) {\n      return false;\n    }\n\n    const newCount = buyCount - 1;\n    setBuyCount(newCount);\n  }; //點擊商品增加按鈕(+1)\n\n\n  const changeCountByAdd = () => {\n    //商品數量若大於等於99，則不能再增加數量\n    if (buyCount >= 99) {\n      return false;\n    }\n\n    const newCount = buyCount + 1;\n    setBuyCount(newCount);\n  }; //加入購物車\n\n\n  const addToCart = () => {\n    const isLogin = localStorage.getItem('mem_id') !== null; //判斷是否登入\n\n    if (isLogin) {\n      fetch(config.ADD_CART, {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          mid: +localStorage.getItem('mem_id'),\n          pid: data.pid,\n          count: buyCount,\n          value: +data.c_prod_spe_value === 0 ? data.c_prod_value : data.c_prod_spe_value,\n          print: data.c_prod_print_time,\n          category: 'cs'\n        })\n      }).then(res => res.json()).then(async d => {\n        await getCartCount(+localStorage.getItem('mem_id'));\n        setChangeCartCount(changeCartCount + 1);\n      });\n      handleCartShow();\n    } else {\n      handleLikeShow();\n    }\n  }; //每次點擊商品詳細頁，都要將pid存到localstorage以供歷史查詢\n\n\n  const saveHistory = pid => {\n    var _localStorage$getItem;\n\n    let newHistory = (_localStorage$getItem = localStorage.getItem('history')) !== null && _localStorage$getItem !== void 0 ? _localStorage$getItem : '';\n    newHistory += pid + '-';\n    localStorage.setItem('history', newHistory);\n  }; //點擊收藏\n\n\n  const handleLike = async () => {\n    //判斷有無登入\n    const isLogin = localStorage.getItem('mem_id') !== null;\n\n    if (isLogin) {\n      await fetch(config.HANDLE_LIKE, {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          memid: localStorage.getItem('mem_id'),\n          pid: data.pid,\n          category: data.c_prod_cate\n        })\n      });\n      setIsLike(!isLike);\n    } else {\n      handleLikeShow();\n    }\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      //取得商品詳細資料\n      const newList = [];\n      const prodRes = await fetch(config.GET_PROD + `/${id}`);\n      const prodObj = await prodRes.json();\n      setData(prodObj.rows[0]);\n      setMaterials(prodObj.rows[1]);\n      setSelectedMaterial(prodObj.rows[1][0]);\n      setRecommendeds(prodObj.rows[2]);\n      newList.push(prodObj.rows[1][0].mtl_id);\n      setMtlsForChart(newList); //取得商品是否被收藏\n\n      const likeRes = await fetch(config.GET_LIKE, {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          memid: localStorage.getItem('mem_id'),\n          pid: prodObj.rows[0].pid,\n          category: prodObj.rows[0].c_prod_cate\n        })\n      });\n      const likeObj = await likeRes.json();\n      setIsLike(likeObj.isLike); //取得相關分享\n\n      const shareRes = await fetch(config.GET_REL_SHARE + `/${id}`);\n      const shareObj = await shareRes.json();\n      setShare(shareObj.res);\n    };\n\n    fetchData();\n    window.scrollTo(0, 0); //re-render後強制回到top\n  }, []);\n  const hiddenStyle = {\n    display: 'none'\n  };\n  const showStyle = {\n    display: 'block'\n  };\n  const mtlClickClass = 'material-tag-box click';\n  const mtlNoClickClass = 'material-tag-box'; //請先登入的光箱\n\n  const [likeShow, setLikeShow] = useState(false);\n\n  const handleLikeClose = () => setLikeShow(false);\n\n  const handleLikeShow = () => setLikeShow(true);\n\n  const likeModel = /*#__PURE__*/_jsxDEV(Modal, {\n    show: likeShow,\n    onHide: handleLikeClose,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        className: \"en-cont-30 m-3\",\n        children: \"\\u63D0\\u9192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      style: {\n        margin: '0 3%'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"en-cont-14 pb-2\",\n        children: \"\\u8ACB\\u5148\\u767B\\u5165\\u5F8C\\u624D\\u80FD\\u64CD\\u4F5C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        className: \"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\",\n        onClick: handleLikeClose,\n        children: \"\\u95DC\\u9589\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 5\n  }, this); //加入購物車的光箱\n\n\n  const [cartShow, setCartShow] = useState(false);\n\n  const handleCartClose = () => setCartShow(false);\n\n  const handleCartShow = () => setCartShow(true);\n\n  const cartModel = /*#__PURE__*/_jsxDEV(Modal, {\n    show: cartShow,\n    onHide: handleCartClose,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        className: \"en-cont-30 m-3\",\n        children: \"\\u63D0\\u9192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      style: {\n        margin: '0 3%'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"en-cont-14 pb-2\",\n        children: \"\\u5DF2\\u6210\\u529F\\u5C07\\u5546\\u54C1\\u52A0\\u5165\\u8CFC\\u7269\\u8ECA!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        className: \"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\",\n        onClick: handleCartClose,\n        children: \"\\u95DC\\u9589\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [likeModel, cartModel, /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this), navIsOpen && /*#__PURE__*/_jsxDEV(NavPage, {\n      navIsOpen: navIsOpen,\n      setNavIsOpen: setNavIsOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: navIsOpen ? hiddenBlock : showBlock,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex'\n        },\n        children: [/*#__PURE__*/_jsxDEV(AsideLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            title: 'Classic',\n            setNavIsOpen: setNavIsOpen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"en-title-14-10 bread\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: '/',\n              style: {\n                textDecoration: 'none',\n                color: '#575757'\n              },\n              children: \"HOME /\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: '/classic',\n              style: {\n                textDecoration: 'none',\n                color: '#575757'\n              },\n              children: \"\\xA0CLASSIC /\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                textDecoration: 'none',\n                color: '#b03342'\n              },\n              children: \"\\xA0DETAIL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"classic-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: isDetail ? 'detail-content-ondetail' : 'detail-content',\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: isDetail ? 'prod-img-box-ondetail' : 'prod-img-box',\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: isDetail ? 'all-size-title-ondetail' : 'all-size-title',\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"prod-ch-name ch-title-big\",\n                    children: data.c_prod_ch_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"prod-en-name eh-title-big\",\n                    children: data.c_prod_en_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: isDetail ? 'prod-img-box-img-ondetail' : 'prod-img-box-img',\n                    src: `http://localhost:3500${data.c_prod_img_path}`,\n                    alt: \"product-detail\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: isDetail ? 'material-tag-group-ondetail' : 'material-tag-group',\n                  children: materials.map(m => {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: selectedMaterial.mtl_id === m.mtl_id ? mtlClickClass : mtlNoClickClass,\n                      onClick: () => {\n                        changeMtl(m.mtl_id);\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: `http://localhost:3500${m.mtl_img_path}`,\n                        alt: \"material\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 313,\n                        columnNumber: 27\n                      }, this)\n                    }, m.mtl_id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 25\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: isDetail ? 'prod-detail-right-ondetail' : 'prod-detail-right',\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"prod-ch-name ch-title-big\",\n                  children: data.c_prod_ch_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"prod-en-name eh-title-big\",\n                  children: data.c_prod_en_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"like-heart\",\n                  onClick: handleLike,\n                  children: [/*#__PURE__*/_jsxDEV(Heart, {\n                    style: isLike ? hiddenStyle : showStyle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(HeartFill, {\n                    style: isLike ? showStyle : hiddenStyle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"prod-price\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ch-title-large\",\n                    children: [\"NT_$\", +data.c_prod_spe_value === 0 ? data.c_prod_value : data.c_prod_spe_value]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"prod-stock en-title-mid\",\n                    children: \"PRICE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"prod-printtime\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ch-title-large\",\n                    children: [data.c_prod_print_time, \"_SEC\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"prod-print en-title-mid\",\n                    children: \"PRINT TIME\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"prod-desc\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"prod-desc-content ch-content-sm\",\n                    children: data.c_prod_desc\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"prod-desc-title en-title-16\",\n                    children: \"DESCRIPTION\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"select-add-cart\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"select-count\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => changeCountByMinus(),\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    value: buyCount,\n                    onChange: e => changeCountByType(+e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => changeCountByAdd(),\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"add-cart btn-sm btn-primary primeal-btn\",\n                  onClick: () => {\n                    addToCart();\n                  },\n                  children: \"\\u52A0\\u5165\\u8CFC\\u7269\\u8ECA\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: isDetail ? 'prod-detail-content-ondetail' : 'prod-detail-content',\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-content-top\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"nutrition-img\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"nutrition-img-box\",\n                      children: /*#__PURE__*/_jsxDEV(ChartForCs, {\n                        mtls: mtlsForChart\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 421,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 420,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"nutrition-img-box-mobile\",\n                      children: /*#__PURE__*/_jsxDEV(ChartForCs, {\n                        mtls: materials\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 424,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 419,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"material-list\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"material-name\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"material-name-content ch-title-22\",\n                      children: selectedMaterial.mtl_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 430,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"material-img\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: `http://localhost:3500${selectedMaterial.mtl_img_path}`,\n                        alt: \"\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 434,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 433,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"material-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"material-content ch-cont-18\",\n                      children: selectedMaterial.mtl_origin\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 441,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"material-title en-cont-16\",\n                      children: \"ORIGIN\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 444,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"material-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"material-content ch-cont-18\",\n                      children: selectedMaterial.mtl_produce_date\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 447,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"material-title en-cont-16\",\n                      children: \"MFD\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"material-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"material-content ch-cont-18\",\n                      children: selectedMaterial.mtl_raw_matrials\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"material-title en-cont-16\",\n                      children: \"RM\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-content-bottom\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"carrier-type ch-cont-14\",\n                  children: [\"\\u226A\\u914D\\u9001\\u985E\\u578B\\u226B\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 463,\n                    columnNumber: 21\n                  }, this), \"\\u5B85\\u6025\\u4FBF(\\u51B7\\u85CF)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 21\n                  }, this), \"\\u203B\\u82E5\\u9700\\u8981\\u51B7\\u51CD\\u5B85\\u914D ,\\u8ACB\\u5E6B\\u5FD9\\u8A3B\\u660E\\u3002 \\u82E5\\u51B7\\u85CF\\u8207\\u51B7\\u51CD\\u5546\\u54C1\\u9700\\u4E00\\u8D77\\u4E0B\\u55AE ,\\u5C07\\u6703\\u5EF6\\u9577\\u904B\\u9001\\u6642\\u9593 ,\\u8ACB\\u5148\\u9810\\u7D04\\u3002 \\u53E6\\u5916 ,\\u82E5\\u5546\\u54C1\\u9700\\u8981\\u8B8A\\u66F4 ,\\u8ACB\\u63D0\\u524D\\u8207\\u6211\\u5011\\u806F\\u7E6B\\u3002\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"expire ch-cont-14\",\n                  children: [\"\\u226A\\u8CDE\\u5473\\u671F\\u9650\\u226B\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 472,\n                    columnNumber: 21\n                  }, this), \"\\u51B7\\u8535\\uFF1A\\u51FA\\u8CA8\\u5F8C4\\u5929\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 474,\n                    columnNumber: 21\n                  }, this), \"\\u51B7\\u51CD\\uFF1A\\u51FA\\u8CA8\\u5F8C\\u4E00\\u500B\\u6708\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 476,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 477,\n                    columnNumber: 21\n                  }, this), \"\\u226A\\u4FDD\\u5B58\\u65B9\\u6CD5\\u226B\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 479,\n                    columnNumber: 21\n                  }, this), \"\\u51B7\\u85CF\\uFF1A\\u8ACB\\u4FDD\\u5B58\\u65BC4\\u2103\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 481,\n                    columnNumber: 21\n                  }, this), \"\\u51B7\\u51CD\\uFF1A\\u8ACB\\u4FDD\\u5B58\\u65BC-15\\u2103\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"package ch-cont-14\",\n                  children: [\"\\u226A\\u5305\\u88DD\\u226B\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 21\n                  }, this), \"\\u55AE\\u5165 : \\u5370\\u98DF\\u7D19\\u76D2\\u88DD\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 21\n                  }, this), \"\\u516D\\u5165 : \\u5370\\u98DF\\u4FBF\\u7576\\u76D2\\u88DD\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 490,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 21\n                  }, this), \"\\u203B\\u82E5\\u9700\\u9001\\u79AE, \\u8ACB\\u53C3\\u8003\\u5370\\u98DF\\u79AE\\u76D2\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-toggle-btn\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: isDetail ? 'back-btn-ondetail' : 'back-btn',\n                onClick: () => {\n                  setIsDetail(!isDetail);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"back-btn-arrow\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: require('./../../imgs/temp/arrow-left.png'),\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 506,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"back-btn-text en-title-18\",\n                  children: \"BACK\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: isDetail ? 'detail-btn-ondetail' : 'detail-btn',\n                onClick: () => {\n                  setIsDetail(!isDetail);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-btn-text en-title-18\",\n                  children: \"DETAIL\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-btn-arrow\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: require('./../../imgs/temp/arrow-right.png'),\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recommend\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recommend-ch-title ch-title-22\",\n                children: \"\\u63A8\\u85A6\\u5546\\u54C1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recommend-en-title en-title-14-10\",\n                children: \"Recommandation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recommend-prod-box\",\n              children: recommends.map((r, i) => {\n                return (\n                  /*#__PURE__*/\n                  //手機版因版型大小會隱藏最後一個推薦商品，因此最後一個需有個特殊class標籤\n                  _jsxDEV(\"div\", {\n                    className: recommends.length === i + 1 ? 'prod-card last-recommend' : 'prod-card',\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/classic/detail/${r.pid}`,\n                      style: {\n                        textDecoration: 'none',\n                        color: '#212121'\n                      },\n                      onClick: () => {\n                        saveHistory(r.pid);\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"recommend-prod-img-box\",\n                        children: [r.c_prod_special_tag === '' ? '' : /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"discount-tag\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"discount-tag-content\",\n                            children: r.c_prod_special_tag\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 561,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 560,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: `http://localhost:3500${r.c_prod_img_path}`,\n                          alt: \"product-recommend\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 566,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 555,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"prod-name-ch ch-title-22\",\n                        children: r.c_prod_ch_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 571,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"prod-name-en en-title-14-5\",\n                        children: r.c_prod_en_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 574,\n                        columnNumber: 25\n                      }, this), r.c_prod_spe_value === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"prod-price-no-discount\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"no-discount ch-cont-16\",\n                          children: [\"NT_\", r.c_prod_value]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 579,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 578,\n                        columnNumber: 27\n                      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"prod-price-special\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"original-price ch-cont-14\",\n                          children: [\"NT_\", r.c_prod_value]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 585,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"special-price ch-cont-16\",\n                          children: [\"NT_\", r.c_prod_spe_value]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 588,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 584,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 548,\n                      columnNumber: 23\n                    }, this)\n                  }, r.pid, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 540,\n                    columnNumber: 21\n                  }, this)\n                );\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"share\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recommend-ch-title ch-title-22\",\n                children: \"\\u76F8\\u95DC\\u5206\\u4EAB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 677,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recommend-en-title en-title-14-10\",\n                children: \"Share\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recommend-prod-box\",\n              children: share.map((r, i) => {\n                return (\n                  /*#__PURE__*/\n                  //手機版因版型大小會隱藏最後一個推薦商品，因此最後一個需有個特殊class標籤\n                  _jsxDEV(\"div\", {\n                    className: recommends.length === i + 1 ? 'share-card last-recommend' : 'share-card',\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/share/items/${r.share_item_id}`,\n                      style: {\n                        textDecoration: 'none',\n                        color: '#212121'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"share-item-img-box\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: `http://localhost:3500/${r.share_imgPath}`,\n                          alt: \"product-recommend\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 697,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 696,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 692,\n                      columnNumber: 23\n                    }, this)\n                  }, r.share_item_id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 684,\n                    columnNumber: 21\n                  }, this)\n                );\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AsideRight, {\n          setNavIsOpen: setNavIsOpen,\n          changeCartCount: changeCartCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Detail, \"cW4QXL4SiOowOj/p4ckQ7L06TF8=\", false, function () {\n  return [useParams];\n});\n\n_c = Detail;\nexport default Detail;\n\nvar _c;\n\n$RefreshReg$(_c, \"Detail\");","map":{"version":3,"sources":["C:/Users/ryany/OneDrive/桌面/primeal/src/pages/classic/Detail.js"],"names":["Header","Title","AsideLeft","AsideRight","Footer","ReactComponent","Heart","HeartFill","useState","useEffect","useRef","Link","useParams","config","ChartForCs","Button","Modal","getCartCount","NavPage","Detail","props","isDetail","setIsDetail","data","setData","materials","setMaterials","recommends","setRecommendeds","selectedMaterial","setSelectedMaterial","isLike","setIsLike","buyCount","setBuyCount","mtlsForChart","setMtlsForChart","share","setShare","changeCartCount","setChangeCartCount","id","showBlock","display","hiddenBlock","navIsOpen","setNavIsOpen","changeMtl","mid","material","find","m","mtl_id","newList","push","changeCountByType","count","changeCountByMinus","newCount","changeCountByAdd","addToCart","isLogin","localStorage","getItem","fetch","ADD_CART","method","headers","body","JSON","stringify","pid","value","c_prod_spe_value","c_prod_value","print","c_prod_print_time","category","then","res","json","d","handleCartShow","handleLikeShow","saveHistory","newHistory","setItem","handleLike","HANDLE_LIKE","memid","c_prod_cate","fetchData","prodRes","GET_PROD","prodObj","rows","likeRes","GET_LIKE","likeObj","shareRes","GET_REL_SHARE","shareObj","window","scrollTo","hiddenStyle","showStyle","mtlClickClass","mtlNoClickClass","likeShow","setLikeShow","handleLikeClose","likeModel","margin","cartShow","setCartShow","handleCartClose","cartModel","width","textDecoration","color","c_prod_ch_name","c_prod_en_name","c_prod_img_path","map","mtl_img_path","c_prod_desc","e","target","mtl_name","mtl_origin","mtl_produce_date","mtl_raw_matrials","require","r","i","length","c_prod_special_tag","share_item_id","share_imgPath"],"mappings":"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","sourcesContent":["import { Header, Title, AsideLeft, AsideRight, Footer } from '../layout/Layout';\r\nimport { ReactComponent as Heart } from '../../imgs/tags/heart.svg';\r\nimport { ReactComponent as HeartFill } from '../../imgs/tags/heart-fill.svg';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport config from '../../Config';\r\nimport './detail.scss';\r\nimport ChartForCs from '../chartjs/ChartCs/ChartForCs';\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport { getCartCount } from '../../utils';\r\nimport NavPage from '../layout/components/NavPage'; //加入漢堡選單\r\n\r\nfunction Detail(props) {\r\n  const [isDetail, setIsDetail] = useState(false); //是否開啟詳細資料\r\n  const [data, setData] = useState({}); //商品詳細資料\r\n  const [materials, setMaterials] = useState([]); //食材資料(3個)\r\n  const [recommends, setRecommendeds] = useState([]); //推薦商品資料(3個)\r\n  const [selectedMaterial, setSelectedMaterial] = useState({}); //目前選定的食材資料\r\n  const [isLike, setIsLike] = useState(false); //該商品是否被收藏\r\n  const [buyCount, setBuyCount] = useState(1); //商品購買數量\r\n  const [mtlsForChart, setMtlsForChart] = useState([]); //要進chart.js畫圖的材料\r\n  const [share, setShare] = useState([]); //取得該商品相關的分享牆資料\r\n  const [changeCartCount, setChangeCartCount] = useState(0); //\r\n  const { id } = useParams(); //取得url上的product id\r\n  //加入NAVBar漢堡選單開關\r\n  const showBlock = { display: 'block' };\r\n  const hiddenBlock = { display: 'none' };\r\n  const { navIsOpen, setNavIsOpen } = props; // 解構NAVBAR\r\n\r\n  //點擊食材圖片\r\n  const changeMtl = mid => {\r\n    const material = materials.find(m => m.mtl_id === mid);\r\n    setSelectedMaterial(material);\r\n\r\n    const newList = [];\r\n    newList.push(material.mtl_id);\r\n    setMtlsForChart(newList);\r\n  };\r\n\r\n  //輸入商品數量\r\n  const changeCountByType = count => {\r\n    //商品數量不能小於0或是大於99\r\n    if (count <= 0 || count > 99) {\r\n      return false;\r\n    }\r\n\r\n    setBuyCount(count);\r\n  };\r\n\r\n  //點擊商品減少按鈕(-1)\r\n  const changeCountByMinus = () => {\r\n    //商品數量若小於等於1，則不能再減少數量(需大於0)\r\n    if (buyCount <= 1) {\r\n      return false;\r\n    }\r\n\r\n    const newCount = buyCount - 1;\r\n    setBuyCount(newCount);\r\n  };\r\n\r\n  //點擊商品增加按鈕(+1)\r\n  const changeCountByAdd = () => {\r\n    //商品數量若大於等於99，則不能再增加數量\r\n    if (buyCount >= 99) {\r\n      return false;\r\n    }\r\n\r\n    const newCount = buyCount + 1;\r\n    setBuyCount(newCount);\r\n  };\r\n\r\n  //加入購物車\r\n  const addToCart = () => {\r\n    const isLogin = localStorage.getItem('mem_id') !== null; //判斷是否登入\r\n    if (isLogin) {\r\n      fetch(config.ADD_CART, {\r\n        method: 'POST',\r\n        headers: {\r\n          'content-type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          mid: +localStorage.getItem('mem_id'),\r\n          pid: data.pid,\r\n          count: buyCount,\r\n          value:\r\n            +data.c_prod_spe_value === 0\r\n              ? data.c_prod_value\r\n              : data.c_prod_spe_value,\r\n          print: data.c_prod_print_time,\r\n          category: 'cs',\r\n        }),\r\n      })\r\n        .then(res => res.json())\r\n        .then(async d => {\r\n          await getCartCount(+localStorage.getItem('mem_id'));\r\n          setChangeCartCount(changeCartCount + 1);\r\n        });\r\n      handleCartShow();\r\n    } else {\r\n      handleLikeShow();\r\n    }\r\n  };\r\n\r\n  //每次點擊商品詳細頁，都要將pid存到localstorage以供歷史查詢\r\n  const saveHistory = pid => {\r\n    let newHistory = localStorage.getItem('history') ?? '';\r\n    newHistory += pid + '-';\r\n    localStorage.setItem('history', newHistory);\r\n  };\r\n\r\n  //點擊收藏\r\n  const handleLike = async () => {\r\n    //判斷有無登入\r\n    const isLogin = localStorage.getItem('mem_id') !== null;\r\n    if (isLogin) {\r\n      await fetch(config.HANDLE_LIKE, {\r\n        method: 'POST',\r\n        headers: {\r\n          'content-type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          memid: localStorage.getItem('mem_id'),\r\n          pid: data.pid,\r\n          category: data.c_prod_cate,\r\n        }),\r\n      });\r\n\r\n      setIsLike(!isLike);\r\n    } else {\r\n      handleLikeShow();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      //取得商品詳細資料\r\n      const newList = [];\r\n      const prodRes = await fetch(config.GET_PROD + `/${id}`);\r\n      const prodObj = await prodRes.json();\r\n      setData(prodObj.rows[0]);\r\n      setMaterials(prodObj.rows[1]);\r\n      setSelectedMaterial(prodObj.rows[1][0]);\r\n      setRecommendeds(prodObj.rows[2]);\r\n      newList.push(prodObj.rows[1][0].mtl_id);\r\n      setMtlsForChart(newList);\r\n\r\n      //取得商品是否被收藏\r\n      const likeRes = await fetch(config.GET_LIKE, {\r\n        method: 'POST',\r\n        headers: {\r\n          'content-type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          memid: localStorage.getItem('mem_id'),\r\n          pid: prodObj.rows[0].pid,\r\n          category: prodObj.rows[0].c_prod_cate,\r\n        }),\r\n      });\r\n      const likeObj = await likeRes.json();\r\n      setIsLike(likeObj.isLike);\r\n\r\n      //取得相關分享\r\n      const shareRes = await fetch(config.GET_REL_SHARE + `/${id}`);\r\n      const shareObj = await shareRes.json();\r\n      setShare(shareObj.res);\r\n    };\r\n\r\n    fetchData();\r\n    window.scrollTo(0, 0); //re-render後強制回到top\r\n  }, []);\r\n\r\n  const hiddenStyle = { display: 'none' };\r\n  const showStyle = { display: 'block' };\r\n  const mtlClickClass = 'material-tag-box click';\r\n  const mtlNoClickClass = 'material-tag-box';\r\n\r\n  //請先登入的光箱\r\n  const [likeShow, setLikeShow] = useState(false);\r\n  const handleLikeClose = () => setLikeShow(false);\r\n  const handleLikeShow = () => setLikeShow(true);\r\n  const likeModel = (\r\n    <Modal show={likeShow} onHide={handleLikeClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title className=\"en-cont-30 m-3\">提醒</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body style={{ margin: '0 3%' }}>\r\n        <div className=\"en-cont-14 pb-2\">請先登入後才能操作</div>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button\r\n          variant=\"secondary\"\r\n          className=\"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\"\r\n          onClick={handleLikeClose}\r\n        >\r\n          關閉\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n\r\n  //加入購物車的光箱\r\n  const [cartShow, setCartShow] = useState(false);\r\n  const handleCartClose = () => setCartShow(false);\r\n  const handleCartShow = () => setCartShow(true);\r\n  const cartModel = (\r\n    <Modal show={cartShow} onHide={handleCartClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title className=\"en-cont-30 m-3\">提醒</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body style={{ margin: '0 3%' }}>\r\n        <div className=\"en-cont-14 pb-2\">已成功將商品加入購物車!</div>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button\r\n          variant=\"secondary\"\r\n          className=\"btn btn-sm btn-primary primeal-btn-sm mx-5 m-3\"\r\n          onClick={handleCartClose}\r\n        >\r\n          關閉\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {likeModel}\r\n      {cartModel}\r\n      <Header />\r\n      {navIsOpen && (\r\n        <NavPage navIsOpen={navIsOpen} setNavIsOpen={setNavIsOpen} />\r\n      )}\r\n      <div style={navIsOpen ? hiddenBlock : showBlock}>\r\n        <div style={{ display: 'flex' }}>\r\n          <AsideLeft />\r\n          <div style={{ width: '100%' }}>\r\n            <Title title={'Classic'} setNavIsOpen={setNavIsOpen} />\r\n\r\n            {/* 麵包屑 */}\r\n            <p className=\"en-title-14-10 bread\">\r\n              <Link\r\n                to={'/'}\r\n                style={{ textDecoration: 'none', color: '#575757' }}\r\n              >\r\n                HOME /\r\n              </Link>\r\n              <Link\r\n                to={'/classic'}\r\n                style={{ textDecoration: 'none', color: '#575757' }}\r\n              >\r\n                &nbsp;CLASSIC /\r\n              </Link>\r\n              <span style={{ textDecoration: 'none', color: '#b03342' }}>\r\n                &nbsp;DETAIL\r\n              </span>\r\n            </p>\r\n\r\n            <div className=\"classic-detail\">\r\n              {/* 商品圖片與名稱、售價 */}\r\n              <div\r\n                className={\r\n                  isDetail ? 'detail-content-ondetail' : 'detail-content'\r\n                }\r\n              >\r\n                <div\r\n                  className={\r\n                    isDetail ? 'prod-img-box-ondetail' : 'prod-img-box'\r\n                  }\r\n                >\r\n                  <div\r\n                    className={\r\n                      isDetail ? 'all-size-title-ondetail' : 'all-size-title'\r\n                    }\r\n                  >\r\n                    <div className=\"prod-ch-name ch-title-big\">\r\n                      {data.c_prod_ch_name}\r\n                    </div>\r\n                    <div className=\"prod-en-name eh-title-big\">\r\n                      {data.c_prod_en_name}\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <img\r\n                      className={\r\n                        isDetail\r\n                          ? 'prod-img-box-img-ondetail'\r\n                          : 'prod-img-box-img'\r\n                      }\r\n                      src={`http://localhost:3500${data.c_prod_img_path}`}\r\n                      alt=\"product-detail\"\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className={\r\n                      isDetail\r\n                        ? 'material-tag-group-ondetail'\r\n                        : 'material-tag-group'\r\n                    }\r\n                  >\r\n                    {materials.map(m => {\r\n                      return (\r\n                        <div\r\n                          className={\r\n                            selectedMaterial.mtl_id === m.mtl_id\r\n                              ? mtlClickClass\r\n                              : mtlNoClickClass\r\n                          }\r\n                          key={m.mtl_id}\r\n                          onClick={() => {\r\n                            changeMtl(m.mtl_id);\r\n                          }}\r\n                        >\r\n                          <img\r\n                            src={`http://localhost:3500${m.mtl_img_path}`}\r\n                            alt=\"material\"\r\n                          />\r\n                        </div>\r\n                      );\r\n                    })}\r\n\r\n                    {/* <div className=\"material-tag-box\">\r\n                    <img\r\n                      src={require('./../../imgs/temp/material1.png')}\r\n                      alt=\"\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"material-tag-box\">\r\n                    <img\r\n                      src={require('./../../imgs/temp/material1.png')}\r\n                      alt=\"\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"material-tag-box\">\r\n                    <img\r\n                      src={require('./../../imgs/temp/material1.png')}\r\n                      alt=\"\"\r\n                    />\r\n                  </div> */}\r\n                  </div>\r\n                </div>\r\n\r\n                <div\r\n                  className={\r\n                    isDetail\r\n                      ? 'prod-detail-right-ondetail'\r\n                      : 'prod-detail-right'\r\n                  }\r\n                >\r\n                  <div className=\"prod-ch-name ch-title-big\">\r\n                    {data.c_prod_ch_name}\r\n                  </div>\r\n                  <div className=\"prod-en-name eh-title-big\">\r\n                    {data.c_prod_en_name}\r\n                  </div>\r\n                  <div className=\"like-heart\" onClick={handleLike}>\r\n                    <Heart style={isLike ? hiddenStyle : showStyle} />\r\n                    <HeartFill style={isLike ? showStyle : hiddenStyle} />\r\n                  </div>\r\n                  <div className=\"prod-price\">\r\n                    {/* 如果沒有特價就用原價顯示 */}\r\n                    <div className=\"ch-title-large\">\r\n                      NT_$\r\n                      {+data.c_prod_spe_value === 0\r\n                        ? data.c_prod_value\r\n                        : data.c_prod_spe_value}\r\n                    </div>\r\n                    <div className=\"prod-stock en-title-mid\">PRICE</div>\r\n                  </div>\r\n                  <div className=\"prod-printtime\">\r\n                    <div className=\"ch-title-large\">\r\n                      {data.c_prod_print_time}_SEC\r\n                    </div>\r\n                    <div className=\"prod-print en-title-mid\">PRINT TIME</div>\r\n                  </div>\r\n                  <div className=\"prod-desc\">\r\n                    <div className=\"prod-desc-content ch-content-sm\">\r\n                      {data.c_prod_desc}\r\n                    </div>\r\n                    <div className=\"prod-desc-title en-title-16\">\r\n                      DESCRIPTION\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* 加入購物車 */}\r\n              <div>\r\n                <div className=\"select-add-cart\">\r\n                  <div className=\"select-count\">\r\n                    <button onClick={() => changeCountByMinus()}>-</button>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={buyCount}\r\n                      onChange={e => changeCountByType(+e.target.value)}\r\n                    />\r\n                    <button onClick={() => changeCountByAdd()}>+</button>\r\n                  </div>\r\n                  <button\r\n                    className=\"add-cart btn-sm btn-primary primeal-btn\"\r\n                    onClick={() => {\r\n                      addToCart();\r\n                    }}\r\n                  >\r\n                    加入購物車\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* 商品營養表、材料說明、配送 */}\r\n              <div\r\n                className={\r\n                  isDetail\r\n                    ? 'prod-detail-content-ondetail'\r\n                    : 'prod-detail-content'\r\n                }\r\n              >\r\n                <div className=\"detail-content-top\">\r\n                  <div className=\"nutrition-img\">\r\n                    <div>\r\n                      <div className=\"nutrition-img-box\">\r\n                        <ChartForCs mtls={mtlsForChart} />\r\n                      </div>\r\n                      <div className=\"nutrition-img-box-mobile\">\r\n                        <ChartForCs mtls={materials} />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"material-list\">\r\n                    <div className=\"material-name\">\r\n                      <div className=\"material-name-content ch-title-22\">\r\n                        {selectedMaterial.mtl_name}\r\n                      </div>\r\n                      <div className=\"material-img\">\r\n                        <img\r\n                          src={`http://localhost:3500${selectedMaterial.mtl_img_path}`}\r\n                          alt=\"\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"material-item\">\r\n                      <div className=\"material-content ch-cont-18\">\r\n                        {selectedMaterial.mtl_origin}\r\n                      </div>\r\n                      <div className=\"material-title en-cont-16\">ORIGIN</div>\r\n                    </div>\r\n                    <div className=\"material-item\">\r\n                      <div className=\"material-content ch-cont-18\">\r\n                        {selectedMaterial.mtl_produce_date}\r\n                      </div>\r\n                      <div className=\"material-title en-cont-16\">MFD</div>\r\n                    </div>\r\n                    <div className=\"material-item\">\r\n                      <div className=\"material-content ch-cont-18\">\r\n                        {selectedMaterial.mtl_raw_matrials}\r\n                      </div>\r\n                      <div className=\"material-title en-cont-16\">RM</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"detail-content-bottom\">\r\n                  <div className=\"carrier-type ch-cont-14\">\r\n                    ≪配送類型≫\r\n                    <br />\r\n                    宅急便(冷藏)\r\n                    <br />\r\n                    ※若需要冷凍宅配 ,請幫忙註明。 若冷藏與冷凍商品需一起下單\r\n                    ,將會延長運送時間 ,請先預約。 另外 ,若商品需要變更\r\n                    ,請提前與我們聯繫。\r\n                  </div>\r\n                  <div className=\"expire ch-cont-14\">\r\n                    ≪賞味期限≫\r\n                    <br />\r\n                    冷蔵：出貨後4天\r\n                    <br />\r\n                    冷凍：出貨後一個月\r\n                    <br />\r\n                    <br />\r\n                    ≪保存方法≫\r\n                    <br />\r\n                    冷藏：請保存於4℃\r\n                    <br />\r\n                    冷凍：請保存於-15℃\r\n                  </div>\r\n                  <div className=\"package ch-cont-14\">\r\n                    ≪包裝≫\r\n                    <br />\r\n                    單入 : 印食紙盒裝\r\n                    <br />\r\n                    六入 : 印食便當盒裝\r\n                    <br />\r\n                    <br />\r\n                    ※若需送禮, 請參考印食禮盒\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* 商品詳細資料切換 */}\r\n              <div className=\"detail-toggle-btn\">\r\n                <div\r\n                  className={isDetail ? 'back-btn-ondetail' : 'back-btn'}\r\n                  onClick={() => {\r\n                    setIsDetail(!isDetail);\r\n                  }}\r\n                >\r\n                  <div className=\"back-btn-arrow\">\r\n                    <img\r\n                      src={require('./../../imgs/temp/arrow-left.png')}\r\n                      alt=\"\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"back-btn-text en-title-18\">BACK</div>\r\n                </div>\r\n                <div\r\n                  className={isDetail ? 'detail-btn-ondetail' : 'detail-btn'}\r\n                  onClick={() => {\r\n                    setIsDetail(!isDetail);\r\n                  }}\r\n                >\r\n                  <div className=\"detail-btn-text en-title-18\">DETAIL</div>\r\n                  <div className=\"detail-btn-arrow\">\r\n                    <img\r\n                      src={require('./../../imgs/temp/arrow-right.png')}\r\n                      alt=\"\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* 推薦商品 */}\r\n              <div className=\"recommend\">\r\n                <div className=\"recommend-ch-title ch-title-22\">推薦商品</div>\r\n                <div className=\"recommend-en-title en-title-14-10\">\r\n                  Recommandation\r\n                </div>\r\n              </div>\r\n              <div className=\"recommend-prod-box\">\r\n                {recommends.map((r, i) => {\r\n                  return (\r\n                    //手機版因版型大小會隱藏最後一個推薦商品，因此最後一個需有個特殊class標籤\r\n                    <div\r\n                      className={\r\n                        recommends.length === i + 1\r\n                          ? 'prod-card last-recommend'\r\n                          : 'prod-card'\r\n                      }\r\n                      key={r.pid}\r\n                    >\r\n                      <Link\r\n                        to={`/classic/detail/${r.pid}`}\r\n                        style={{ textDecoration: 'none', color: '#212121' }}\r\n                        onClick={() => {\r\n                          saveHistory(r.pid);\r\n                        }}\r\n                      >\r\n                        <div className=\"recommend-prod-img-box\">\r\n                          {/* 判斷有無特殊tag(xx%off、HOT、NEW) */}\r\n                          {r.c_prod_special_tag === '' ? (\r\n                            ''\r\n                          ) : (\r\n                            <div className=\"discount-tag\">\r\n                              <div className=\"discount-tag-content\">\r\n                                {r.c_prod_special_tag}\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                          <img\r\n                            src={`http://localhost:3500${r.c_prod_img_path}`}\r\n                            alt=\"product-recommend\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"prod-name-ch ch-title-22\">\r\n                          {r.c_prod_ch_name}\r\n                        </div>\r\n                        <div className=\"prod-name-en en-title-14-5\">\r\n                          {r.c_prod_en_name}\r\n                        </div>\r\n                        {r.c_prod_spe_value === 0 ? (\r\n                          <div className=\"prod-price-no-discount\">\r\n                            <div className=\"no-discount ch-cont-16\">\r\n                              NT_{r.c_prod_value}\r\n                            </div>\r\n                          </div>\r\n                        ) : (\r\n                          <div className=\"prod-price-special\">\r\n                            <div className=\"original-price ch-cont-14\">\r\n                              NT_{r.c_prod_value}\r\n                            </div>\r\n                            <div className=\"special-price ch-cont-16\">\r\n                              NT_{r.c_prod_spe_value}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                        {/* <div className=\"prod-price-special\">\r\n                      <div className=\"original-price ch-cont-14\">NT_55</div>\r\n                      <div className=\"special-price ch-cont-16\">NT_45</div>\r\n                    </div>\r\n                    <div className=\"prod-price-no-discount\">\r\n                      <div className=\"no-discount ch-cont-16\">NT_60</div>\r\n                    </div> */}\r\n                      </Link>\r\n                    </div>\r\n                  );\r\n                })}\r\n\r\n                {/* <div className=\"prod-card\">\r\n                <div className=\"recommend-prod-img-box\">\r\n                  <div className=\"discount-tag\">\r\n                    <Discount />\r\n                  </div>\r\n                  <img\r\n                    src={require('./../../imgs/temp/classic-pro4.png')}\r\n                    alt=\"product-recommend\"\r\n                  />\r\n                </div>\r\n                <div className=\"prod-name-ch ch-title-22\">花枝壽司</div>\r\n                <div className=\"prod-name-en en-title-14-5\">Salmon Sushi</div>\r\n                <div className=\"prod-price-special\">\r\n                  <div className=\"original-price ch-cont-14\">NT_55</div>\r\n                  <div className=\"special-price ch-cont-16\">NT_45</div>\r\n                </div>\r\n                <div className=\"prod-price-no-discount\">\r\n                  <div className=\"no-discount ch-cont-16\">NT_60</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"prod-card\">\r\n                <div className=\"recommend-prod-img-box\">\r\n                  <div className=\"discount-tag\">\r\n                    <Discount />\r\n                  </div>\r\n                  <img\r\n                    src={require('./../../imgs/temp/classic-pro1.png')}\r\n                    alt=\"product-recommend\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"prod-name-ch ch-title-22\">鮭魚壽司</div>\r\n                <div className=\"prod-name-en en-title-14-5\">Salmon Sushi</div>\r\n\r\n                <div className=\"prod-price-special\">\r\n                  <div className=\"original-price ch-cont-14\">NT_60</div>\r\n                  <div className=\"special-price ch-cont-16\">NT_50</div>\r\n                </div>\r\n\r\n                <div className=\"prod-price-no-discount\">\r\n                  <div className=\"no-discount ch-cont-16\">NT_60</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"prod-card last-recommend\">\r\n                <div className=\"recommend-prod-img-box\">\r\n                  <div className=\"discount-tag\">\r\n                    <Discount />\r\n                  </div>\r\n                  <img\r\n                    src={require('./../../imgs/temp/classic-pro2.png')}\r\n                    alt=\"product-recommend\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"prod-name-ch ch-title-22\">海膽壽司</div>\r\n                <div className=\"prod-name-en en-title-14-5\">Salmon Sushi</div>\r\n\r\n                <div className=\"prod-price-special\">\r\n                  <div className=\"original-price ch-cont-14\">NT_75</div>\r\n                  <div className=\"special-price ch-cont-16\">NT_70</div>\r\n                </div>\r\n\r\n                <div className=\"prod-price-no-discount\">\r\n                  <div className=\"no-discount ch-cont-16\">NT_60</div>\r\n                </div>\r\n              </div> */}\r\n              </div>\r\n\r\n              {/* 相關分享 */}\r\n              <div className=\"share\">\r\n                <div className=\"recommend-ch-title ch-title-22\">相關分享</div>\r\n                <div className=\"recommend-en-title en-title-14-10\">Share</div>\r\n              </div>\r\n              <div className=\"recommend-prod-box\">\r\n                {share.map((r, i) => {\r\n                  return (\r\n                    //手機版因版型大小會隱藏最後一個推薦商品，因此最後一個需有個特殊class標籤\r\n                    <div\r\n                      className={\r\n                        recommends.length === i + 1\r\n                          ? 'share-card last-recommend'\r\n                          : 'share-card'\r\n                      }\r\n                      key={r.share_item_id}\r\n                    >\r\n                      <Link\r\n                        to={`/share/items/${r.share_item_id}`}\r\n                        style={{ textDecoration: 'none', color: '#212121' }}\r\n                      >\r\n                        <div className=\"share-item-img-box\">\r\n                          <img\r\n                            src={`http://localhost:3500/${r.share_imgPath}`}\r\n                            alt=\"product-recommend\"\r\n                          />\r\n                        </div>\r\n                      </Link>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            <Footer />\r\n          </div>\r\n          <AsideRight\r\n            setNavIsOpen={setNavIsOpen}\r\n            changeCartCount={changeCartCount}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Detail;\r\n"]},"metadata":{},"sourceType":"module"}