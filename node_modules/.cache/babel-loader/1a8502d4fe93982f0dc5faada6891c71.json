{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.QRCode = void 0;\n\nvar isEqual = require(\"lodash.isequal\");\n\nvar qrGenerator = require(\"qrcode-generator\");\n\nvar React = require(\"react\");\n\nvar ReactDOM = require(\"react-dom\");\n\nvar QRCode =\n/** @class */\nfunction (_super) {\n  __extends(QRCode, _super);\n\n  function QRCode(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.canvas = React.createRef();\n    return _this;\n  }\n\n  QRCode.utf16to8 = function (str) {\n    var out = '',\n        i,\n        c;\n    var len = str.length;\n\n    for (i = 0; i < len; i++) {\n      c = str.charCodeAt(i);\n\n      if (c >= 0x0001 && c <= 0x007F) {\n        out += str.charAt(i);\n      } else if (c > 0x07FF) {\n        out += String.fromCharCode(0xE0 | c >> 12 & 0x0F);\n        out += String.fromCharCode(0x80 | c >> 6 & 0x3F);\n        out += String.fromCharCode(0x80 | c >> 0 & 0x3F);\n      } else {\n        out += String.fromCharCode(0xC0 | c >> 6 & 0x1F);\n        out += String.fromCharCode(0x80 | c >> 0 & 0x3F);\n      }\n    }\n\n    return out;\n  };\n  /**\n   * Draw a rounded square in the canvas\n   */\n\n\n  QRCode.prototype.drawRoundedSquare = function (lineWidth, x, y, size, radii, fill, ctx) {\n    ctx.lineWidth = lineWidth; // Adjust coordinates so that the outside of the stroke is aligned to the edges\n\n    y += lineWidth / 2;\n    x += lineWidth / 2;\n    size -= lineWidth;\n\n    if (!Array.isArray(radii)) {\n      radii = [radii, radii, radii, radii];\n    } // Radius should not be greater than half the size or less than zero\n\n\n    radii = radii.map(function (r) {\n      r = Math.min(r, size / 2);\n      return r < 0 ? 0 : r;\n    });\n    var rTopLeft = radii[0] || 0;\n    var rTopRight = radii[1] || 0;\n    var rBottomRight = radii[2] || 0;\n    var rBottomLeft = radii[3] || 0;\n    ctx.beginPath();\n    ctx.moveTo(x + rTopLeft, y);\n    ctx.lineTo(x + size - rTopRight, y);\n    if (rTopRight) ctx.quadraticCurveTo(x + size, y, x + size, y + rTopRight);\n    ctx.lineTo(x + size, y + size - rBottomRight);\n    if (rBottomRight) ctx.quadraticCurveTo(x + size, y + size, x + size - rBottomRight, y + size);\n    ctx.lineTo(x + rBottomLeft, y + size);\n    if (rBottomLeft) ctx.quadraticCurveTo(x, y + size, x, y + size - rBottomLeft);\n    ctx.lineTo(x, y + rTopLeft);\n    if (rTopLeft) ctx.quadraticCurveTo(x, y, x + rTopLeft, y);\n    ctx.closePath();\n    ctx.stroke();\n\n    if (fill) {\n      ctx.fill();\n    }\n  };\n  /**\n   * Draw a single positional pattern eye.\n   */\n\n\n  QRCode.prototype.drawPositioningPattern = function (ctx, cellSize, offset, row, col, radii) {\n    if (radii === void 0) {\n      radii = [0, 0, 0, 0];\n    }\n\n    var lineWidth = Math.ceil(cellSize);\n    var radiiOuter;\n    var radiiInner;\n\n    if (typeof radii !== 'number' && !Array.isArray(radii)) {\n      radiiOuter = radii.outer || 0;\n      radiiInner = radii.inner || 0;\n    } else {\n      radiiOuter = radii;\n      radiiInner = radiiOuter;\n    }\n\n    var y = row * cellSize + offset;\n    var x = col * cellSize + offset;\n    var size = cellSize * 7; // Outer box\n\n    this.drawRoundedSquare(lineWidth, x, y, size, radiiOuter, false, ctx); // Inner box\n\n    size = cellSize * 3;\n    y += cellSize * 2;\n    x += cellSize * 2;\n    this.drawRoundedSquare(lineWidth, x, y, size, radiiInner, true, ctx);\n  };\n\n  ;\n  /**\n   * Is this dot inside a positional pattern zone.\n   */\n\n  QRCode.prototype.isInPositioninZone = function (col, row, zones) {\n    return zones.some(function (zone) {\n      return row >= zone.row && row <= zone.row + 7 && col >= zone.col && col <= zone.col + 7;\n    });\n  };\n\n  QRCode.prototype.transformPixelLengthIntoNumberOfCells = function (pixelLength, cellSize) {\n    return pixelLength / cellSize;\n  };\n\n  QRCode.prototype.isCoordinateInImage = function (col, row, dWidthLogo, dHeightLogo, dxLogo, dyLogo, cellSize, logoImage) {\n    if (logoImage) {\n      var numberOfCellsMargin = 2;\n      var firstRowOfLogo = this.transformPixelLengthIntoNumberOfCells(dxLogo, cellSize);\n      var firstColumnOfLogo = this.transformPixelLengthIntoNumberOfCells(dyLogo, cellSize);\n      var logoWidthInCells = this.transformPixelLengthIntoNumberOfCells(dWidthLogo, cellSize) - 1;\n      var logoHeightInCells = this.transformPixelLengthIntoNumberOfCells(dHeightLogo, cellSize) - 1;\n      return row >= firstRowOfLogo - numberOfCellsMargin && row <= firstRowOfLogo + logoWidthInCells + numberOfCellsMargin // check rows\n      && col >= firstColumnOfLogo - numberOfCellsMargin && col <= firstColumnOfLogo + logoHeightInCells + numberOfCellsMargin; // check cols\n    } else {\n      return false;\n    }\n  };\n\n  QRCode.prototype.shouldComponentUpdate = function (nextProps) {\n    return !isEqual(this.props, nextProps);\n  };\n\n  QRCode.prototype.componentDidMount = function () {\n    this.update();\n  };\n\n  QRCode.prototype.componentDidUpdate = function () {\n    this.update();\n  };\n\n  QRCode.prototype.update = function () {\n    var _a = this.props,\n        value = _a.value,\n        ecLevel = _a.ecLevel,\n        enableCORS = _a.enableCORS,\n        size = _a.size,\n        quietZone = _a.quietZone,\n        bgColor = _a.bgColor,\n        fgColor = _a.fgColor,\n        logoImage = _a.logoImage,\n        logoWidth = _a.logoWidth,\n        logoHeight = _a.logoHeight,\n        logoOpacity = _a.logoOpacity,\n        removeQrCodeBehindLogo = _a.removeQrCodeBehindLogo,\n        qrStyle = _a.qrStyle,\n        eyeRadius = _a.eyeRadius;\n    var qrCode = qrGenerator(0, ecLevel);\n    qrCode.addData(QRCode.utf16to8(value));\n    qrCode.make();\n    var canvas = ReactDOM.findDOMNode(this.canvas.current);\n    var ctx = canvas.getContext('2d');\n    var canvasSize = +size + 2 * +quietZone;\n    var length = qrCode.getModuleCount();\n    var cellSize = size / length;\n    var scale = window.devicePixelRatio || 1;\n    canvas.height = canvas.width = canvasSize * scale;\n    ctx.scale(scale, scale);\n    ctx.fillStyle = bgColor;\n    ctx.fillRect(0, 0, canvasSize, canvasSize);\n    var offset = +quietZone;\n    var dWidthLogo = logoWidth || size * 0.2;\n    var dHeightLogo = logoHeight || dWidthLogo;\n    var dxLogo = (size - dWidthLogo) / 2;\n    var dyLogo = (size - dHeightLogo) / 2;\n    var positioningZones = [{\n      row: 0,\n      col: 0\n    }, {\n      row: 0,\n      col: length - 7\n    }, {\n      row: length - 7,\n      col: 0\n    }];\n    ctx.strokeStyle = fgColor;\n\n    if (qrStyle === 'dots') {\n      ctx.fillStyle = fgColor;\n      var radius = cellSize / 2;\n\n      for (var row = 0; row < length; row++) {\n        for (var col = 0; col < length; col++) {\n          if (qrCode.isDark(row, col) && !this.isInPositioninZone(row, col, positioningZones) && !(removeQrCodeBehindLogo && this.isCoordinateInImage(row, col, dWidthLogo, dHeightLogo, dxLogo, dyLogo, cellSize, logoImage))) {\n            ctx.beginPath();\n            ctx.arc(Math.round(col * cellSize) + radius + offset, Math.round(row * cellSize) + radius + offset, radius / 100 * 75, 0, 2 * Math.PI, false);\n            ctx.closePath();\n            ctx.fill();\n          }\n        }\n      }\n    } else {\n      for (var row = 0; row < length; row++) {\n        for (var col = 0; col < length; col++) {\n          if (qrCode.isDark(row, col) && !this.isInPositioninZone(row, col, positioningZones) && !(removeQrCodeBehindLogo && this.isCoordinateInImage(row, col, dWidthLogo, dHeightLogo, dxLogo, dyLogo, cellSize, logoImage))) {\n            ctx.fillStyle = fgColor;\n            var w = Math.ceil((col + 1) * cellSize) - Math.floor(col * cellSize);\n            var h = Math.ceil((row + 1) * cellSize) - Math.floor(row * cellSize);\n            ctx.fillRect(Math.round(col * cellSize) + offset, Math.round(row * cellSize) + offset, w, h);\n          }\n        }\n      }\n    } // Draw positioning patterns\n\n\n    for (var i = 0; i < 3; i++) {\n      var _b = positioningZones[i],\n          row = _b.row,\n          col = _b.col;\n      var radii = eyeRadius;\n\n      if (Array.isArray(radii)) {\n        radii = radii[i];\n      }\n\n      if (typeof radii == 'number') {\n        radii = [radii, radii, radii, radii];\n      }\n\n      this.drawPositioningPattern(ctx, cellSize, offset, row, col, radii);\n    }\n\n    if (logoImage) {\n      var image_1 = new Image();\n\n      if (enableCORS) {\n        image_1.crossOrigin = 'Anonymous';\n      }\n\n      image_1.onload = function () {\n        ctx.save();\n        ctx.globalAlpha = logoOpacity;\n        ctx.drawImage(image_1, dxLogo + offset, dyLogo + offset, dWidthLogo, dHeightLogo);\n        ctx.restore();\n      };\n\n      image_1.src = logoImage;\n    }\n  };\n\n  QRCode.prototype.render = function () {\n    var _a;\n\n    var size = +this.props.size + 2 * +this.props.quietZone;\n    return React.createElement('canvas', {\n      id: (_a = this.props.id) !== null && _a !== void 0 ? _a : 'react-qrcode-logo',\n      height: size,\n      width: size,\n      style: {\n        height: size + 'px',\n        width: size + 'px'\n      },\n      ref: this.canvas\n    });\n  };\n\n  QRCode.defaultProps = {\n    value: 'https://reactjs.org/',\n    ecLevel: 'M',\n    enableCORS: false,\n    size: 150,\n    quietZone: 10,\n    bgColor: '#FFFFFF',\n    fgColor: '#000000',\n    logoOpacity: 1,\n    removeQrCodeBehindLogo: false,\n    qrStyle: 'squares',\n    eyeRadius: []\n  };\n  return QRCode;\n}(React.Component);\n\nexports.QRCode = QRCode;","map":{"version":3,"sources":["C:/Users/ryany/OneDrive/桌面/primeal/node_modules/react-qrcode-logo/dist/index.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","QRCode","isEqual","require","qrGenerator","React","ReactDOM","_super","props","_this","call","canvas","createRef","utf16to8","str","out","i","c","len","length","charCodeAt","charAt","String","fromCharCode","drawRoundedSquare","lineWidth","x","y","size","radii","fill","ctx","isArray","map","r","Math","min","rTopLeft","rTopRight","rBottomRight","rBottomLeft","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","stroke","drawPositioningPattern","cellSize","offset","row","col","ceil","radiiOuter","radiiInner","outer","inner","isInPositioninZone","zones","some","zone","transformPixelLengthIntoNumberOfCells","pixelLength","isCoordinateInImage","dWidthLogo","dHeightLogo","dxLogo","dyLogo","logoImage","numberOfCellsMargin","firstRowOfLogo","firstColumnOfLogo","logoWidthInCells","logoHeightInCells","shouldComponentUpdate","nextProps","componentDidMount","update","componentDidUpdate","_a","ecLevel","enableCORS","quietZone","bgColor","fgColor","logoWidth","logoHeight","logoOpacity","removeQrCodeBehindLogo","qrStyle","eyeRadius","qrCode","addData","make","findDOMNode","current","getContext","canvasSize","getModuleCount","scale","window","devicePixelRatio","height","width","fillStyle","fillRect","positioningZones","strokeStyle","radius","isDark","arc","round","PI","w","floor","h","_b","image_1","Image","crossOrigin","onload","save","globalAlpha","drawImage","restore","src","render","createElement","id","style","ref","defaultProps","Component"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QRCode = void 0;\nvar isEqual = require(\"lodash.isequal\");\nvar qrGenerator = require(\"qrcode-generator\");\nvar React = require(\"react\");\nvar ReactDOM = require(\"react-dom\");\nvar QRCode = /** @class */ (function (_super) {\n    __extends(QRCode, _super);\n    function QRCode(props) {\n        var _this = _super.call(this, props) || this;\n        _this.canvas = React.createRef();\n        return _this;\n    }\n    QRCode.utf16to8 = function (str) {\n        var out = '', i, c;\n        var len = str.length;\n        for (i = 0; i < len; i++) {\n            c = str.charCodeAt(i);\n            if ((c >= 0x0001) && (c <= 0x007F)) {\n                out += str.charAt(i);\n            }\n            else if (c > 0x07FF) {\n                out += String.fromCharCode(0xE0 | ((c >> 12) & 0x0F));\n                out += String.fromCharCode(0x80 | ((c >> 6) & 0x3F));\n                out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));\n            }\n            else {\n                out += String.fromCharCode(0xC0 | ((c >> 6) & 0x1F));\n                out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));\n            }\n        }\n        return out;\n    };\n    /**\n     * Draw a rounded square in the canvas\n     */\n    QRCode.prototype.drawRoundedSquare = function (lineWidth, x, y, size, radii, fill, ctx) {\n        ctx.lineWidth = lineWidth;\n        // Adjust coordinates so that the outside of the stroke is aligned to the edges\n        y += lineWidth / 2;\n        x += lineWidth / 2;\n        size -= lineWidth;\n        if (!Array.isArray(radii)) {\n            radii = [radii, radii, radii, radii];\n        }\n        // Radius should not be greater than half the size or less than zero\n        radii = radii.map(function (r) {\n            r = Math.min(r, size / 2);\n            return (r < 0) ? 0 : r;\n        });\n        var rTopLeft = radii[0] || 0;\n        var rTopRight = radii[1] || 0;\n        var rBottomRight = radii[2] || 0;\n        var rBottomLeft = radii[3] || 0;\n        ctx.beginPath();\n        ctx.moveTo(x + rTopLeft, y);\n        ctx.lineTo(x + size - rTopRight, y);\n        if (rTopRight)\n            ctx.quadraticCurveTo(x + size, y, x + size, y + rTopRight);\n        ctx.lineTo(x + size, y + size - rBottomRight);\n        if (rBottomRight)\n            ctx.quadraticCurveTo(x + size, y + size, x + size - rBottomRight, y + size);\n        ctx.lineTo(x + rBottomLeft, y + size);\n        if (rBottomLeft)\n            ctx.quadraticCurveTo(x, y + size, x, y + size - rBottomLeft);\n        ctx.lineTo(x, y + rTopLeft);\n        if (rTopLeft)\n            ctx.quadraticCurveTo(x, y, x + rTopLeft, y);\n        ctx.closePath();\n        ctx.stroke();\n        if (fill) {\n            ctx.fill();\n        }\n    };\n    /**\n     * Draw a single positional pattern eye.\n     */\n    QRCode.prototype.drawPositioningPattern = function (ctx, cellSize, offset, row, col, radii) {\n        if (radii === void 0) { radii = [0, 0, 0, 0]; }\n        var lineWidth = Math.ceil(cellSize);\n        var radiiOuter;\n        var radiiInner;\n        if (typeof radii !== 'number' && !Array.isArray(radii)) {\n            radiiOuter = radii.outer || 0;\n            radiiInner = radii.inner || 0;\n        }\n        else {\n            radiiOuter = radii;\n            radiiInner = radiiOuter;\n        }\n        var y = (row * cellSize) + offset;\n        var x = (col * cellSize) + offset;\n        var size = cellSize * 7;\n        // Outer box\n        this.drawRoundedSquare(lineWidth, x, y, size, radiiOuter, false, ctx);\n        // Inner box\n        size = cellSize * 3;\n        y += cellSize * 2;\n        x += cellSize * 2;\n        this.drawRoundedSquare(lineWidth, x, y, size, radiiInner, true, ctx);\n    };\n    ;\n    /**\n     * Is this dot inside a positional pattern zone.\n     */\n    QRCode.prototype.isInPositioninZone = function (col, row, zones) {\n        return zones.some(function (zone) { return (row >= zone.row && row <= zone.row + 7 &&\n            col >= zone.col && col <= zone.col + 7); });\n    };\n    QRCode.prototype.transformPixelLengthIntoNumberOfCells = function (pixelLength, cellSize) {\n        return pixelLength / cellSize;\n    };\n    QRCode.prototype.isCoordinateInImage = function (col, row, dWidthLogo, dHeightLogo, dxLogo, dyLogo, cellSize, logoImage) {\n        if (logoImage) {\n            var numberOfCellsMargin = 2;\n            var firstRowOfLogo = this.transformPixelLengthIntoNumberOfCells(dxLogo, cellSize);\n            var firstColumnOfLogo = this.transformPixelLengthIntoNumberOfCells(dyLogo, cellSize);\n            var logoWidthInCells = this.transformPixelLengthIntoNumberOfCells(dWidthLogo, cellSize) - 1;\n            var logoHeightInCells = this.transformPixelLengthIntoNumberOfCells(dHeightLogo, cellSize) - 1;\n            return row >= firstRowOfLogo - numberOfCellsMargin && row <= firstRowOfLogo + logoWidthInCells + numberOfCellsMargin // check rows\n                && col >= firstColumnOfLogo - numberOfCellsMargin && col <= firstColumnOfLogo + logoHeightInCells + numberOfCellsMargin; // check cols\n        }\n        else {\n            return false;\n        }\n    };\n    QRCode.prototype.shouldComponentUpdate = function (nextProps) {\n        return !isEqual(this.props, nextProps);\n    };\n    QRCode.prototype.componentDidMount = function () {\n        this.update();\n    };\n    QRCode.prototype.componentDidUpdate = function () {\n        this.update();\n    };\n    QRCode.prototype.update = function () {\n        var _a = this.props, value = _a.value, ecLevel = _a.ecLevel, enableCORS = _a.enableCORS, size = _a.size, quietZone = _a.quietZone, bgColor = _a.bgColor, fgColor = _a.fgColor, logoImage = _a.logoImage, logoWidth = _a.logoWidth, logoHeight = _a.logoHeight, logoOpacity = _a.logoOpacity, removeQrCodeBehindLogo = _a.removeQrCodeBehindLogo, qrStyle = _a.qrStyle, eyeRadius = _a.eyeRadius;\n        var qrCode = qrGenerator(0, ecLevel);\n        qrCode.addData(QRCode.utf16to8(value));\n        qrCode.make();\n        var canvas = ReactDOM.findDOMNode(this.canvas.current);\n        var ctx = canvas.getContext('2d');\n        var canvasSize = +size + (2 * +quietZone);\n        var length = qrCode.getModuleCount();\n        var cellSize = size / length;\n        var scale = (window.devicePixelRatio || 1);\n        canvas.height = canvas.width = canvasSize * scale;\n        ctx.scale(scale, scale);\n        ctx.fillStyle = bgColor;\n        ctx.fillRect(0, 0, canvasSize, canvasSize);\n        var offset = +quietZone;\n        var dWidthLogo = logoWidth || size * 0.2;\n        var dHeightLogo = logoHeight || dWidthLogo;\n        var dxLogo = ((size - dWidthLogo) / 2);\n        var dyLogo = ((size - dHeightLogo) / 2);\n        var positioningZones = [\n            { row: 0, col: 0 },\n            { row: 0, col: length - 7 },\n            { row: length - 7, col: 0 },\n        ];\n        ctx.strokeStyle = fgColor;\n        if (qrStyle === 'dots') {\n            ctx.fillStyle = fgColor;\n            var radius = cellSize / 2;\n            for (var row = 0; row < length; row++) {\n                for (var col = 0; col < length; col++) {\n                    if (qrCode.isDark(row, col) && !this.isInPositioninZone(row, col, positioningZones) && !(removeQrCodeBehindLogo && this.isCoordinateInImage(row, col, dWidthLogo, dHeightLogo, dxLogo, dyLogo, cellSize, logoImage))) {\n                        ctx.beginPath();\n                        ctx.arc(Math.round(col * cellSize) + radius + offset, Math.round(row * cellSize) + radius + offset, (radius / 100) * 75, 0, 2 * Math.PI, false);\n                        ctx.closePath();\n                        ctx.fill();\n                    }\n                }\n            }\n        }\n        else {\n            for (var row = 0; row < length; row++) {\n                for (var col = 0; col < length; col++) {\n                    if (qrCode.isDark(row, col) && !this.isInPositioninZone(row, col, positioningZones) && !(removeQrCodeBehindLogo && this.isCoordinateInImage(row, col, dWidthLogo, dHeightLogo, dxLogo, dyLogo, cellSize, logoImage))) {\n                        ctx.fillStyle = fgColor;\n                        var w = (Math.ceil((col + 1) * cellSize) - Math.floor(col * cellSize));\n                        var h = (Math.ceil((row + 1) * cellSize) - Math.floor(row * cellSize));\n                        ctx.fillRect(Math.round(col * cellSize) + offset, Math.round(row * cellSize) + offset, w, h);\n                    }\n                }\n            }\n        }\n        // Draw positioning patterns\n        for (var i = 0; i < 3; i++) {\n            var _b = positioningZones[i], row = _b.row, col = _b.col;\n            var radii = eyeRadius;\n            if (Array.isArray(radii)) {\n                radii = radii[i];\n            }\n            if (typeof radii == 'number') {\n                radii = [radii, radii, radii, radii];\n            }\n            this.drawPositioningPattern(ctx, cellSize, offset, row, col, radii);\n        }\n        if (logoImage) {\n            var image_1 = new Image();\n            if (enableCORS) {\n                image_1.crossOrigin = 'Anonymous';\n            }\n            image_1.onload = function () {\n                ctx.save();\n                ctx.globalAlpha = logoOpacity;\n                ctx.drawImage(image_1, dxLogo + offset, dyLogo + offset, dWidthLogo, dHeightLogo);\n                ctx.restore();\n            };\n            image_1.src = logoImage;\n        }\n    };\n    QRCode.prototype.render = function () {\n        var _a;\n        var size = +this.props.size + (2 * +this.props.quietZone);\n        return React.createElement('canvas', {\n            id: (_a = this.props.id) !== null && _a !== void 0 ? _a : 'react-qrcode-logo',\n            height: size,\n            width: size,\n            style: { height: size + 'px', width: size + 'px' },\n            ref: this.canvas\n        });\n    };\n    QRCode.defaultProps = {\n        value: 'https://reactjs.org/',\n        ecLevel: 'M',\n        enableCORS: false,\n        size: 150,\n        quietZone: 10,\n        bgColor: '#FFFFFF',\n        fgColor: '#000000',\n        logoOpacity: 1,\n        removeQrCodeBehindLogo: false,\n        qrStyle: 'squares',\n        eyeRadius: [],\n    };\n    return QRCode;\n}(React.Component));\nexports.QRCode = QRCode;\n"]},"metadata":{},"sourceType":"script"}