{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryany\\\\OneDrive\\\\\\u684C\\u9762\\\\primeal\\\\src\\\\pages\\\\classic\\\\AsideRight.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { ReactComponent as Hamburger } from '../../imgs/hamburger.svg';\nimport { ReactComponent as Cart } from '../../imgs/cart.svg';\nimport { Link } from 'react-router-dom';\nimport config from '../../Config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AsideRight(props) {\n  _s();\n\n  const [memberImg, setMemberImg] = useState('');\n  const [cartCount, setCartCount] = useState(0);\n  const mem_id = localStorage.getItem('mem_id');\n  const [historyList, setHistoryList] = useState([]);\n  const mem_photo = localStorage.getItem('mem_photo');\n  const [isOpenHstory, setIsOpenHstory] = useState(false);\n  const {\n    changeBG,\n    setNavIsOpen\n  } = props;\n  const cart_count = localStorage.getItem('cart_count'); // 登入後會抓取目前購物車內的商品數量\n\n  const openHistory = () => {\n    setIsOpenHstory(!isOpenHstory);\n  };\n\n  useEffect(() => {\n    let history = localStorage.getItem('history');\n\n    if (history != null) {\n      const fetchData = async () => {\n        const historyRes = await fetch(config.GET_HISTORYS + `/${history}`);\n        const historyObj = await historyRes.json();\n        const historyReverseObj = historyObj.rows.reverse(); //後面的歷史資料要先出現\n\n        setHistoryList(historyReverseObj);\n      };\n\n      fetchData();\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"col-lg-3 col-md-3 col-3 p-0 mobile-adj aside-fixed\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aside-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"layout-hamberger-box\",\n          children: /*#__PURE__*/_jsxDEV(Hamburger, {\n            className: \"layout-hamberger\",\n            style: {\n              cursor: 'pointer'\n            },\n            onClick: () => {\n              setNavIsOpen(true);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), mem_id ? /*#__PURE__*/_jsxDEV(Link, {\n          to: '/member',\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"layout-mem-photo-box\",\n            style: {\n              cursor: 'pointer'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: 'http://localhost:3500/img/member/' + '/' + mem_photo,\n              alt: \"member-photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Link, {\n          to: '/member/login',\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"layout-mem-photo-box\",\n            style: {\n              cursor: 'pointer',\n              width: '28px',\n              height: '28px',\n              right: '5%',\n              top: '10%'\n            },\n            children: changeBG ? /*#__PURE__*/_jsxDEV(\"img\", {\n              width: \"100%\",\n              height: \"100%\",\n              src: 'http://localhost:3500/img/home/login.svg',\n              alt: \"member-photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              width: \"100%\",\n              height: \"100%\",\n              src: 'http://localhost:3500/img/home/loginDark.svg',\n              alt: \"member-photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"layout-cart-btn-box\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: '/cart/stepone',\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-icon-add\",\n              children: [/*#__PURE__*/_jsxDEV(Cart, {\n                className: \"layout-cart-btn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this), cart_count > 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                class: \"cart-num \",\n                children: cart_count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 19\n              }, this) : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: isOpenHstory ? 'classic-history-img-list ch-cont-14 openHistoryStyle' : 'classic-history-img-list ch-cont-14 closeHistoryStyle',\n          children: historyList.map((h, i) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/classic/detail/${h.pid}`,\n                style: {\n                  textDecoration: 'none',\n                  color: '#212121'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"classic-history-img-box\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: `http://localhost:3500${h.c_prod_img_path}`,\n                    alt: \"history\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"classic-history-name ch-cont-14\",\n                  children: h.c_prod_ch_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 19\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"classic-history-title ch-cont-14\",\n          onClick: openHistory,\n          children: \"HISTORY\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(AsideRight, \"bXADw1OOhU9ZR+afaP7Y0BiKHms=\");\n\n_c = AsideRight;\nexport default AsideRight;\n\nvar _c;\n\n$RefreshReg$(_c, \"AsideRight\");","map":{"version":3,"sources":["C:/Users/ryany/OneDrive/桌面/primeal/src/pages/classic/AsideRight.js"],"names":["useState","useEffect","ReactComponent","Hamburger","Cart","Link","config","AsideRight","props","memberImg","setMemberImg","cartCount","setCartCount","mem_id","localStorage","getItem","historyList","setHistoryList","mem_photo","isOpenHstory","setIsOpenHstory","changeBG","setNavIsOpen","cart_count","openHistory","history","fetchData","historyRes","fetch","GET_HISTORYS","historyObj","json","historyReverseObj","rows","reverse","cursor","width","height","right","top","map","h","i","pid","textDecoration","color","c_prod_img_path","c_prod_ch_name"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { ReactComponent as Hamburger } from '../../imgs/hamburger.svg';\r\nimport { ReactComponent as Cart } from '../../imgs/cart.svg';\r\nimport { Link } from 'react-router-dom';\r\nimport config from '../../Config';\r\n\r\nfunction AsideRight(props) {\r\n  const [memberImg, setMemberImg] = useState('');\r\n  const [cartCount, setCartCount] = useState(0);\r\n  const mem_id = localStorage.getItem('mem_id');\r\n  const [historyList, setHistoryList] = useState([]);\r\n  const mem_photo = localStorage.getItem('mem_photo');\r\n  const [isOpenHstory, setIsOpenHstory] = useState(false);\r\n  const { changeBG, setNavIsOpen } = props;\r\n  const cart_count = localStorage.getItem('cart_count'); // 登入後會抓取目前購物車內的商品數量\r\n\r\n  const openHistory = () => {\r\n    setIsOpenHstory(!isOpenHstory);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let history = localStorage.getItem('history');\r\n    if (history != null) {\r\n      const fetchData = async () => {\r\n        const historyRes = await fetch(config.GET_HISTORYS + `/${history}`);\r\n        const historyObj = await historyRes.json();\r\n        const historyReverseObj = historyObj.rows.reverse(); //後面的歷史資料要先出現\r\n        setHistoryList(historyReverseObj);\r\n      };\r\n\r\n      fetchData();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <aside className=\"col-lg-3 col-md-3 col-3 p-0 mobile-adj aside-fixed\">\r\n        <div className=\"aside-right\">\r\n          <div className=\"layout-hamberger-box\">\r\n            <Hamburger\r\n              className=\"layout-hamberger\"\r\n              style={{ cursor: 'pointer' }}\r\n              onClick={() => {\r\n                setNavIsOpen(true);\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          {mem_id ? (\r\n            <Link to={'/member'}>\r\n              <div\r\n                className=\"layout-mem-photo-box\"\r\n                style={{ cursor: 'pointer' }}\r\n              >\r\n                <img\r\n                  src={'http://localhost:3500/img/member/' + '/' + mem_photo}\r\n                  alt=\"member-photo\"\r\n                />\r\n              </div>\r\n            </Link>\r\n          ) : (\r\n            <Link to={'/member/login'}>\r\n              <div\r\n                className=\"layout-mem-photo-box\"\r\n                style={{\r\n                  cursor: 'pointer',\r\n                  width: '28px',\r\n                  height: '28px',\r\n                  right: '5%',\r\n                  top: '10%',\r\n                }}\r\n              >\r\n                {changeBG ? (\r\n                  <img\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                    src={'http://localhost:3500/img/home/login.svg'}\r\n                    alt=\"member-photo\"\r\n                  />\r\n                ) : (\r\n                  <img\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                    src={'http://localhost:3500/img/home/loginDark.svg'}\r\n                    alt=\"member-photo\"\r\n                  />\r\n                )}\r\n              </div>\r\n            </Link>\r\n          )}\r\n\r\n          <div className=\"layout-cart-btn-box\">\r\n            <Link to={'/cart/stepone'}>\r\n              <div className=\"cart-icon-add\">\r\n                <Cart className=\"layout-cart-btn\" />\r\n                {cart_count > 0 ? (\r\n                  <span class=\"cart-num \">{cart_count}</span>\r\n                ) : (\r\n                  ''\r\n                )}\r\n              </div>\r\n            </Link>\r\n          </div>\r\n\r\n          {/* 歷史查詢功能 */}\r\n          <div\r\n            className={\r\n              isOpenHstory\r\n                ? 'classic-history-img-list ch-cont-14 openHistoryStyle'\r\n                : 'classic-history-img-list ch-cont-14 closeHistoryStyle'\r\n            }\r\n          >\r\n            {historyList.map((h, i) => {\r\n              return (\r\n                <div key={i}>\r\n                  <Link\r\n                    to={`/classic/detail/${h.pid}`}\r\n                    style={{ textDecoration: 'none', color: '#212121' }}\r\n                  >\r\n                    <div className=\"classic-history-img-box\">\r\n                      <img\r\n                        src={`http://localhost:3500${h.c_prod_img_path}`}\r\n                        alt=\"history\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"classic-history-name ch-cont-14\">\r\n                      {h.c_prod_ch_name}\r\n                    </div>\r\n                  </Link>\r\n                </div>\r\n              );\r\n            })}\r\n            {/* <div>\r\n                    <div className=\"classic-history-img-box\">\r\n                        <img src={`http://localhost:3500/img/classic/applekiwi.png`} alt=\"history\" />\r\n                    </div>\r\n                    <div className=\"classic-history-name ch-cont-14\">鮭魚卵壽司</div>\r\n                </div>\r\n                <div>\r\n                    <div className=\"classic-history-img-box\">\r\n                        <img src={`http://localhost:3500/img/classic/applekiwi.png`} alt=\"history\" />\r\n                    </div>\r\n                    <div className=\"classic-history-name ch-cont-14\">鮭魚卵壽司</div>\r\n                </div>\r\n                <div>\r\n                    <div className=\"classic-history-img-box\">\r\n                        <img src={`http://localhost:3500/img/classic/applekiwi.png`} alt=\"history\" />\r\n                    </div>\r\n                    <div className=\"classic-history-name ch-cont-14\">鮭魚卵壽司</div>\r\n                </div> */}\r\n          </div>\r\n          <div\r\n            className=\"classic-history-title ch-cont-14\"\r\n            onClick={openHistory}\r\n          >\r\n            HISTORY\r\n          </div>\r\n        </div>\r\n      </aside>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AsideRight;\r\n"]},"metadata":{},"sourceType":"module"}