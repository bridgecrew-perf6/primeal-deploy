{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryany\\\\OneDrive\\\\\\u684C\\u9762\\\\primeal\\\\src\\\\pages\\\\chartjs\\\\ChartMem\\\\ChartForMem.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport BarChart from './BarChart';\nimport DoughnutChart from './DoughnutChart';\nimport MtlData from '../MtlData';\nimport nuData from '../nuData';\nimport { chartInfo } from '../../../WebApi';\nimport dataLabel from '../dataLabel';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ChartForMem = () => {\n  _s();\n\n  const [memOrderData, setMemOrderData] = useState();\n  const [memOrderDataAll, setMemOrderDataAll] = useState();\n  const [showChart, setShowChart] = useState(false);\n  const [barData, setBarData] = useState([]);\n  const [doData, setDodata] = useState([]);\n  const mem_id = localStorage.getItem('mem_id');\n  setTimeout(() => {\n    setShowChart(true);\n  }, 300);\n  useEffect(() => {\n    chartInfo(mem_id).then(obj => {\n      setMemOrderData(obj.dataForWeek);\n      setMemOrderDataAll(obj.dataForAll);\n    });\n    const data = dataLabel.map(d => {\n      const colorA = Math.random() * 255;\n      const colorB = Math.random() * 255;\n      const colorC = Math.random() * 255;\n      return {\n        label: d.label,\n        data: memOrderData && memOrderData.map(data => data[d.label]),\n        fill: true,\n        backgroundColor: `rgba(${colorA}, ${colorB}, ${colorC}, 0.4)`,\n        borderColor: `rgb(${colorA}, ${colorB}, ${colorC})`,\n        pointBackgroundColor: `rgb(${colorA}, ${colorB}, ${colorC})`,\n        pointBorderColor: '#fff',\n        pointHoverBackgroundColor: '#fff',\n        pointHoverBorderColor: `rgb(${colorA}, ${colorB}, ${colorC})`\n      };\n    }); // const colorA = Math.random() * 255;\n    // const colorB = Math.random() * 255;\n    // const colorC = Math.random() * 255;\n\n    const doughnutData = [{\n      label: 'label',\n      data: memOrderDataAll && memOrderDataAll.map(d => d.data),\n      fill: true,\n      backgroundColor: ['rgba(220, 231, 117, 0.4)', 'rgba(139, 195, 74,0.4)', 'rgba(77, 208, 225,0.4)', 'rgb(244, 143, 177,0.4)', 'rgba(255, 112, 67,0.4)', 'rgb(141, 110, 99,0.4)'],\n      borderColor: `rgb(120, 144, 156)`,\n      pointBackgroundColor: `rgb(0, 255, 0)`,\n      pointBorderColor: '#fff',\n      pointHoverBackgroundColor: '#fff',\n      pointHoverBorderColor: `rgb(0, 0, 255)`\n    }];\n    setDodata(doughnutData);\n    setBarData(data);\n  }, [showChart]);\n  const [weekData, setWeekData] = useState({\n    labels: memOrderData && memOrderData.map(v => v.data),\n    datasets: barData\n  });\n  const [allData, setAllData] = useState({\n    maintainAspectRatio: false,\n    responsive: false,\n    labels: memOrderDataAll && memOrderDataAll.map(v => v.label),\n    datasets: doData\n  });\n  useEffect(() => {\n    setWeekData({\n      labels: memOrderData && memOrderData.map(data => data.label),\n      datasets: barData\n    });\n    setAllData({\n      maintainAspectRatio: false,\n      responsive: false,\n      labels: memOrderDataAll && memOrderDataAll.map(v => v.label),\n      datasets: doData\n    });\n  }, [memOrderData]);\n  const [options, setOptions] = useState({\n    legend: {\n      position: 'bottom',\n      display: false,\n      labels: {\n        fontColor: 'rgb(60, 180, 100)',\n        fontSize: 30\n      }\n    },\n    title: {\n      display: true,\n      text: 'Chart.js Radar Chart'\n    },\n    elements: {\n      line: {\n        borderWidth: 1\n      }\n    },\n    scale: {\n      r: {\n        beginAtZero: true,\n        min: 0,\n        max: 50\n      },\n      // angleLines: {\n      //   color: \"rgba(255, 255, 255, .3)\",\n      //   lineWidth: 1\n      // },\n      // gridLines: {\n      //   color: \"rgba(255, 255, 255, .3)\",\n      //   circular: true\n      // },\n      ticks: {\n        min: 0,\n        max: 50,\n        stepSize: 10,\n        showLabelBackdrop: false,\n        backdropColor: 'rgba(203, 197, 11, 1)'\n      }\n    },\n    plugins: {\n      font: {\n        weight: 'bold',\n        size: '18'\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex px-3 my-5 py-5 justify-content-around\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '600px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ch-title-18 memChartT\",\n        children: \"\\u9031\\u651D\\u53D6\\u71DF\\u990A\\u7D20\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BarChart, {\n        chartData: weekData,\n        options: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '400px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ch-title-18 memChartT\",\n        children: \"\\u6708\\u651D\\u53D6\\u71DF\\u990A\\u7D20\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(DoughnutChart, {\n        chartData: allData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ChartForMem, \"p7DF0Pm+Q831Hoo+8jeeS9FSnJU=\");\n\n_c = ChartForMem;\nexport default ChartForMem;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChartForMem\");","map":{"version":3,"sources":["C:/Users/ryany/OneDrive/桌面/primeal/src/pages/chartjs/ChartMem/ChartForMem.js"],"names":["React","useEffect","useState","BarChart","DoughnutChart","MtlData","nuData","chartInfo","dataLabel","ChartForMem","memOrderData","setMemOrderData","memOrderDataAll","setMemOrderDataAll","showChart","setShowChart","barData","setBarData","doData","setDodata","mem_id","localStorage","getItem","setTimeout","then","obj","dataForWeek","dataForAll","data","map","d","colorA","Math","random","colorB","colorC","label","fill","backgroundColor","borderColor","pointBackgroundColor","pointBorderColor","pointHoverBackgroundColor","pointHoverBorderColor","doughnutData","weekData","setWeekData","labels","v","datasets","allData","setAllData","maintainAspectRatio","responsive","options","setOptions","legend","position","display","fontColor","fontSize","title","text","elements","line","borderWidth","scale","r","beginAtZero","min","max","ticks","stepSize","showLabelBackdrop","backdropColor","plugins","font","weight","size","width"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport BarChart from './BarChart';\r\nimport DoughnutChart from './DoughnutChart';\r\nimport MtlData from '../MtlData';\r\nimport nuData from '../nuData';\r\nimport { chartInfo } from '../../../WebApi';\r\nimport dataLabel from '../dataLabel';\r\n\r\nconst ChartForMem = () => {\r\n  const [memOrderData, setMemOrderData] = useState();\r\n  const [memOrderDataAll, setMemOrderDataAll] = useState();\r\n  const [showChart, setShowChart] = useState(false);\r\n  const [barData, setBarData] = useState([]);\r\n  const [doData, setDodata] = useState([]);\r\n  const mem_id = localStorage.getItem('mem_id');\r\n\r\n  setTimeout(() => {\r\n    setShowChart(true);\r\n  }, 300);\r\n\r\n  useEffect(() => {\r\n    chartInfo(mem_id).then(obj => {\r\n      setMemOrderData(obj.dataForWeek);\r\n      setMemOrderDataAll(obj.dataForAll);\r\n    });\r\n\r\n    const data = dataLabel.map(d => {\r\n      const colorA = Math.random() * 255;\r\n      const colorB = Math.random() * 255;\r\n      const colorC = Math.random() * 255;\r\n\r\n      return {\r\n        label: d.label,\r\n        data: memOrderData && memOrderData.map(data => data[d.label]),\r\n        fill: true,\r\n        backgroundColor: `rgba(${colorA}, ${colorB}, ${colorC}, 0.4)`,\r\n        borderColor: `rgb(${colorA}, ${colorB}, ${colorC})`,\r\n        pointBackgroundColor: `rgb(${colorA}, ${colorB}, ${colorC})`,\r\n        pointBorderColor: '#fff',\r\n        pointHoverBackgroundColor: '#fff',\r\n        pointHoverBorderColor: `rgb(${colorA}, ${colorB}, ${colorC})`,\r\n      };\r\n    });\r\n    // const colorA = Math.random() * 255;\r\n    // const colorB = Math.random() * 255;\r\n    // const colorC = Math.random() * 255;\r\n\r\n    const doughnutData = [\r\n      {\r\n        label: 'label',\r\n        data: memOrderDataAll && memOrderDataAll.map(d => d.data),\r\n        fill: true,\r\n        backgroundColor: [\r\n          'rgba(220, 231, 117, 0.4)',\r\n          'rgba(139, 195, 74,0.4)',\r\n          'rgba(77, 208, 225,0.4)',\r\n          'rgb(244, 143, 177,0.4)',\r\n          'rgba(255, 112, 67,0.4)',\r\n          'rgb(141, 110, 99,0.4)',\r\n        ],\r\n        borderColor: `rgb(120, 144, 156)`,\r\n        pointBackgroundColor: `rgb(0, 255, 0)`,\r\n        pointBorderColor: '#fff',\r\n        pointHoverBackgroundColor: '#fff',\r\n        pointHoverBorderColor: `rgb(0, 0, 255)`,\r\n      },\r\n    ];\r\n\r\n    setDodata(doughnutData);\r\n    setBarData(data);\r\n  }, [showChart]);\r\n\r\n  const [weekData, setWeekData] = useState({\r\n    labels: memOrderData && memOrderData.map(v => v.data),\r\n    datasets: barData,\r\n  });\r\n\r\n  const [allData, setAllData] = useState({\r\n    maintainAspectRatio: false,\r\n    responsive: false,\r\n    labels: memOrderDataAll && memOrderDataAll.map(v => v.label),\r\n    datasets: doData,\r\n  });\r\n\r\n  useEffect(() => {\r\n    setWeekData({\r\n      labels: memOrderData && memOrderData.map(data => data.label),\r\n      datasets: barData,\r\n    });\r\n\r\n    setAllData({\r\n      maintainAspectRatio: false,\r\n      responsive: false,\r\n      labels: memOrderDataAll && memOrderDataAll.map(v => v.label),\r\n      datasets: doData,\r\n    });\r\n  }, [memOrderData]);\r\n\r\n  const [options, setOptions] = useState({\r\n    legend: {\r\n      position: 'bottom',\r\n      display: false,\r\n      labels: {\r\n        fontColor: 'rgb(60, 180, 100)',\r\n        fontSize: 30,\r\n      },\r\n    },\r\n    title: {\r\n      display: true,\r\n      text: 'Chart.js Radar Chart',\r\n    },\r\n    elements: {\r\n      line: {\r\n        borderWidth: 1,\r\n      },\r\n    },\r\n    scale: {\r\n      r: {\r\n        beginAtZero: true,\r\n        min: 0,\r\n        max: 50,\r\n      },\r\n      // angleLines: {\r\n      //   color: \"rgba(255, 255, 255, .3)\",\r\n      //   lineWidth: 1\r\n      // },\r\n      // gridLines: {\r\n      //   color: \"rgba(255, 255, 255, .3)\",\r\n      //   circular: true\r\n      // },\r\n      ticks: {\r\n        min: 0,\r\n        max: 50,\r\n        stepSize: 10,\r\n        showLabelBackdrop: false,\r\n        backdropColor: 'rgba(203, 197, 11, 1)',\r\n      },\r\n    },\r\n    plugins: {\r\n      font: {\r\n        weight: 'bold',\r\n        size: '18',\r\n      },\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div className=\"d-flex px-3 my-5 py-5 justify-content-around\">\r\n      <div style={{ width: '600px' }}>\r\n        <p className='ch-title-18 memChartT'>週攝取營養素</p>\r\n        <BarChart chartData={weekData} options={options} />\r\n      </div>\r\n      <div style={{ width: '400px' }}>\r\n      <p className='ch-title-18 memChartT'>月攝取營養素</p>\r\n        <DoughnutChart chartData={allData} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChartForMem;\r\n"]},"metadata":{},"sourceType":"module"}